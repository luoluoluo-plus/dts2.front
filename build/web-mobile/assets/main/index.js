window.__require=function t(e,i,o){function n(a,s){if(!i[a]){if(!e[a]){var l=a.split("/");if(l=l[l.length-1],!e[l]){var c="function"==typeof __require&&__require;if(!s&&c)return c(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){return n(e[a][1][t]||t)},h,h.exports,t,e,i,o)}return i[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)n(o[a]);return n}({AccountModel:[function(t,e,i){"use strict";cc._RF.push(e,"3c2eahU8V5Lg7AKNTIS3es/","AccountModel"),Object.defineProperty(i,"__esModule",{value:!0});const o=t("../framework/model/IDataModel"),n=t("./GameDataCenter");i.default=class extends o.default{constructor(){super("account"),this.avatar="",this.sex="",this.balance="",this.nickName="",this.uid=0,this.status=0,this.players=new Map,this.roomPlayers=new Map,this.noMoreJilu=!1,this.myRankNo="",this.lastRankNo="",this.thisRankNo="",this.myRankNum="",this.lastRankNum="",this.thisRankNum="",this.language=""}get token(){return this.Query("token","")}set token(t){this.Set("token",t),this.Save()}login(t){var e={channel_id:t.channel_id,channel_user_id:t.channel_user_id,sex:parseInt(t.sex),nickname:t.nickname};this.postHttpMsg("/client/user/login",e,function(t){let e=t.data;console.log("\u767b\u5f55\u63a5\u53e3\u56de\u8c03",e)}.bind(this))}records(){var t={room_type:n.default.roomInfoModel.roomType};return new Promise(e=>{this.postHttpMsg("/client/game/records",t,function(t){let i=t.data;console.log("\u8fd110\u5c40\u6e38\u620f\u88ab\u6740\u7edf\u8ba1",i);var o={type:2,list:i.games};e(o)}.bind(this))})}kill_room_statistics(){var t={room_type:n.default.roomInfoModel.roomType};return new Promise(e=>{this.postHttpMsg("/client/game/kill_room_statistics",t,function(t){let i=t.data;console.log("\u8fd1\u4e00\u767e\u5c40\u6e38\u620f\u88ab\u6740\u7edf\u8ba1",i);var o={type:1,list:i.rooms};e(o)}.bind(this))})}game_record_statistic(){var t={room_type:n.default.roomInfoModel.roomType};return new Promise(e=>{this.postHttpMsg("/client/user/game_record_statistic",t,function(t){console.log("\u83b7\u53d6\u6e38\u620f\u4e0b\u6ce8\u8bb0\u5f55",t);let i=t.data;var o={type:3,betting_total:i.in_amount,result_total:i.reward_amount};e(o)}.bind(this))})}getBettingLog(t){var e={room_type:n.default.roomInfoModel.roomType,page:t,page_size:20};return new Promise(t=>{this.noMoreJilu?t([]):this.postHttpMsg("/client/user/records",e,function(e){console.log("\u83b7\u53d6\u6e38\u620f\u4e0b\u6ce8\u8bb0\u5f55",e);let i=e.data,o=[];for(let t of i.list){let e={type:4,user:t};o.push(e)}o.length<20&&(this.noMoreJilu||(this.noMoreJilu=!0,o.push({type:5}))),t(o)}.bind(this))})}getRank(){var t={room_type:n.default.roomInfoModel.roomType};return new Promise(e=>{this.postHttpMsg("game/v1/getRank",t,t=>{let i=t.data;this.lastRankNum=i.last_rank_num,this.myRankNum=this.thisRankNum=i.this_rank_num,this.lastRankNo=0==i.last_rank_no?"zh"==n.default.accountModel.language?"\u672a\u4e0a\u699c":"Not on the list":String(i.last_rank_no),this.myRankNo=this.thisRankNo=0==i.this_rank_no?"zh"==n.default.accountModel.language?"\u672a\u4e0a\u699c":"Not on the list":String(i.this_rank_no),e(i)})})}clearRoomPlayers(){for(let t=0;t<=8;t++)this.roomPlayers.set(t,new Map)}},cc._RF.pop()},{"../framework/model/IDataModel":"IDataModel","./GameDataCenter":"GameDataCenter"}],AudioMng:[function(t,e,i){"use strict";cc._RF.push(e,"25184GQZEZA5Ko1i1kEBCHL","AudioMng"),Object.defineProperty(i,"__esModule",{value:!0}),i.AudioMng=i.audioCnf=i.AudioCnf=void 0;const o=t("../component/ViewModel"),n=t("../model/ISerialize"),r=t("../../utils/Log");class a extends n.default{constructor(){super("audiocnf"),this.click=!0,this.bgm=!0,this.click=this.Query("click",!0),this.bgm=this.Query("bgm",!0),this.Set("click",this.click),this.Set("bgm",this.bgm),this.Save()}}i.AudioCnf=a,i.audioCnf=new a,o.VM.add(i.audioCnf,"audiocnf");class s{constructor(){this.musicid="",o.VM.bindPath("audiocnf.click",this.onValueChangedClick,this),o.VM.bindPath("audiocnf.bgm",this.onValueChangedBGM,this)}static getInstance(){return this.instance||(this.instance=new s),this.instance}onValueChangedClick(t,e,n){o.VM.getValue("audiocnf.click"),i.audioCnf.Set("click",t),i.audioCnf.Save()}onValueChangedBGM(t,e,o){i.audioCnf.Set("bgm",t),t?this.playBGM():this.stopBGM(),i.audioCnf.Save()}playSFX(t,e=0){0!=i.audioCnf.click&&cc.loader.loadRes("sounds/"+t,cc.Asset,function(i){if(i)return void r.Log.log(i);let o=cc.loader.getRes("sounds/"+t,cc.Asset);var n=cc.audioEngine.play(o,!1,1);e&&cc.audioEngine.setCurrentTime(n,e)}.bind(this))}initBgm(){o.VM.getValue("audiocnf.bgm")&&this.playBGM()}playBGM(t=null){var e=this;cc.loader.loadRes("sounds/bgm",cc.Asset,function(i){if(i)return void r.Log.log(i);let o=cc.loader.getRes("sounds/bgm",cc.Asset);t=t||o,e.stopBGM(),e.musicid=cc.audioEngine.play(t,!0,1)}.bind(this))}playOnlineBGM(t){if(0!=i.audioCnf.bgm){var e=this;cc.loader.load(t,function(t,i){e.stopBGM(),e.musicid=cc.audioEngine.play(i,!0,1)})}}playOnlineSFX(t){0!=i.audioCnf.click&&cc.loader.load(t,function(t,e){cc.audioEngine.play(e,!1,1)})}stopBGM(){cc.audioEngine.stop(this.musicid)}pauseAll(){cc.audioEngine.pauseAll()}resumeAll(){cc.audioEngine.resumeAll()}}i.AudioMng=s,cc._RF.pop()},{"../../utils/Log":"Log","../component/ViewModel":"ViewModel","../model/ISerialize":"ISerialize"}],BaoxiangModel:[function(t,e,i){"use strict";cc._RF.push(e,"f3dcby/6WVBzrmX4iV50HaE","BaoxiangModel"),Object.defineProperty(i,"__esModule",{value:!0});const o=t("../framework/manager/PoolMng"),n=t("../framework/model/IDataModel"),r=t("../logic/ui/scene/UIGame"),a=t("./GameDataCenter"),s=t("../logic/ui/prefab/UIBaoxiang");i.default=class extends n.default{constructor(){super("baoxiang"),this.baoxiangLv=0,this.baoxiangInfo=null,this.node_chestwrap=null,this.node=null}initData(t){console.log("\u83b7\u53d6\u5b9d\u7bb1\u4fe1\u606f",t),this.baoxiangLv=t.type}loadBaoxiangAni(t){var e;this.node_chestwrap=r.default.instance.ui.node_chestwrap;var i=o.PoolMng.instance.getNode(r.default.instance.baoxaingPrefab,r.default.instance.ui.node_chestwrap);this.node=i,console.log("\u52a0\u8f7d\u52a8\u753b\uff0c\u5224\u65ad\u662f\u5426\u5b58\u5728\u5b9d\u7bb1",i.getComponent(s.default)),a.default.chestModel.chests.set(t.type,i.getComponent(s.default)),null===(e=i.getComponent(s.default))||void 0===e||e.initChest(t)}},cc._RF.pop()},{"../framework/manager/PoolMng":"PoolMng","../framework/model/IDataModel":"IDataModel","../logic/ui/prefab/UIBaoxiang":"UIBaoxiang","../logic/ui/scene/UIGame":"UIGame","./GameDataCenter":"GameDataCenter"}],BhvButtonGroup:[function(t,e,i){"use strict";cc._RF.push(e,"dae77D38o5K6bil4yqcbffQ","BhvButtonGroup");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:r,menu:a}=cc._decorator;var s;(function(t){t[t.CHILDREN_INDEX=0]="CHILDREN_INDEX",t[t.CHILDREN_NAME=1]="CHILDREN_NAME"})(s||(s={}));let l=class extends cc.Component{constructor(){super(...arguments),this.transition=cc.Button.Transition.NONE,this.hoverColor=cc.color(255,255,255),this.normalColor=cc.color(214,214,214),this.pressedColor=cc.color(211,211,211),this.disabledColor=cc.color(124,124,124),this.normalSprite=null,this.pressedSprite=null,this.hoverSprite=null,this.disabledSprite=null,this.duration=1,this.zoomScale=1.1,this.paramType=s.CHILDREN_INDEX,this.touchEvents=[]}onLoad(){this.node.children.forEach((t,e)=>{let i=t.getComponent(cc.Button);i||(i=t.addComponent(cc.Button)),i.target=t,i.transition=this.transition,i.zoomScale=this.zoomScale,i.disabledSprite=this.disabledSprite,i.hoverSprite=this.hoverSprite,i.normalSprite=this.normalSprite,i.pressedSprite=this.pressedSprite,i.hoverColor=this.hoverColor,i.normalColor=this.normalColor,i.pressedColor=this.pressedColor,i.disabledColor=this.disabledColor,this.touchEvents.forEach(o=>{let n=new cc.Component.EventHandler;n.target=o.target,n.handler=o.handler,n.component=o.component,n._componentId=o._componentId,this.paramType===s.CHILDREN_INDEX?n.customEventData=e.toString():n.customEventData=t.name,i.clickEvents.push(n)})})}};o([r({type:cc.Enum(cc.Button.Transition)})],l.prototype,"transition",void 0),o([r({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],l.prototype,"hoverColor",void 0),o([r({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],l.prototype,"normalColor",void 0),o([r({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],l.prototype,"pressedColor",void 0),o([r({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],l.prototype,"disabledColor",void 0),o([r({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],l.prototype,"normalSprite",void 0),o([r({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],l.prototype,"pressedSprite",void 0),o([r({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],l.prototype,"hoverSprite",void 0),o([r({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],l.prototype,"disabledSprite",void 0),o([r({visible:function(){return this.transition===cc.Button.Transition.SCALE||this.transition===cc.Button.Transition.COLOR}})],l.prototype,"duration",void 0),o([r({visible:function(){return this.transition===cc.Button.Transition.SCALE}})],l.prototype,"zoomScale",void 0),o([r({type:cc.Enum(s)})],l.prototype,"paramType",void 0),o([r([cc.Component.EventHandler])],l.prototype,"touchEvents",void 0),l=o([n,a("\u6dfb\u52a0\u7279\u6b8a\u884c\u4e3a/Input/Button Group(\u4e00\u7ec4\u6309\u94ae\u63a7\u5236)")],l),i.default=l,cc._RF.pop()},{}],BhvFrameIndex:[function(t,e,i){"use strict";cc._RF.push(e,"f0adbBs8jxLTZq9C/Qbsw08","BhvFrameIndex");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:r,executeInEditMode:a,requireComponent:s,menu:l}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.spriteFrames=[null],this._index=0}get index(){return this._index}set index(t){t<0||(this._index=t%this.spriteFrames.length,this.node.getComponent(cc.Sprite).spriteFrame=this.spriteFrames[this._index])}setName(t){let e=this.spriteFrames.findIndex(e=>e.name==t);e<0&&cc.error("frameIndex \u8bbe\u7f6e\u4e86\u4e0d\u5b58\u5728\u7684name:",t),this.index=e||0}random(t,e){if(!this.spriteFrames)return;let i=this.spriteFrames.length;(null==t||t<0)&&(t=0),(null==e||e>i)&&(e=i),this.index=Math.floor(Math.random()*(e-t)+t)}next(){this.index++}previous(){this.index--}};o([r({type:[cc.SpriteFrame],tooltip:"sprite\u5c06\u4f1a\u7528\u5230\u5e27\u56fe\u7247"})],c.prototype,"spriteFrames",void 0),o([r({tooltip:"\u5f53\u524d\u663e\u793a\u7684\u5e27\u56fe",type:cc.Integer})],c.prototype,"index",null),o([r],c.prototype,"_index",void 0),c=o([n,a,s(cc.Sprite),l("\u6dfb\u52a0\u7279\u6b8a\u884c\u4e3a/UI/Frame Index(\u5e27\u56fe\u6539\u53d8)")],c),i.default=c,cc._RF.pop()},{}],BhvGroupToggle:[function(t,e,i){"use strict";cc._RF.push(e,"68466nNnrlM+6/IPveXpcke","BhvGroupToggle");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:r,menu:a}=cc._decorator;var s;(function(t){t[t.CHILDREN_INDEX=0]="CHILDREN_INDEX",t[t.CHILDREN_NAME=1]="CHILDREN_NAME"})(s||(s={}));let l=class extends cc.Component{constructor(){super(...arguments),this.transition=cc.Toggle.Transition.NONE,this.hoverColor=cc.color(255,255,255),this.normalColor=cc.color(214,214,214),this.pressedColor=cc.color(211,211,211),this.disabledColor=cc.color(124,124,124),this.normalSprite=null,this.pressedSprite=null,this.hoverSprite=null,this.disabledSprite=null,this.duration=1,this.zoomScale=1.1,this.paramType=s.CHILDREN_INDEX,this.touchEvents=[]}onLoad(){this.node.children.forEach((t,e)=>{let i=t.getComponent(cc.Toggle);i||(i=t.addComponent(cc.Toggle)),i.target=t,i.transition=this.transition,i.zoomScale=this.zoomScale,i.disabledSprite=this.disabledSprite,i.hoverSprite=this.hoverSprite,i.normalSprite=this.normalSprite,i.pressedSprite=this.pressedSprite,i.hoverColor=this.hoverColor,i.normalColor=this.normalColor,i.pressedColor=this.pressedColor,i.disabledColor=this.disabledColor,this.touchEvents.forEach(o=>{let n=new cc.Component.EventHandler;n.target=o.target,n.handler=o.handler,n.component=o.component,n._componentId=o._componentId,this.paramType===s.CHILDREN_INDEX?n.customEventData=e.toString():n.customEventData=t.name,i.clickEvents.push(n)})})}};o([r({type:cc.Enum(cc.Toggle.Transition)})],l.prototype,"transition",void 0),o([r({visible:function(){return this.transition===cc.Toggle.Transition.COLOR}})],l.prototype,"hoverColor",void 0),o([r({visible:function(){return this.transition===cc.Toggle.Transition.COLOR}})],l.prototype,"normalColor",void 0),o([r({visible:function(){return this.transition===cc.Toggle.Transition.COLOR}})],l.prototype,"pressedColor",void 0),o([r({visible:function(){return this.transition===cc.Toggle.Transition.COLOR}})],l.prototype,"disabledColor",void 0),o([r({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Toggle.Transition.SPRITE}})],l.prototype,"normalSprite",void 0),o([r({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Toggle.Transition.SPRITE}})],l.prototype,"pressedSprite",void 0),o([r({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Toggle.Transition.SPRITE}})],l.prototype,"hoverSprite",void 0),o([r({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Toggle.Transition.SPRITE}})],l.prototype,"disabledSprite",void 0),o([r({visible:function(){return this.transition===cc.Toggle.Transition.SCALE||this.transition===cc.Toggle.Transition.COLOR}})],l.prototype,"duration",void 0),o([r({visible:function(){return this.transition===cc.Toggle.Transition.SCALE}})],l.prototype,"zoomScale",void 0),o([r({type:cc.Enum(s)})],l.prototype,"paramType",void 0),o([r([cc.Component.EventHandler])],l.prototype,"touchEvents",void 0),l=o([n,a("\u6dfb\u52a0\u7279\u6b8a\u884c\u4e3a/Input/Toggle Group(\u4e00\u7ec4Toggle\u63a7\u5236)")],l),i.default=l,cc._RF.pop()},{}],BhvRollNumber:[function(t,e,i){"use strict";cc._RF.push(e,"39c87s2NPpPz4zl0In9zuDJ","BhvRollNumber");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:r,menu:a}=cc._decorator;var s;(function(t){t[t.INTEGER=0]="INTEGER",t[t.FIXED_2=1]="FIXED_2",t[t.TIMER=2]="TIMER",t[t.PERCENTAGE=3]="PERCENTAGE",t[t.KMBT_FIXED2=4]="KMBT_FIXED2",t[t.CUSTOMER=5]="CUSTOMER"})(s||(s={}));let l=class extends cc.Component{constructor(){super(...arguments),this.label=null,this.value=0,this.showPlusSymbol=!1,this._targetValue=100,this.lerp=.1,this.playAtStart=!0,this.runWaitTimer=0,this.valueType=s.INTEGER,this._custom_callback=null,this.isScrolling=!1,this._lastLabelText=""}get targetValue(){return this._targetValue}set targetValue(t){this._targetValue=t,this.scroll()}onLoad(){null==this.label&&(this.label=this.node.getComponent(cc.Label)),this.playAtStart&&(this.updateLabel(),this.scroll())}scroll(){this.isScrolling||(this.runWaitTimer>0?this.scheduleOnce(()=>{this.isScrolling=!0},this.runWaitTimer):this.isScrolling=!0)}stop(){this.value=this.targetValue,this.isScrolling=!1,this.updateLabel()}init(t,e,i){this.targetValue=e||0,this.value=t||0,this.lerp=i||.1}scrollTo(t){null!=t&&(this.targetValue=t)}updateLabel(){let t=this.value,e="";switch(this.valueType){case s.INTEGER:e=Math.round(t)+"";break;case s.FIXED_2:e=t.toFixed(2);break;case s.TIMER:e=c(t);break;case s.PERCENTAGE:e=Math.round(100*t)+"%";break;case s.KMBT_FIXED2:e=t>=Number.MAX_VALUE?"MAX":t>1e12?(t/1e12).toFixed(2)+"T":t>1e9?(t/1e9).toFixed(2)+"B":t>1e6?(t/1e6).toFixed(2)+"M":t>1e3?(t/1e3).toFixed(2)+"K":Math.round(t).toString();break;case s.CUSTOMER:this._custom_callback&&(e=this._custom_callback(this.value,this.targetValue))}if(this.showPlusSymbol&&(t>0?e="+"+e:t<0&&(e="-"+e)),this.label){if(e===this.label.string)return;this.label.string=e}}update(t){if(0!=this.isScrolling)return this.value=cc.misc.lerp(this.value,this.targetValue,this.lerp),this.updateLabel(),Math.abs(this.value-this.targetValue)<=1e-4?(this.value=this.targetValue,void(this.isScrolling=!1)):void 0}};function c(t=0,e=!0){let i=Math.floor(t),o=Math.floor(i/3600),n=Math.floor(i%3600/60),r=i%60,a=""+n,s=""+r;return r<10&&(s="0"+r),e?(n<10&&(a="0"+n),o+":"+a+":"+s):(a=""+(n+60*o),n<10&&(a="0"+n),a+":"+s)}o([r({type:cc.Label,tooltip:"\u9700\u8981\u6eda\u52a8\u7684 Label \u7ec4\u4ef6,\u5982\u679c\u4e0d\u8fdb\u884c\u8bbe\u7f6e\uff0c\u5c31\u4f1a\u4ece\u81ea\u5df1\u7684\u8282\u70b9\u81ea\u52a8\u67e5\u627e"})],l.prototype,"label",void 0),o([r({tooltip:"\u5f53\u524d\u7684\u6eda\u52a8\u503c(\u5f00\u59cb\u7684\u6eda\u52a8\u503c)"})],l.prototype,"value",void 0),o([r({tooltip:"\u662f\u5426\u663e\u793a\u6b63\u8d1f\u7b26\u53f7"})],l.prototype,"showPlusSymbol",void 0),o([r({tooltip:"\u6eda\u52a8\u7684\u76ee\u6807\u503c"})],l.prototype,"targetValue",null),o([r],l.prototype,"_targetValue",void 0),o([r({tooltip:"\u6eda\u52a8\u7684\u7ebf\u6027\u5dee\u503c",step:.01,max:1,min:0})],l.prototype,"lerp",void 0),o([r({tooltip:"\u662f\u5426\u5728\u5f00\u59cb\u65f6\u5c31\u64ad\u653e"})],l.prototype,"playAtStart",void 0),o([r({tooltip:"\u5728\u6eda\u52a8\u4e4b\u524d\u4f1a\u7b49\u5f85\u51e0\u79d2",step:.1,max:1,min:0})],l.prototype,"runWaitTimer",void 0),o([r({type:cc.Enum(s),tooltip:"\u662f\u5426\u5728\u5f00\u59cb\u65f6\u5c31\u64ad\u653e"})],l.prototype,"valueType",void 0),l=o([n,a("\u6dfb\u52a0\u7279\u6b8a\u884c\u4e3a/UI/Roll Number (\u6eda\u52a8\u6570\u5b57)")],l),i.default=l,cc._RF.pop()},{}],BhvSwitchPage:[function(t,e,i){"use strict";cc._RF.push(e,"e5254b495BMIb5ZD5AQZcBi","BhvSwitchPage");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:r,executeInEditMode:a,menu:s}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.isLoopPage=!1,this._index=0,this.preIndex=0,this._isChanging=!1}get index(){return this._index}set index(t){if(this.isChanging)return;t=Math.round(t);let e=this.node.childrenCount-1;this.isLoopPage?(t>e&&(t=0),t<0&&(t=e)):(t>e&&(t=e),t<0&&(t=0)),this.preIndex=this._index,this._index=t,this._updatePage(t)}get isChanging(){return this._isChanging}onLoad(){this.preIndex=this.index}_updateEditorPage(t){}_updatePage(t){let e=this.node.children,i=this.preIndex,o=this.index;if(i===o)return;let n=e[i],r=e[o];n.active=!1,r.active=!0}next(){return!this.isChanging&&(this.index++,!0)}previous(){return!this.isChanging&&(this.index--,!0)}setEventIndex(t,e){return this.index>=0&&null!=this.index&&!1===this.isChanging&&(this.index=e,!0)}};o([r],l.prototype,"isLoopPage",void 0),o([r],l.prototype,"_index",void 0),o([r({type:cc.Integer})],l.prototype,"index",null),l=o([n,a,s("\u6dfb\u52a0\u7279\u6b8a\u884c\u4e3a/UI/Switch Page (\u5207\u6362\u9875\u9762)")],l),i.default=l,cc._RF.pop()},{}],CenterManager:[function(t,e,i){"use strict";cc._RF.push(e,"7c4408GeyVLYL2nCzl2UIcs","CenterManager");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.CenterManager=void 0;const n=t("../abstract/Manager"),r=t("../define/enum"),a=t("./ScrollManager"),s=t("./ViewManager"),{ccclass:l,property:c}=cc._decorator;let h=class extends n.Manager{constructor(){super(...arguments),this._enabled=!1,this.duration=1,this.containerAnchorPoint=0,this.elementAnchorPoint=0}get enabled(){return this._enabled}set enabled(t){t!=this._enabled&&(this._enabled=t)}get max(){var t=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?t:this.adapter.mainAxisSize-t}get min(){var t=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?this.adapter.mainAxisSize-t:t}getContainerOffset(t=this.containerAnchorPoint){var e;return e=this.adapter.isHorizontal?-1==this.adapter.multiplier?t:1-t:1==this.adapter.multiplier?t:1-t,this.adapter.mainAxisSize*e}getElementOffset(t=this.elementAnchorPoint){return this.adapter.isHorizontal?-1==this.adapter.multiplier?t:1-t:1==this.adapter.multiplier?t:1-t}onInit(){this.adapter.scrollManager.on(a.ScrollManager.Event.ON_ABOUT_TO_STOP,this._onAboutToStop,this),this.adapter.viewManager.on(s.ViewManager.Event.ON_UPDATE_VIEWS,this.scrollToCenter,this,!0)}_onAboutToStop(){this.scrollToCenter()}scrollToCenter(t=this.duration){if(this.enabled){var e=this.getCenterVisibleIndex();if(-1!=e){var i=this.adapter.viewManager.getVisibleView(e);this.adapter.scrollManager.scrollToGroupIndex(t,i.index)}}}getCenterVisibleIndex(t=this.containerAnchorPoint,e=this.elementAnchorPoint){var i=this.adapter.mainAxis,o=this.getContainerOffset(t),n=-1,r=Number.MAX_SAFE_INTEGER;for(let h=0;h<this.adapter.viewManager.visibleLength;h++){const t=this.adapter.viewManager.getVisibleView(h);if(!t||!t.group)break;var a={x:t.group.position.x,y:t.group.position.y};a[i]-=this.adapter.multiplier*t.group.size[i]*e;var s=this.adapter.scrollManager.content.convertToWorldSpaceAR(cc.v3(a.x,a.y)),l=this.adapter.scrollManager.view.convertToNodeSpaceAR(s),c=Math.abs(l[i]+this.adapter.multiplier*o);c<r&&(r=c,n=h)}return n}getPositionByGroupIndex(t,e=r.AlwaysScroll.Auto,i=!1){var o=this.adapter.viewManager.getGroup(t);if(!o)return null;var n=null;if(e==r.AlwaysScroll.Header&&this.adapter.viewManager.loopHeader)i&&(n=this._checkExists(t)),null==n&&(n=this._alwaysHeader(t,o));else if(e==r.AlwaysScroll.Footer&&this.adapter.viewManager.loopFooter)i&&(n=this._checkExists(t)),null==n&&(n=this._alwaysFooter(t,o));else if(null==(n=this._checkExists(t))){var a=this.adapter.viewManager.header,s=this.adapter.viewManager.footer;a?t>s.index?n=this._calcTargetFooter(s.group,s.index+1,t,o):t<a.index&&(n=this._calcTargetHeader(a.group,a.index-1,t,o)):n={position:o.position[this.adapter.mainAxis],size:o.size[this.adapter.mainAxis],anchor:o.anchorPoint[this.adapter.mainAxis]}}return this._convertTargetToPosition(n)}_convertTargetToPosition(t){var e=null;if(t){var i=this.adapter.multiplier,o=-1==i?t.anchor:1-t.anchor;e=-t.position,e-=this.getContainerOffset()*i,e-=t.size*o*i,e+=t.size*this.getElementOffset()*i}return e}_checkExists(t){var e=this.adapter.viewManager.getVisibleIndexByGroupIndex(t);if(-1!=e){let t=this.adapter.viewManager.getVisibleView(e);return{position:t.group.position[this.adapter.mainAxis],size:t.group.size[this.adapter.mainAxis],anchor:t.group.anchorPoint[this.adapter.mainAxis]}}return null}_calcTargetFooter(t,e,i,o){let n=this.adapter.viewManager.internal_getInitFooterSize(t);for(let r=e;r<=i;r++)n+=this.adapter.viewManager.internal_accumulationSize(r);return{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(n,o),size:o.size[this.adapter.mainAxis],anchor:o.anchorPoint[this.adapter.mainAxis]}}_calcTargetHeader(t,e,i,o){let n=this.adapter.viewManager.internal_getInitHeaderSize(t);for(let r=e;r>=i;r--)n+=this.adapter.viewManager.internal_accumulationSize(r);return{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(n,o),size:o.size[this.adapter.mainAxis],anchor:o.anchorPoint[this.adapter.mainAxis]}}_alwaysHeader(t,e){var i=0,o=t,n=this.adapter.viewManager.header;return n&&(i=this.adapter.viewManager.internal_getInitHeaderSize(n.group),o=n.index),t!=o&&(i=this._calcSizeToHeader(o,t,i)),{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(i,e),size:e.size[this.adapter.mainAxis],anchor:e.anchorPoint[this.adapter.mainAxis]}}_alwaysFooter(t,e){var i=0,o=t,n=this.adapter.viewManager.footer;return n&&(i=this.adapter.viewManager.internal_getInitFooterSize(n.group),o=n.index),t!=o&&(i=this._calcSizeToFooter(o,t,i)),{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(i,e),size:e.size[this.adapter.mainAxis],anchor:e.anchorPoint[this.adapter.mainAxis]}}_calcSizeToHeader(t,e,i){for(;;){if(--t<0){if(!this.adapter.viewManager.loopHeader)return i;t=this.adapter.viewManager.groupLength-1}if(i+=this.adapter.viewManager.internal_accumulationSize(t),e==t)return i}}_calcSizeToFooter(t,e,i){for(;;){if(++t>=this.adapter.viewManager.groupLength){if(!this.adapter.viewManager.loopFooter)return i;t=0}if(i+=this.adapter.viewManager.internal_accumulationSize(t),t==e)return i}}};o([c()],h.prototype,"_enabled",void 0),o([c()],h.prototype,"enabled",null),o([c({visible:function(){return this.enabled},tooltip:"\u81ea\u52a8\u5c45\u4e2d\u52a8\u753b\u7684\u65f6\u957f"})],h.prototype,"duration",void 0),o([c({range:[0,1],slide:!0,step:.1,tooltip:"\u5bb9\u5668(view)\u7684\u951a\u70b9,\u5f53\u6eda\u52a8\u505c\u6b62\u65f6,\u5143\u7d20\u951a\u70b9\u4f4d\u7f6e\u4f1a\u548c\u5bb9\u5668\u951a\u70b9\u4f4d\u7f6e\u91cd\u5408"})],h.prototype,"containerAnchorPoint",void 0),o([c({range:[0,1],slide:!0,step:.1,tooltip:"\u5143\u7d20(item)\u7684\u951a\u70b9\u4f4d\u7f6e,\u5f53\u6eda\u52a8\u505c\u6b62\u65f6,\u5143\u7d20\u951a\u70b9\u4f4d\u7f6e\u4f1a\u548c\u5bb9\u5668\u951a\u70b9\u4f4d\u7f6e\u91cd\u5408"})],h.prototype,"elementAnchorPoint",void 0),h=o([l("CenterManager")],h),i.CenterManager=h,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/enum":"enum","./ScrollManager":"ScrollManager","./ViewManager":"ViewManager"}],ChestModel:[function(t,e,i){"use strict";cc._RF.push(e,"c01cdLoYOtKx4BPLo+RePVO","ChestModel"),Object.defineProperty(i,"__esModule",{value:!0});const o=t("../framework/model/IDataModel");i.default=class extends o.default{constructor(){super("chest"),this.chests=new Map,this.gameChests=new Map,this.isShowChests=!1}initAllChests(t){console.log("\u7531\u670d\u52a1\u7aef\u63a8\u9001\u8fc7\u6765\u7684\u5b9d\u7bb1\u8bb0\u5f55",t)}},cc._RF.pop()},{"../framework/model/IDataModel":"IDataModel"}],ConfigModule:[function(t,e,i){"use strict";cc._RF.push(e,"7f1bb3QIGxEt4D/quJRPhPU","ConfigModule"),Object.defineProperty(i,"__esModule",{value:!0}),i.ConfigModule=void 0;class o{}i.ConfigModule=o,o.WS_URL_TEST="ws://192.168.191.169:9991/ws",o.HTTP_URL_TEST="http://192.168.191.169:9991",o.WS_URL_DEV="ws://192.168.191.169:9991/ws",o.HTTP_URL_DEV="http://192.168.191.169:9991",o.WS_URL_LOCAL="ws://192.168.191.169:9991/ws",o.HTTP_URL_LOCAL="http://192.168.191.169:9991",o.SHARE_URL="",o.VERSION="v1.0.1",o.SHOW_LOG=!0,o.IS_TEST=!0,o.APPID="",o.UNIVERSAL_LINK="",cc._RF.pop()},{}],CsjTool:[function(t,e,i){"use strict";cc._RF.push(e,"d340fDOUbRPdrvglgnDydg2","CsjTool"),Object.defineProperty(i,"__esModule",{value:!0}),i.CsjPlugin=void 0;const o=t("../../utils/Log");class n{static setOtherName(t){this.isAndroid?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","registId","(Ljava/lang/String;I)V",t,Date.now()):this.isIOS?jsb.reflection.callStaticMethod("AppController","setJPushAlias:",t):o.Log.error("\u53ea\u6709android\u548cIOS\u6709\u6781\u5149")}}i.CsjPlugin=n,n.isAndroid=cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID,n.isIOS=cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS,cc.CsjPlugin=n,cc._RF.pop()},{"../../utils/Log":"Log"}],DrawBorad:[function(t,e,i){"use strict";cc._RF.push(e,"b2cc63r29VAcKgTdFRDKu68","DrawBorad");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("./DrawingBoard"),{ccclass:r,property:a,menu:s}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.ndBroad=null,this.penWidth=5,this.reaserWidth=20,this._drawingBroad=null,this._texture=new cc.Texture2D,this._sprite=null,this.broadYMax=-1,this.broadXMin=-1,this._touching=!1}onLoad(){this.ndBroad||(this.ndBroad=this.node),this._sprite=this.ndBroad.getComponent(cc.Sprite),this._sprite||(this._sprite=this.ndBroad.addComponent(cc.Sprite)),this._drawingBroad=new n.default(this.ndBroad.width,this.ndBroad.height),this._drawingBroad.setColor(0,0,0,255),this._drawingBroad.setLineWidth(this.penWidth),this._touching=!1;let t=this.ndBroad.convertToWorldSpaceAR(cc.v2(0,0));this.broadYMax=t.y+this.ndBroad.height/2,this.broadXMin=t.x-this.ndBroad.width/2,this.ndBroad.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)}start(){}setData(t){this._drawingBroad.setData(t),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)}touchStart(t){if(this._touching)return;this._touching=!0;let e=t.getLocation();this._drawingBroad.moveTo(e.x-this.broadXMin,this.getRealY(e.y))}touchMove(t){if(!this._touching)return;let e=t.getLocation();this._drawingBroad.lineTo(e.x-this.broadXMin,this.getRealY(e.y)),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)}touchCancel(t){this._touching=!1}touchEnd(t){this._touching=!1}onDestroy(){this.ndBroad.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)}setColor(t,e,i,o){this._drawingBroad.setColor(t,e,i,o)}setLineWidth(t){this._drawingBroad.setLineWidth(t)}setPen(){this.setColor(0,0,0,255),this.setLineWidth(this.penWidth)}setReaser(){this.setColor(0,0,0,0),this.setLineWidth(this.reaserWidth)}getTexture(){return this._texture}updateTexture(t,e,i){this._texture.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,e,i),this._sprite.spriteFrame.setTexture(this._texture),this._sprite.markForRender(!0)}getRealY(t){return this._sprite.spriteFrame._flipY?this.broadYMax-(cc.visibleRect.height-t):this.broadYMax-t}};o([a(cc.Node)],l.prototype,"ndBroad",void 0),o([a({type:cc.Integer,displayName:"\u753b\u7b14\u7c97\u7ec6"})],l.prototype,"penWidth",void 0),o([a({type:cc.Integer,displayName:"\u6a61\u76ae\u7c97\u7ec6"})],l.prototype,"reaserWidth",void 0),l=o([r,s("\u753b\u677f/DrawBorad")],l),i.default=l,cc._RF.pop()},{"./DrawingBoard":"DrawingBoard"}],DrawingBoard:[function(t,e,i){"use strict";cc._RF.push(e,"d27abuHaOlKM7HWJE9w84jQ","DrawingBoard"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(t,e,i){this.init(t,e,i)}get width(){return this._witdh}get height(){return this._height}init(t,e,i){this.tempColor=this.tempR=this.tempG=this.tempB=this.tempA=0,this.curColor=0,this._witdh=Math.round(t),this._height=Math.round(e),this.initPointColor(),this.initPixelColor(),this.initLineData(),i&&this.setData(i)}initPointColor(){this.pointColor||(this.pointColor=[]);for(let t=0;t<this.width;++t){this.pointColor[t]||(this.pointColor[t]=[]);for(let e=0;e<this.height;++e)this.pointColor[t][e]=0}this.colorCount={},this.colorCount[0]=this.width*this.height}initPixelColor(){this.buffer=new ArrayBuffer(this.width*this.height*4),this.pixelColor=new Uint8Array(this.buffer),this.pixelColor.fill(0)}reset(){this.resetPointColor(),this.resetPixelColor()}resetPointColor(){for(let t=this.width-1;t>=0;--t)for(let e=this.height-1;e>=0;--e)this.pointColor[t][e]=0;for(let t in this.colorCount)this.colorCount[t]=0}resetPixelColor(){this.pixelColor.fill(0)}setData(t){let e=new Uint8Array(t);e.length!=this.width*this.height*4&&(console.warn("\u753b\u677f\u8bbe\u7f6e\u6570\u636e\u5931\u8d25\uff0c\u6570\u636e\u957f\u5ea6\u4e0e\u753b\u677f\u5927\u5c0f\u4e0d\u4e00\u81f4\u3002"),e=e.subarray(0,this.width*this.height*4)),this.setPixelColorByRGBA(e),this.setPointColorByRGBA(e)}setPixelColorByRGBA(t){this.pixelColor.set(t)}setPointColorByRGBA(t){this.colorCount={};for(let e=0;e<this.height;++e){let i=e*this.width*4;for(let o=0;o<this.width;++o){let n=this.convertToNumber(t[i++],t[i++],t[i++],t[i++]);this.pointColor[o][e]=n,this.colorCount[n]?this.colorCount[n]+=1:this.colorCount[n]=1}}}copyData(t){void 0===t&&(t=[]);for(let e=0,i=this.pixelColor.length;e<i;++e)t[e]=this.pixelColor[e];return t}getData(){return this.pixelColor}getBuffer(){return this.buffer}getColorCount(t,e,i,o=255){let n=this.convertToNumber(t,e,i,o);return this.colorCount[n]}setColor(t,e,i,o=255){this.curColor=this.convertToNumber(t,e,i,o),this.colorCount[this.curColor]||(this.colorCount[this.curColor]=0),this.tempColor=this.curColor,this.tempR=t,this.tempG=e,this.tempB=i,this.tempA=o}clear(){this.reset()}initLineData(){this.previousLineEndPos=new o,this.previousLineEndPosT=new o,this.previousLineEndPosB=new o,this.previousLineCircleEnd=!0,this.previousLineWidth=1}moveTo(t,e){t=Math.round(t),e=Math.round(e),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t,e),this.previousLineEndPosB.set(t,e)}setLineWidth(t){this.previousLineWidth=t}setLineCircleEnd(t){this.previousLineCircleEnd=t}line(t,e,i,n){if(t=Math.round(t),i=Math.round(i),e=Math.round(e),n=Math.round(n),t==i&&e==n)return;let r=this.previousLineWidth,a=this.previousLineCircleEnd;this.previousLineEndPos.set(i,n);let s=0,l=0,c=1;if(t==i)s=Math.round(.5*r);else if(e==n)l=Math.round(.5*r);else{let o=(n-e)/(i-t);l=.5*r/(c=Math.sqrt(o*o+1)),s=Math.round(l*o),l=Math.round(l)}this.previousLineEndPosT.set(i-s,n+l),this.previousLineEndPosB.set(i+s,n-l);let h=new o(t,e),u=new o(i,n);t>i&&(h.x=i,h.y=n,u.x=t,u.y=e),this._drawLine(h,u,r,s,l,c),a&&(this._drawCircle(t,e,.5*r),this._drawCircle(i,n,.5*r))}lineTo(t,e){if(t=Math.round(t),e=Math.round(e),this.previousLineEndPos.x==t&&this.previousLineEndPos.y==e)return;let i=this.previousLineWidth,n=this.previousLineCircleEnd,r=this.previousLineEndPos.x,a=this.previousLineEndPos.y,s=t,l=e;r>s&&(r=s,a=l,s=this.previousLineEndPos.x,l=this.previousLineEndPos.y);let c=0,h=0,u=1;if(r==s)c=Math.round(.5*i);else if(a==l)h=Math.round(.5*i);else{let t=(l-a)/(s-r);h=.5*i/(u=Math.sqrt(t*t+1)),c=Math.round(h*t),h=Math.round(h)}if(n)this._drawCircle(r,a,.5*i),this._drawCircle(s,l,.5*i);else if(this.previousLineEndPos.x!=this.previousLineEndPosT.x||this.previousLineEndPos.y!=this.previousLineEndPosT.y){let t=new o(this.previousLineEndPos.x-c,this.previousLineEndPos.y+h),e=new o(this.previousLineEndPos.x+c,this.previousLineEndPos.y-h);this._drawTriangle([t,e,this.previousLineEndPosT]),this._drawTriangle([t,e,this.previousLineEndPosB])}this._drawLine(new o(r,a),new o(s,l),i,c,h,u),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t-c,e+h),this.previousLineEndPosB.set(t+c,e-h)}_drawLine(t,e,i,n,r,a){if(t.y==e.y){let n=t.x<e.x?t.x:e.x;this._drawRect(new o(n,Math.round(t.y-.5*i)),Math.abs(t.x-e.x),i)}else if(t.x==e.x){let n=t.y<e.y?t.y:e.y;this._drawRect(new o(Math.round(t.x-.5*i),n),i,Math.abs(t.y-e.y))}else{let s=(t.x-e.x)/(t.y-e.y),l=new o(t.x-n,t.y+r),c=new o(t.x+n,t.y-r),h=new o(e.x-n,e.y+r),u=new o(e.x+n,e.y-r),d=new o,p=new o,g=Math.round(i*a);e.y>t.y?c.x<h.x?(d.x=c.x,d.y=c.y+g,p.x=h.x,p.y=h.y-g,this._drawVerticalTriangle(d,c,l),this._drawParallelogram(c,p,g),this._drawVerticalTriangle(h,p,u)):(d.x=c.x,d.y=Math.round(h.y-(d.x-h.x)*s),p.x=h.x,p.y=Math.round(c.y+(c.x-p.x)*s),this._drawVerticalTriangle(h,p,l),this._drawParallelogram(p,c,h.y-p.y),this._drawVerticalTriangle(d,c,u)):l.x<u.x?(d.x=l.x,d.y=l.y-g,p.x=u.x,p.y=u.y+g,this._drawVerticalTriangle(l,d,c),this._drawParallelogram(d,u,g),this._drawVerticalTriangle(p,u,h)):(d.x=l.x,d.y=Math.round(u.y-(d.x-u.x)*s),p.x=u.x,p.y=Math.round(l.y+(l.x-p.x)*s),this._drawVerticalTriangle(p,u,c),this._drawParallelogram(u,d,l.y-d.y),this._drawVerticalTriangle(l,d,h))}}rect(t,e,i,n){this._drawRect(new o(t,e),i,n)}_drawRect(t,e,i){let o=this.clampX(t.x),n=this.clampX(t.x+e),r=this.clampY(t.y),a=this.clampY(t.y+i);for(let s=r;s<=a;++s)this._drawRowPixel(o,n,s)}_drawParallelogram(t,e,i){if(t.x==e.x)return;let o=(e.y-t.y)/(e.x-t.x),n=this._minX(t.x),r=this._maxX(e.x);for(let a=n;a<=r;++a){let e=t.y+Math.round((a-t.x)*o),n=e+i;e=this._minY(e),n=this._maxY(n),this._drawColPixel(e,n,a)}}triangle(t,e,i,n,r,a){let s=[];s.push(new o(t,e)),s.push(new o(i,n)),s.push(new o(r,a)),this._drawTriangle(s)}_drawTriangle(t){t.sort((t,e)=>t.x-e.x);let e=t[0],i=t[1],n=t[2];if(e.x==i.x){if(e.x==n.x)return;return e.y<i.y&&(e=t[1],i=t[0]),void this._drawVerticalTriangle(e,i,n)}let r=(n.y-e.y)/(n.x-e.x),a=new o(i.x,Math.round(e.y+(i.x-e.x)*r));a.y!=i.y&&(a.y<i.y?(this._drawVerticalTriangle(i,a,e),this._drawVerticalTriangle(i,a,n)):(this._drawVerticalTriangle(a,i,e),this._drawVerticalTriangle(a,i,n)))}_drawVerticalTriangle(t,e,i){if(i.x==t.x)return;let o=(i.y-t.y)/(i.x-t.x),n=(i.y-e.y)/(i.x-e.x),r=i.x,a=t.x;r<a&&(r=t.x,a=i.x),a=this._minX(a),r=this._maxX(r);for(let s=a;s<=r;++s){let i=this.clampY(Math.round(t.y+(s-t.x)*o)),r=this.clampY(Math.round(e.y+(s-e.x)*n));this._drawColPixel(r,i,s)}}circle(t,e,i){t=Math.round(t),e=Math.round(e),this._drawCircle(t,e,i)}_drawCircle(t,e,i){if(0==(i=Math.round(i)))return;let o=i*i,n=this.clampY(e-i),r=this.clampY(e+i);for(let a=n;a<=r;++a){let i=a-e;i=Math.round(Math.sqrt(o-i*i));let n=this.clampX(t-i),r=this.clampX(t+i);this._drawRowPixel(n,r,a)}}_minX(t){return t>=0?t:0}_maxX(t){return t<this.width?t:this.width-1}_minY(t){return t>=0?t:0}_maxY(t){return t<this.height?t:this.height-1}clampX(t){return t<0?0:t>=this.width?this.width-1:t}clampY(t){return t<0?0:t>=this.height?this.height-1:t}_drawPixel(t,e){if(this.pointColor[t][e]==this.tempColor)return;let i=4*(e*this.width+t);this.pixelColor[i]=this.tempR,this.pixelColor[i+1]=this.tempG,this.pixelColor[i+2]=this.tempB,this.pixelColor[i+3]=this.tempA;let o=this.pointColor[t][e];this.colorCount[o]--,this.colorCount[this.tempColor]++,this.pointColor[t][e]=this.tempColor}_drawRowPixel(t,e,i){let o=4*(i*this.width+t);for(let n=t;n<=e;++n){if(this.pointColor[n][i]!=this.tempColor){this.pixelColor[o]=this.tempR,this.pixelColor[o+1]=this.tempG,this.pixelColor[o+2]=this.tempB,this.pixelColor[o+3]=this.tempA;let t=this.pointColor[n][i];this.colorCount[t]--,this.colorCount[this.tempColor]++,this.pointColor[n][i]=this.tempColor}o+=4}}_drawColPixel(t,e,i){let o=4*(t*this.width+i);for(let n=t;n<=e;++n){if(this.pointColor[i][n]!=this.tempColor){this.pixelColor[o]=this.tempR,this.pixelColor[o+1]=this.tempG,this.pixelColor[o+2]=this.tempB,this.pixelColor[o+3]=this.tempA;let t=this.pointColor[i][n];this.colorCount[t]--,this.colorCount[this.tempColor]++,this.pointColor[i][n]=this.tempColor}o+=4*this.width}}convertToNumber(t,e,i,o=255){return(254&t)<<23|e<<16|i<<8|o}convertToRGBA(t){return{r:(4009754624&t)>>23,g:(16711680&t)>>16,b:(65280&t)>>8,a:255&t}}};class o{constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y)}}cc._RF.pop()},{}],EventConst:[function(t,e,i){"use strict";cc._RF.push(e,"62b29hAAl1CxKDivknegsV+","EventConst"),Object.defineProperty(i,"__esModule",{value:!0}),i.VideoEvent=i.GameEvent=void 0;class o{}i.GameEvent=o,o.SET_DOORS="SET_DOORS",o.RANK_TAB_CHANGE="RANK_TAB_CHANGE",o.RANK_PAGE_1="RANK_PAGE_1",o.RANK_PAGE_2="RANK_PAGE_2",o.CLOSE_GAME="CLOSE_GAME",o.OPEN_GAME="OPEN_GAME",o.COIN_SCALE="COIN_SCALE",i.VideoEvent=class{},cc._RF.pop()},{}],EventMng:[function(t,e,i){"use strict";cc._RF.push(e,"9349fbv8BlF870yiY+l5lmA","EventMng"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=new cc.EventTarget,cc._RF.pop()},{}],FrameEventConst:[function(t,e,i){"use strict";cc._RF.push(e,"a97ffjjnoFCqZiD9wouPq7l","FrameEventConst"),Object.defineProperty(i,"__esModule",{value:!0}),i.FrameEventConst=void 0;class o{}i.FrameEventConst=o,o.SERVER_TIME_CHANGE="SERVER_TIME_CHANGE",o.WX_VIDEO_FINISH="WX_VIDEO_FINISH",o.WX_UPLOAD_IMG_SUCCESS="WX_UPLOAD_IMG_SUCCESS",cc._RF.pop()},{}],GameController:[function(t,e,i){"use strict";cc._RF.push(e,"44fb0GtNJBETJLEnhIdcBfw","GameController"),Object.defineProperty(i,"__esModule",{value:!0});const o=t("./network/Network"),n=t("./network/SocketDelegate"),r=t("./userData/GameDataCenter"),a=t("./framework/lib/SingletonFactory");i.default=new class{constructor(){this.network=null,this.socket=null}init(){r.default.initModule(),this.network=a.SingletonFactory.getInstance(o.Network),this.socket=a.SingletonFactory.getInstance(n.SocketDelegate)}},cc._RF.pop()},{"./framework/lib/SingletonFactory":"SingletonFactory","./network/Network":"Network","./network/SocketDelegate":"SocketDelegate","./userData/GameDataCenter":"GameDataCenter"}],GameDataCenter:[function(t,e,i){"use strict";cc._RF.push(e,"0da53w3nbVJRrmOVi2znxBL","GameDataCenter"),Object.defineProperty(i,"__esModule",{value:!0});const o=t("../framework/lib/SingletonFactory"),n=t("./../framework/component/ViewModel"),r=t("./SocketModel"),a=t("./AccountModel"),s=t("./RoomInfoModel"),l=t("./RoomChoseModel"),c=t("./ChestModel");class h{constructor(){this._tModel=[],this.accountModel=null,this.socketModel=null,this.roomInfoModel=null,this.roomChoseModel=null,this.chestModel=null,h.instance=this}newModel(t){let e=o.SingletonFactory.getInstance(t);return this._tModel.push(e),e}clear(){this._tModel.forEach(t=>{t.clear()})}initModule(){this.accountModel=this.newModel(a.default),this.socketModel=this.newModel(r.default),this.roomInfoModel=this.newModel(s.default),this.roomChoseModel=this.newModel(l.default),this.chestModel=this.newModel(c.default),n.VM.add(this.accountModel,"account"),n.VM.add(this.roomInfoModel,"roomInfo"),n.VM.add(this.roomChoseModel,"roomChose"),n.VM.add(this.chestModel,"chestModel")}}i.default=new h,window.GameDataCenter=h,cc._RF.pop()},{"../framework/lib/SingletonFactory":"SingletonFactory","./../framework/component/ViewModel":"ViewModel","./AccountModel":"AccountModel","./ChestModel":"ChestModel","./RoomChoseModel":"RoomChoseModel","./RoomInfoModel":"RoomInfoModel","./SocketModel":"SocketModel"}],Group:[function(t,e,i){"use strict";cc._RF.push(e,"48757UrRxBBIYVG24rV4zSe","Group"),Object.defineProperty(i,"__esModule",{value:!0}),i.Group=void 0;const o=t("../define/enum");i.Group=class{constructor(t){this._index=-1,this._models=[],this._size={x:0,y:0},this._oldSize={x:0,y:0},this._anchorPoint={x:.5,y:.5},this._position={x:0,y:0},this._oldPosition={x:0,y:0},this._totalMinSize={x:0,y:0},this._totalPreferredSize={x:0,y:0},this._totalFlexibleSize={x:0,y:0},this._isFixed=!1,this._fixedIndex=-1,this._adapter=t,this.internal_reset()}get adapter(){return this._adapter}get index(){return this._index}get models(){return this._models}get size(){return this._size}get oldSize(){return this._oldSize}get anchorPoint(){return this._anchorPoint}get position(){return this._position}get oldPosition(){return this._oldPosition}get totalMinSize(){return this._totalMinSize}get totalPreferredSize(){return this._totalPreferredSize}get totalFlexibleSize(){return this._totalFlexibleSize}get isFixed(){return this._isFixed}get fixedIndex(){return this._fixedIndex}findModelIndex(t){return this.models.findIndex(e=>e.index==t)}internal_reset(){this._models=[],this._size={x:0,y:0},this._oldSize={x:0,y:0},this._anchorPoint={x:.5,y:.5},this._position={x:0,y:0},this._oldPosition={x:0,y:0},this._totalMinSize={x:0,y:0},this._totalPreferredSize={x:0,y:0},this._totalFlexibleSize={x:0,y:0},this._isFixed=!1,this._fixedIndex=-1,this._setAnchorPoint()}internal_setPosition(t){var e=this.adapter.mainAxis;this.oldPosition[e]=this.position[e],this.position[e]=t}internal_setIndex(t){this._index=t}internal_insert(t,e,i){e.internal_reset();var o=this.models;if(this.internal_reset(),this._fixedIndex=t.fixedIndex,!i)for(let n=0;n<o.length;n++){const i=o[n];if(!(i.index<t.modelIndex))break;if(!this._insertHandler(i,e))return t.modelIndex=i.index,t.fixedIndex=this.isFixed?this.index:t.fixedIndex,!0}for(let n=t.modelIndex;n<this.adapter.modelManager.length;n++){const i=this.adapter.modelManager.get(n);if(!this._insertHandler(i,e))return t.modelIndex=i.index,t.fixedIndex=this.isFixed?this.index:t.fixedIndex,i.index}return!1}internal_includes(t){for(let e=0;e<t.length;e++){const i=t[e];if(-1!=this.models.findIndex(t=>t.data==i))return!0}return!1}_insertHandler(t,e){if(e.internal_isWrap(t,this))return e.internal_reset(),!1;e.internal_push(t),t.element.fixed&&(this._isFixed=!0,this._fixedIndex=-1);var i=this.adapter.mainAxis,o=this.adapter.crossAxis;return(!t.element.ignoreLayout||t.element.ignoreLayout&&t.element.placeholder)&&(this.size[i]=Math.max(this.size[i],t.size[i]*t.scale[i])),this.size[o]=this.adapter.crossAxisSize,this.oldSize[i]=this.size[i],this.oldSize[o]=this.size[o],this.models.push(t),!0}_setAnchorPoint(){switch(this.adapter.viewManager.stretchDirection){case o.StretchDirection.Center:this.anchorPoint[this.adapter.mainAxis]=.5;break;case o.StretchDirection.Header:this.anchorPoint[this.adapter.mainAxis]=1-this.adapter.mainAxisAnchorPoint;break;default:this.anchorPoint[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint}}},cc._RF.pop()},{"../define/enum":"enum"}],H5WxSdkTool:[function(t,e,i){"use strict";cc._RF.push(e,"f5afe4LsrNFUYN7nSMvueOk","H5WxSdkTool"),Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../utils/Log"),n=t("../const/FrameEventConst"),r=t("../lib/base64"),a=t("../lib/crypto"),s=t("../manager/EventMng"),l=t("../model/IDataModel");class c extends l.default{constructor(){super(),this.env={uploadImageUrl:"xxxx",AccessKeySecret:"xxxx",OSSAccessKeyId:"xxxx",timeout:8e4}}static getInstance(){return this.instance||(this.instance=new c),this.instance}getSign(){let t=location.href.split("#")[0];var e={url:encodeURIComponent(t)};this.sendHttpMsg("login/getwxconfig",e,this.setConfig,!1)}setConfig(t){const e=t.data;wx.config({debug:!1,appId:e.appid,timestamp:e.timestamp,nonceStr:e.noncestr,signature:e.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),wx.error(()=>{o.Log.log("wx.error")}),wx.ready(()=>{o.Log.log("wx.ready"),this.shareMessage(),this.shareTimeline()})}shareMessage(){wx.ready(function(){wx.updateAppMessageShareData({title:"",desc:"",link:"",imgUrl:"",success:function(){}})})}shareTimeline(){wx.ready(function(){wx.updateTimelineShareData({title:"",link:"",imgUrl:"",success:function(){}})})}shareWeibo(){wx.onMenuShareWeibo({title:"",desc:"",link:"",imgUrl:"",success:function(){},cancel:function(){}})}previewImage(t){wx.previewImage({current:t,urls:[t]})}pay(t,e){this.payData=t,this.payCallback=e,"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",()=>{this.onBridgeReady()},!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",()=>{this.onBridgeReady()}),document.attachEvent("onWeixinJSBridgeReady",()=>{this.onBridgeReady()})):this.onBridgeReady()}onBridgeReady(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:this.payData.appId,timeStamp:this.payData.timeStamp,nonceStr:this.payData.nonceStr,package:this.payData.package,signType:this.payData.signType,paySign:this.payData.paySign},t=>{"get_brand_wcpay_request:ok"==t.err_msg?(o.Log.log("\u5145\u503c\u6210\u529f"),this.payCallback()):"get_brand_wcpay_request:cancel"==t.err_msg||"get_brand_wcpay_request:fail"==t.err_msg&&o.Log.log("\u5145\u503c\u5931\u8d25",t)})}chooseImage(){var t=this;wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var i=e.tempFilePaths;o.Log.log("tempFilePaths",i);for(var r=t.formatTime(new Date),a=0;a<e.tempFilePaths.length;a++)wx.showLoading({title:"\u4e0a\u4f20\u4e2d"+(a+1)+"/"+e.tempFilePaths.length,mask:!0}),t.uploadFile(e.tempFilePaths[a],"images/"+r+"/",function(t){o.Log.log("======\u4e0a\u4f20\u6210\u529f\u56fe\u7247\u5730\u5740\u4e3a\uff1a",t),s.default.emit(n.FrameEventConst.WX_UPLOAD_IMG_SUCCESS,t),wx.hideLoading()},function(t){o.Log.log("======\u4e0a\u4f20\u5931\u8d25======",t),wx.hideLoading()})}})}uploadFile(t,e,i,n){if(!t||t.length<1)return void wx.showModal({title:"\u56fe\u7247\u9519\u8bef",content:"\u8bf7\u91cd\u8bd5",showCancel:!1});o.Log.log("\u4e0a\u4f20\u56fe\u7247.....");const r=e+(new Date).getTime()+Math.floor(150*Math.random())+".png",a=this.env.uploadImageUrl,s=this.env.OSSAccessKeyId,l=this.getPolicyBase64(),c=this.getSignature(l);wx.uploadFile({url:a,filePath:t,name:"file",formData:{key:r,policy:l,OSSAccessKeyId:s,signature:c,success_action_status:"200"},success:function(t){200==t.statusCode?i(a+r):n(new Error("\u4e0a\u4f20\u9519\u8bef:"+JSON.stringify(t)))},fail:function(t){t.wxaddinfo=a,n(t)}})}getPolicyBase64(){let t=new Date;t.setHours(t.getHours()+this.env.timeout);const e={expiration:t.toISOString(),conditions:[["content-length-range",0,5242880]]};return r.base64.encode(JSON.stringify(e))}getSignature(t){const e=this.env.AccessKeySecret,i=a.Cryptos.HMAC(t,e,{asBytes:!0});return a.Cryptos.util.bytesToBase64(i)}formatTime(t){const e=t.getFullYear(),i=t.getMonth()+1,o=t.getDate();return t.getHours(),t.getMinutes(),t.getSeconds(),[e,i,o].map(this.formatNumber).join("-")}formatNumber(t){return(t=t.toString())[1]?t:"0"+t}}i.default=c,cc._RF.pop()},{"../../utils/Log":"Log","../const/FrameEventConst":"FrameEventConst","../lib/base64":"base64","../lib/crypto":"crypto","../manager/EventMng":"EventMng","../model/IDataModel":"IDataModel"}],Holder:[function(t,e,i){"use strict";cc._RF.push(e,"26ef2pkW2VBH4/VYxAirmHu","Holder"),Object.defineProperty(i,"__esModule",{value:!0}),i.Holder=void 0;const o=t("../help/helper"),n=t("../manager/ModelManager"),{ccclass:r,property:a}=cc._decorator;i.Holder=class{constructor(t,e,i){this._fixedIndex=-1,this._oldData=null,this._oldElement=null,this._isCallCreated=!1,this._isLayout=!1,this._node=t,this._code=e,this._adapter=i,this._transform=t}get node(){return this._node}get transform(){return this._transform}get code(){return this._code}get adapter(){return this._adapter}get model(){return this._model}get view(){return this._view}get data(){return this._model&&this._model.data}get fixedIndex(){return this._fixedIndex}get oldData(){return this._oldData}get element(){return this._model&&this._model.element}get index(){return this._model&&this._model.index}internal_visible(t,e,i){this._view=t,this._model=e,this._oldElement=Object.assign({},e.element),this._model.element.update=this._updateElement.bind(this),this._oldData=this.data,i&&(this.node.active=!0,this._isCallCreated||(this._isCallCreated=!0,this.onCreated()),this.element.fixed&&(this._fixedIndex=this.view.group.models.findIndex(t=>t.index==this.model.index)),this.transform.setContentSize(this.model.size.x,this.model.size.y),this.node.setScale(this.model.scale.x,this.model.scale.y),this._register(),this.onVisible(),this._model.update=this._updateHandler.bind(this))}_updateElement(){this._oldElement.layer!=this.element.layer&&(this.node.parent=this.adapter.scrollManager.getLayerNode(this.element.layer),this._oldElement.layer=this.element.layer),(this._oldElement.wrapAfterMode!=this.element.wrapAfterMode||this._oldElement.wrapBeforeMode!=this.element.wrapBeforeMode||this._oldElement.ignoreLayout!=this.element.ignoreLayout||this.element.ignoreLayout&&this._oldElement.placeholder!=this.element.placeholder)&&(this.adapter.viewManager.internal_updateVisibleView(this.model.index),this._oldElement.wrapAfterMode=this.element.wrapAfterMode,this._oldElement.wrapBeforeMode=this.element.wrapBeforeMode,this._oldElement.ignoreLayout=this.element.ignoreLayout,this._oldElement.placeholder=this.element.placeholder)}_updateHandler(){this._model.update=()=>{},this.onVisible(),this._model.update=this._updateHandler.bind(this)}internal_disable(){this.adapter.scrollManager.internal_disableTouchTarget(this.node),this.onDisable(),this._unregister(),this._model.update=()=>{},this._model.element.update=()=>{},this._view=null,this._model=null,this._fixedIndex=-1,this._isLayout=!1,this._oldData=null,this.node.active=!1}internal_layout(){var t={x:this.model.size.x,y:this.model.size.y};this.adapter.layoutManager.isControlMainAxisSize&&(t[this.adapter.mainAxis]=this.model.layoutSize[this.adapter.mainAxis]),this.adapter.layoutManager.isControlCrossAxisSize&&(t[this.adapter.crossAxis]=this.model.layoutSize[this.adapter.crossAxis]),this._isLayout=!0,this.transform.setContentSize(t.x,t.y),this._isLayout=!1,this.node.setPosition(this.model.position.x,this.model.position.y)}_register(){this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.on(cc.Node.EventType.SCALE_CHANGED,this._onScaleChanged,this),this.node.on(cc.Node.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.on(n.ModelManager.Event.ON_UPDATE,this._updateHandler,this)}_unregister(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.off(cc.Node.EventType.SCALE_CHANGED,this._onScaleChanged,this),this.node.off(cc.Node.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.off(n.ModelManager.Event.ON_UPDATE,this._updateHandler,this)}_onSizeChanged(){if(!this._isLayout){var t=o.Helper.approximately(this.model.size[this.adapter.mainAxis],o.Helper.sizeToVec(this.transform.getContentSize())[this.adapter.mainAxis]),e=o.Helper.approximately(this.model.size[this.adapter.crossAxis],o.Helper.sizeToVec(this.transform.getContentSize())[this.adapter.crossAxis]);this.model.size.x=this.transform.width,this.model.size.y=this.transform.height,t&&e||this.view.internal_holderChanged(t)}}_onScaleChanged(t){if(this.adapter.layoutManager.controlScaleWidth||this.adapter.layoutManager.controlScaleHeight){var e=o.Helper.approximately(this.model.scale[this.adapter.mainAxis],this.node.scale[this.adapter.mainAxis]),i=o.Helper.approximately(this.model.scale[this.adapter.crossAxis],this.node.scale[this.adapter.crossAxis]);this.model.scale.x=this.node.scaleX,this.model.scale.y=this.node.scaleY,e&&i||this.view.internal_holderChanged(e)}}_onAnchorPointChanged(){var t=o.Helper.approximately(this.model.anchorPoint[this.adapter.mainAxis],this.transform.getAnchorPoint()[this.adapter.mainAxis]),e=o.Helper.approximately(this.model.anchorPoint[this.adapter.crossAxis],this.transform.getAnchorPoint()[this.adapter.crossAxis]);this.model.anchorPoint.x=this.transform.anchorX,this.model.anchorPoint.y=this.transform.anchorY,t&&e||this.view.internal_holderChanged(t)}},cc._RF.pop()},{"../help/helper":"helper","../manager/ModelManager":"ModelManager"}],Http:[function(t,e,i){"use strict";cc._RF.push(e,"342ff1eLJhPFpsXPkyJ/H3H","Http");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.Http=void 0;const{ccclass:n,property:r}=cc._decorator;let a=class{static get(t,e,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){},o.onerror=function(){e.call(i,"ERROR",o)},o.onprogress=function(){e.call(i,"PROGRESS",o)},o.onloadend=function(){e.call(i,"COMPLETE",o)},o.ontimeout=function(){e.call(i,"TIMEOUT",o)},o.open("GET",t,!0),o.send()}static catobj(t){var e=[];for(var i in t){let o=i+"="+t[i];e.push(o)}return e.join("&")}static post(t,e,i,o){var n=new XMLHttpRequest;n.onreadystatechange=function(){},n.onerror=function(){i.call(o,"ERROR",n)},n.onprogress=function(){i.call(o,"PROGRESS",n)},n.onloadend=function(){i.call(o,"COMPLETE",n)},n.ontimeout=function(){i.call(o,"TIMEOUT",n)},n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(e))}};a=o([n],a),i.Http=a,cc._RF.pop()},{}],IDataModel:[function(t,e,i){"use strict";cc._RF.push(e,"b507eDXZNJNq7Wv9lyj+i5K","IDataModel"),Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../GameController"),n=t("../../utils/Log"),r=t("../manager/EventMng"),a=t("./ISerialize");i.default=class extends a.default{constructor(t="default"){super(t),this.registerListeners()}clear(){}registerListeners(){let t=this.getMessageListeners();for(const e in t)t.hasOwnProperty(e)&&(console.log("\u6ce8\u518c\u7f51\u7edc\u4e8b\u4ef6",e.toString()),r.default.on(e.toString(),function(i){t[e](i)}))}getMessageListeners(){return{}}postHttpMsg(t,e,i,r=!0){try{o.default.network.httpPost(t,e,i,r)}catch(a){n.Log.error("send http proto",e,a)}}sendHttpMsg(t,e,i,r=!0){try{o.default.network.httpSend(t,e,i,r)}catch(a){n.Log.error("send http proto",e,a)}}sendSocketMsg(t,e){try{o.default.socket.send(t,e)}catch(i){n.Log.error("send socket proto",i)}}},cc._RF.pop()},{"../../GameController":"GameController","../../utils/Log":"Log","../manager/EventMng":"EventMng","./ISerialize":"ISerialize"}],ISerialize:[function(t,e,i){"use strict";cc._RF.push(e,"f9874ODyStKfZKjktHLxlA8","ISerialize"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(t="default"){this.modelName="default",this._dLocalData={},this.modelName=t,this.LoadStorage()}clear(){}LoadStorage(){var t=this;if(cc.sys.platform==cc.sys.WECHAT_GAME)wx.getStorage({key:`model_${this.modelName}`,success(e){let i=JSON.parse(e.data);i&&""!==i?t._dLocalData=i:(t._dLocalData={},t.Save())}});else{let t=JSON.parse(cc.sys.localStorage.getItem(`model_${this.modelName}`));t&&""!==t?this._dLocalData=t:(this._dLocalData={},this.Save())}}Query(t,e=null){return null!=this._dLocalData[t]?this._dLocalData[t]:e}Set(t,e){return!(this._dLocalData[t]&&this._dLocalData[t]==e||(this._dLocalData[t]=e,0))}Save(){cc.sys.platform==cc.sys.WECHAT_GAME?wx.setStorage({key:`model_${this.modelName}`,data:JSON.stringify(this._dLocalData)}):cc.sys.localStorage.setItem(`model_${this.modelName}`,JSON.stringify(this._dLocalData))}},cc._RF.pop()},{}],Indicator:[function(t,e,i){"use strict";cc._RF.push(e,"8eaaaEkOotGj4EDXygTBiJF","Indicator");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.Indicator=void 0;const n=t("../../../userData/EventConst"),r=t("../../../userData/GameDataCenter"),a=t("../../manager/EventMng"),s=t("../abstract/ScrollAdapter"),l=t("../define/enum"),c=t("../manager/PageViewManager"),{ccclass:h,property:u}=cc._decorator;let d=class extends cc.Component{constructor(){super(...arguments),this.adapterNode=null,this.tabNode=null,this.spriteNode=[],this.indicatorMode=l.IndicatorMode.Normal,this.cellSize=new cc.Size(10,10),this.spacing=10,this._indicators=[],this._layout=null,this._color=new cc.Color,this.adapter=null}get layout(){return null==this._layout&&(this._layout=this.getComponent(cc.Layout)||this.addComponent(cc.Layout),this.adapter.isHorizontal?(this._layout.type=cc.Layout.Type.HORIZONTAL,this._layout.spacingX=this.spacing):(this._layout.type=cc.Layout.Type.VERTICAL,this._layout.spacingY=this.spacing),this._layout.resizeMode=cc.Layout.ResizeMode.CONTAINER),this._layout}__preload(){this.adapter=this.adapterNode.getComponent(s.ScrollAdapter),this.adapter&&(this.adapter.pageViewManager.on(c.PageViewManager.Event.ON_PAGE_LENGTH_CHANGED,this._onPageLengthChanged,this),this.adapter.pageViewManager.on(c.PageViewManager.Event.ON_SCROLL_PAGE_END,this._onScrollPageEnd,this))}_onScrollPageEnd(){this.changedState()}_onPageLengthChanged(){if(!this.adapter)return;const t=this._indicators,e=this.adapter.viewManager.groupLength;if(e===t.length)return;let i=0;if(e>t.length)for(i=0;i<e;++i)t[i]||(t[i]=this._createIndicator(i));else for(i=t.length-e;i>0;--i){const e=t[i-1];this.node.removeChild(e),t.splice(i-1,1)}this.layout&&this.layout.enabledInHierarchy&&this.layout.updateLayout(),this.changedState()}_createIndicator(t){const e=this.spriteNode[t];if(e.parent=this.node,this.indicatorMode==l.IndicatorMode.Button){var i=e.getComponent(cc.Button)||e.addComponent(cc.Button),o=new cc.Component.EventHandler;o.component="Indicator",o.handler="_click",o.target=this.node,o.customEventData=t,i.clickEvents.push(o)}return e}_click(t,e){this.adapter.pageViewManager.scrollToPage(this.adapter.pageViewManager.pageTurningSpeed,e)}changedState(){const t=this._indicators;if(0===t.length||!this.adapter)return;const e=this.adapter.pageViewManager.currentIndex;if(a.default.emit(n.GameEvent.RANK_TAB_CHANGE,e),!(e>=t.length)){this.tabNode.stopAllActions(),this.tabNode.runAction(cc.moveTo(.1,cc.v2(t[e].position.x,t[e].position.y)));var i=r.default.accountModel;i.myRankNum=0==e?i.thisRankNum:i.lastRankNum,i.myRankNo=0==e?i.thisRankNo:i.lastRankNo;for(let e=0;e<t.length;++e){const i=t[e];i.getChildByName("font")?(i.getChildByName("font").color=cc.color(157,136,108),i.getChildByName("font").getComponent(cc.LabelOutline).enabled=!1):(i.getChildByName("layout").getChildByName("font").color=cc.color(157,136,108),i.getChildByName("layout").getChildByName("font").getComponent(cc.LabelOutline).enabled=!1)}if(t[e]){const i=t[e];i.getChildByName("font")?(i.getChildByName("font").color=cc.color(255,255,255),i.getChildByName("font").getComponent(cc.LabelOutline).enabled=!0):(i.getChildByName("layout").getChildByName("font").color=cc.color(255,255,255),i.getChildByName("layout").getChildByName("font").getComponent(cc.LabelOutline).enabled=!0)}}}};o([u(cc.Node)],d.prototype,"adapterNode",void 0),o([u(cc.Node)],d.prototype,"tabNode",void 0),o([u({type:[cc.Node]})],d.prototype,"spriteNode",void 0),o([u({type:l.IndicatorMode})],d.prototype,"indicatorMode",void 0),o([u],d.prototype,"cellSize",void 0),o([u],d.prototype,"spacing",void 0),d=o([h],d),i.Indicator=d,cc._RF.pop()},{"../../../userData/EventConst":"EventConst","../../../userData/GameDataCenter":"GameDataCenter","../../manager/EventMng":"EventMng","../abstract/ScrollAdapter":"ScrollAdapter","../define/enum":"enum","../manager/PageViewManager":"PageViewManager"}],1:[function(t,e,i){(function(t){(function(){var o,n=200,r="Expected a function",a="__lodash_placeholder__",s=1,l=2,c=4,h=1,u=2,d=1,p=2,g=4,_=8,f=16,m=32,y=64,v=128,b=256,C=512,M=800,w=16,S=1/0,x=9007199254740991,A=17976931348623157e292,E=NaN,I=4294967295,R=I-1,N=I>>>1,L=[["ary",v],["bind",d],["bindKey",p],["curry",_],["curryRight",f],["flip",C],["partial",m],["partialRight",y],["rearg",b]],T="[object Arguments]",O="[object Array]",P="[object AsyncFunction]",B="[object Boolean]",D="[object Date]",k="[object DOMException]",V="[object Error]",U="[object Function]",H="[object GeneratorFunction]",F="[object Map]",j="[object Number]",z="[object Null]",G="[object Object]",W="[object Proxy]",J="[object RegExp]",X="[object Set]",q="[object String]",$="[object Symbol]",K="[object Undefined]",Z="[object WeakMap]",Y="[object ArrayBuffer]",Q="[object DataView]",tt="[object Float32Array]",et="[object Float64Array]",it="[object Int8Array]",ot="[object Int16Array]",nt="[object Int32Array]",rt="[object Uint8Array]",at="[object Uint8ClampedArray]",st="[object Uint16Array]",lt="[object Uint32Array]",ct=/\b__p \+= '';/g,ht=/\b(__p \+=) '' \+/g,ut=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dt=/&(?:amp|lt|gt|quot|#39);/g,pt=/[&<>"']/g,gt=RegExp(dt.source),_t=RegExp(pt.source),ft=/<%-([\s\S]+?)%>/g,mt=/<%([\s\S]+?)%>/g,yt=/<%=([\s\S]+?)%>/g,vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bt=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/[\\^$.*+?()[\]{}|]/g,wt=RegExp(Mt.source),St=/^\s+/,xt=/\s/,At=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Et=/\{\n\/\* \[wrapped with (.+)\] \*/,It=/,? & /,Rt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nt=/[()=,{}\[\]\/\s]/,Lt=/\\(\\)?/g,Tt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ot=/\w*$/,Pt=/^[-+]0x[0-9a-f]+$/i,Bt=/^0b[01]+$/i,Dt=/^\[object .+?Constructor\]$/,kt=/^0o[0-7]+$/i,Vt=/^(?:0|[1-9]\d*)$/,Ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ht=/($^)/,Ft=/['\n\r\u2028\u2029\\]/g,jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",zt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gt="["+zt+"]",Wt="["+jt+"]",Jt="\\d+",Xt="[a-z\\xdf-\\xf6\\xf8-\\xff]",qt="[^\\ud800-\\udfff"+zt+Jt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",$t="\\ud83c[\\udffb-\\udfff]",Kt="[^\\ud800-\\udfff]",Zt="(?:\\ud83c[\\udde6-\\uddff]){2}",Yt="[\\ud800-\\udbff][\\udc00-\\udfff]",Qt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",te="(?:"+Xt+"|"+qt+")",ee="(?:"+Qt+"|"+qt+")",ie="(?:"+Wt+"|"+$t+")?",oe="[\\ufe0e\\ufe0f]?"+ie+"(?:\\u200d(?:"+[Kt,Zt,Yt].join("|")+")[\\ufe0e\\ufe0f]?"+ie+")*",ne="(?:"+["[\\u2700-\\u27bf]",Zt,Yt].join("|")+")"+oe,re="(?:"+[Kt+Wt+"?",Wt,Zt,Yt,"[\\ud800-\\udfff]"].join("|")+")",ae=RegExp("['\u2019]","g"),se=RegExp(Wt,"g"),le=RegExp($t+"(?="+$t+")|"+re+oe,"g"),ce=RegExp([Qt+"?"+Xt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[Gt,Qt,"$"].join("|")+")",ee+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[Gt,Qt+te,"$"].join("|")+")",Qt+"?"+te+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Jt,ne].join("|"),"g"),he=RegExp("[\\u200d\\ud800-\\udfff"+jt+"\\ufe0e\\ufe0f]"),ue=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,de=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pe=-1,ge={};ge[tt]=ge[et]=ge[it]=ge[ot]=ge[nt]=ge[rt]=ge[at]=ge[st]=ge[lt]=!0,ge[T]=ge[O]=ge[Y]=ge[B]=ge[Q]=ge[D]=ge[V]=ge[U]=ge[F]=ge[j]=ge[G]=ge[J]=ge[X]=ge[q]=ge[Z]=!1;var _e={};_e[T]=_e[O]=_e[Y]=_e[Q]=_e[B]=_e[D]=_e[tt]=_e[et]=_e[it]=_e[ot]=_e[nt]=_e[F]=_e[j]=_e[G]=_e[J]=_e[X]=_e[q]=_e[$]=_e[rt]=_e[at]=_e[st]=_e[lt]=!0,_e[V]=_e[U]=_e[Z]=!1;var fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},me=parseFloat,ye=parseInt,ve="object"==typeof t&&t&&t.Object===Object&&t,be="object"==typeof self&&self&&self.Object===Object&&self,Ce=ve||be||Function("","return this")(),Me="object"==typeof i&&i&&!i.nodeType&&i,we=Me&&"object"==typeof e&&e&&!e.nodeType&&e,Se=we&&we.exports===Me,xe=Se&&ve.process,Ae=function(){try{return we&&we.require&&we.require("util").types||xe&&xe.binding&&xe.binding("util")}catch(t){}}(),Ee=Ae&&Ae.isArrayBuffer,Ie=Ae&&Ae.isDate,Re=Ae&&Ae.isMap,Ne=Ae&&Ae.isRegExp,Le=Ae&&Ae.isSet,Te=Ae&&Ae.isTypedArray;function Oe(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function Pe(t,e,i,o){for(var n=-1,r=null==t?0:t.length;++n<r;){var a=t[n];e(o,a,i(a),t)}return o}function Be(t,e){for(var i=-1,o=null==t?0:t.length;++i<o&&!1!==e(t[i],i,t););return t}function De(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function ke(t,e){for(var i=-1,o=null==t?0:t.length;++i<o;)if(!e(t[i],i,t))return!1;return!0}function Ve(t,e){for(var i=-1,o=null==t?0:t.length,n=0,r=[];++i<o;){var a=t[i];e(a,i,t)&&(r[n++]=a)}return r}function Ue(t,e){return!(null==t||!t.length)&&Ze(t,e,0)>-1}function He(t,e,i){for(var o=-1,n=null==t?0:t.length;++o<n;)if(i(e,t[o]))return!0;return!1}function Fe(t,e){for(var i=-1,o=null==t?0:t.length,n=Array(o);++i<o;)n[i]=e(t[i],i,t);return n}function je(t,e){for(var i=-1,o=e.length,n=t.length;++i<o;)t[n+i]=e[i];return t}function ze(t,e,i,o){var n=-1,r=null==t?0:t.length;for(o&&r&&(i=t[++n]);++n<r;)i=e(i,t[n],n,t);return i}function Ge(t,e,i,o){var n=null==t?0:t.length;for(o&&n&&(i=t[--n]);n--;)i=e(i,t[n],n,t);return i}function We(t,e){for(var i=-1,o=null==t?0:t.length;++i<o;)if(e(t[i],i,t))return!0;return!1}var Je=ei("length");function Xe(t){return t.split("")}function qe(t){return t.match(Rt)||[]}function $e(t,e,i){var o;return i(t,function(t,i,n){if(e(t,i,n))return o=i,!1}),o}function Ke(t,e,i,o){for(var n=t.length,r=i+(o?1:-1);o?r--:++r<n;)if(e(t[r],r,t))return r;return-1}function Ze(t,e,i){return e==e?Ei(t,e,i):Ke(t,Qe,i)}function Ye(t,e,i,o){for(var n=i-1,r=t.length;++n<r;)if(o(t[n],e))return n;return-1}function Qe(t){return t!=t}function ti(t,e){var i=null==t?0:t.length;return i?ri(t,e)/i:E}function ei(t){return function(e){return null==e?o:e[t]}}function ii(t){return function(e){return null==t?o:t[e]}}function oi(t,e,i,o,n){return n(t,function(t,n,r){i=o?(o=!1,t):e(i,t,n,r)}),i}function ni(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}function ri(t,e){for(var i,n=-1,r=t.length;++n<r;){var a=e(t[n]);a!==o&&(i=i===o?a:i+a)}return i}function ai(t,e){for(var i=-1,o=Array(t);++i<t;)o[i]=e(i);return o}function si(t,e){return Fe(e,function(e){return[e,t[e]]})}function li(t){return t?t.slice(0,Li(t)+1).replace(St,""):t}function ci(t){return function(e){return t(e)}}function hi(t,e){return Fe(e,function(e){return t[e]})}function ui(t,e){return t.has(e)}function di(t,e){for(var i=-1,o=t.length;++i<o&&Ze(e,t[i],0)>-1;);return i}function pi(t,e){for(var i=t.length;i--&&Ze(e,t[i],0)>-1;);return i}function gi(t,e){for(var i=t.length,o=0;i--;)t[i]===e&&++o;return o}var _i=ii({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),fi=ii({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function mi(t){return"\\"+fe[t]}function yi(t,e){return null==t?o:t[e]}function vi(t){return he.test(t)}function bi(t){return ue.test(t)}function Ci(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}function Mi(t){var e=-1,i=Array(t.size);return t.forEach(function(t,o){i[++e]=[o,t]}),i}function wi(t,e){return function(i){return t(e(i))}}function Si(t,e){for(var i=-1,o=t.length,n=0,r=[];++i<o;){var s=t[i];s!==e&&s!==a||(t[i]=a,r[n++]=i)}return r}function xi(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}function Ai(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=[t,t]}),i}function Ei(t,e,i){for(var o=i-1,n=t.length;++o<n;)if(t[o]===e)return o;return-1}function Ii(t,e,i){for(var o=i+1;o--;)if(t[o]===e)return o;return o}function Ri(t){return vi(t)?Oi(t):Je(t)}function Ni(t){return vi(t)?Pi(t):Xe(t)}function Li(t){for(var e=t.length;e--&&xt.test(t.charAt(e)););return e}var Ti=ii({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});function Oi(t){for(var e=le.lastIndex=0;le.test(t);)++e;return e}function Pi(t){return t.match(le)||[]}function Bi(t){return t.match(ce)||[]}var Di=function t(e){var i,xt=(e=null==e?Ce:Di.defaults(Ce.Object(),e,Di.pick(Ce,de))).Array,Rt=e.Date,jt=e.Error,zt=e.Function,Gt=e.Math,Wt=e.Object,Jt=e.RegExp,Xt=e.String,qt=e.TypeError,$t=xt.prototype,Kt=zt.prototype,Zt=Wt.prototype,Yt=e["__core-js_shared__"],Qt=Kt.toString,te=Zt.hasOwnProperty,ee=0,ie=(i=/[^.]+$/.exec(Yt&&Yt.keys&&Yt.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",oe=Zt.toString,ne=Qt.call(Wt),re=Ce._,le=Jt("^"+Qt.call(te).replace(Mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=Se?e.Buffer:o,he=e.Symbol,ue=e.Uint8Array,fe=ce?ce.allocUnsafe:o,ve=wi(Wt.getPrototypeOf,Wt),be=Wt.create,Me=Zt.propertyIsEnumerable,we=$t.splice,xe=he?he.isConcatSpreadable:o,Ae=he?he.iterator:o,Je=he?he.toStringTag:o,Xe=function(){try{var t=na(Wt,"defineProperty");return t({},"",{}),t}catch(e){}}(),ii=e.clearTimeout!==Ce.clearTimeout&&e.clearTimeout,Ei=Rt&&Rt.now!==Ce.Date.now&&Rt.now,Oi=e.setTimeout!==Ce.setTimeout&&e.setTimeout,Pi=Gt.ceil,ki=Gt.floor,Vi=Wt.getOwnPropertySymbols,Ui=ce?ce.isBuffer:o,Hi=e.isFinite,Fi=$t.join,ji=wi(Wt.keys,Wt),zi=Gt.max,Gi=Gt.min,Wi=Rt.now,Ji=e.parseInt,Xi=Gt.random,qi=$t.reverse,$i=na(e,"DataView"),Ki=na(e,"Map"),Zi=na(e,"Promise"),Yi=na(e,"Set"),Qi=na(e,"WeakMap"),to=na(Wt,"create"),eo=Qi&&new Qi,io={},oo=Ha($i),no=Ha(Ki),ro=Ha(Zi),ao=Ha(Yi),so=Ha(Qi),lo=he?he.prototype:o,co=lo?lo.valueOf:o,ho=lo?lo.toString:o;function uo(t){if(nl(t)&&!Xs(t)&&!(t instanceof fo)){if(t instanceof _o)return t;if(te.call(t,"__wrapped__"))return ja(t)}return new _o(t)}var po=function(){function t(){}return function(e){if(!ol(e))return{};if(be)return be(e);t.prototype=e;var i=new t;return t.prototype=o,i}}();function go(){}function _o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function fo(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=I,this.__views__=[]}function mo(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var o=t[e];this.set(o[0],o[1])}}function yo(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var o=t[e];this.set(o[0],o[1])}}function vo(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var o=t[e];this.set(o[0],o[1])}}function bo(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new vo;++e<i;)this.add(t[e])}function Co(t){var e=this.__data__=new yo(t);this.size=e.size}function Mo(t,e){var i=Xs(t),o=!i&&Js(t),n=!i&&!o&&Zs(t),r=!i&&!o&&!n&&dl(t),a=i||o||n||r,s=a?ai(t.length,Xt):[],l=s.length;for(var c in t)!e&&!te.call(t,c)||a&&("length"==c||n&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ma(c,l))||s.push(c);return s}function wo(t){var e=t.length;return e?t[Nn(0,e-1)]:o}function So(t,e){return ka(_r(t),Po(e,0,t.length))}function xo(t){return ka(_r(t))}function Ao(t,e,i){(i===o||zs(t[e],i))&&(i!==o||e in t)||To(t,e,i)}function Eo(t,e,i){var n=t[e];te.call(t,e)&&zs(n,i)&&(i!==o||e in t)||To(t,e,i)}function Io(t,e){for(var i=t.length;i--;)if(zs(t[i][0],e))return i;return-1}function Ro(t,e,i,o){return Ho(t,function(t,n,r){e(o,t,i(t),r)}),o}function No(t,e){return t&&fr(e,Pl(e),t)}function Lo(t,e){return t&&fr(e,Bl(e),t)}function To(t,e,i){"__proto__"==e&&Xe?Xe(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Oo(t,e){for(var i=-1,n=e.length,r=xt(n),a=null==t;++i<n;)r[i]=a?o:Rl(t,e[i]);return r}function Po(t,e,i){return t==t&&(i!==o&&(t=t<=i?t:i),e!==o&&(t=t>=e?t:e)),t}function Bo(t,e,i,n,r,a){var h,u=e&s,d=e&l,p=e&c;if(i&&(h=r?i(t,n,r,a):i(t)),h!==o)return h;if(!ol(t))return t;var g=Xs(t);if(g){if(h=da(t),!u)return _r(t,h)}else{var _=la(t),f=_==U||_==H;if(Zs(t))return ar(t,u);if(_==G||_==T||f&&!r){if(h=d||f?{}:pa(t),!u)return d?yr(t,Lo(h,t)):mr(t,No(h,t))}else{if(!_e[_])return r?t:{};h=ga(t,_,u)}}a||(a=new Co);var m=a.get(t);if(m)return m;a.set(t,h),cl(t)?t.forEach(function(o){h.add(Bo(o,e,i,o,t,a))}):rl(t)&&t.forEach(function(o,n){h.set(n,Bo(o,e,i,n,t,a))});var y=g?o:(p?d?Zr:Kr:d?Bl:Pl)(t);return Be(y||t,function(o,n){y&&(o=t[n=o]),Eo(h,n,Bo(o,e,i,n,t,a))}),h}function Do(t){var e=Pl(t);return function(i){return ko(i,t,e)}}function ko(t,e,i){var n=i.length;if(null==t)return!n;for(t=Wt(t);n--;){var r=i[n],a=e[r],s=t[r];if(s===o&&!(r in t)||!a(s))return!1}return!0}function Vo(t,e,i){if("function"!=typeof t)throw new qt(r);return Oa(function(){t.apply(o,i)},e)}function Uo(t,e,i,o){var r=-1,a=Ue,s=!0,l=t.length,c=[],h=e.length;if(!l)return c;i&&(e=Fe(e,ci(i))),o?(a=He,s=!1):e.length>=n&&(a=ui,s=!1,e=new bo(e));t:for(;++r<l;){var u=t[r],d=null==i?u:i(u);if(u=o||0!==u?u:0,s&&d==d){for(var p=h;p--;)if(e[p]===d)continue t;c.push(u)}else a(e,d,o)||c.push(u)}return c}uo.templateSettings={escape:ft,evaluate:mt,interpolate:yt,variable:"",imports:{_:uo}},uo.prototype=go.prototype,uo.prototype.constructor=uo,_o.prototype=po(go.prototype),_o.prototype.constructor=_o,fo.prototype=po(go.prototype),fo.prototype.constructor=fo,mo.prototype.clear=function(){this.__data__=to?to(null):{},this.size=0},mo.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},mo.prototype.get=function(t){var e=this.__data__;if(to){var i=e[t];return"__lodash_hash_undefined__"===i?o:i}return te.call(e,t)?e[t]:o},mo.prototype.has=function(t){var e=this.__data__;return to?e[t]!==o:te.call(e,t)},mo.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=to&&e===o?"__lodash_hash_undefined__":e,this},yo.prototype.clear=function(){this.__data__=[],this.size=0},yo.prototype.delete=function(t){var e=this.__data__,i=Io(e,t);return!(i<0||(i==e.length-1?e.pop():we.call(e,i,1),--this.size,0))},yo.prototype.get=function(t){var e=this.__data__,i=Io(e,t);return i<0?o:e[i][1]},yo.prototype.has=function(t){return Io(this.__data__,t)>-1},yo.prototype.set=function(t,e){var i=this.__data__,o=Io(i,t);return o<0?(++this.size,i.push([t,e])):i[o][1]=e,this},vo.prototype.clear=function(){this.size=0,this.__data__={hash:new mo,map:new(Ki||yo),string:new mo}},vo.prototype.delete=function(t){var e=ia(this,t).delete(t);return this.size-=e?1:0,e},vo.prototype.get=function(t){return ia(this,t).get(t)},vo.prototype.has=function(t){return ia(this,t).has(t)},vo.prototype.set=function(t,e){var i=ia(this,t),o=i.size;return i.set(t,e),this.size+=i.size==o?0:1,this},bo.prototype.add=bo.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},bo.prototype.has=function(t){return this.__data__.has(t)},Co.prototype.clear=function(){this.__data__=new yo,this.size=0},Co.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Co.prototype.get=function(t){return this.__data__.get(t)},Co.prototype.has=function(t){return this.__data__.has(t)},Co.prototype.set=function(t,e){var i=this.__data__;if(i instanceof yo){var o=i.__data__;if(!Ki||o.length<n-1)return o.push([t,e]),this.size=++i.size,this;i=this.__data__=new vo(o)}return i.set(t,e),this.size=i.size,this};var Ho=Cr($o),Fo=Cr(Ko,!0);function jo(t,e){var i=!0;return Ho(t,function(t,o,n){return i=!!e(t,o,n)}),i}function zo(t,e,i){for(var n=-1,r=t.length;++n<r;){var a=t[n],s=e(a);if(null!=s&&(l===o?s==s&&!ul(s):i(s,l)))var l=s,c=a}return c}function Go(t,e,i,n){var r=t.length;for((i=ml(i))<0&&(i=-i>r?0:r+i),(n=n===o||n>r?r:ml(n))<0&&(n+=r),n=i>n?0:yl(n);i<n;)t[i++]=e;return t}function Wo(t,e){var i=[];return Ho(t,function(t,o,n){e(t,o,n)&&i.push(t)}),i}function Jo(t,e,i,o,n){var r=-1,a=t.length;for(i||(i=fa),n||(n=[]);++r<a;){var s=t[r];e>0&&i(s)?e>1?Jo(s,e-1,i,o,n):je(n,s):o||(n[n.length]=s)}return n}var Xo=Mr(),qo=Mr(!0);function $o(t,e){return t&&Xo(t,e,Pl)}function Ko(t,e){return t&&qo(t,e,Pl)}function Zo(t,e){return Ve(e,function(e){return tl(t[e])})}function Yo(t,e){for(var i=0,n=(e=ir(e,t)).length;null!=t&&i<n;)t=t[Ua(e[i++])];return i&&i==n?t:o}function Qo(t,e,i){var o=e(t);return Xs(t)?o:je(o,i(t))}function tn(t){return null==t?t===o?K:z:Je&&Je in Wt(t)?ra(t):Ea(t)}function en(t,e){return t>e}function on(t,e){return null!=t&&te.call(t,e)}function nn(t,e){return null!=t&&e in Wt(t)}function rn(t,e,i){return t>=Gi(e,i)&&t<zi(e,i)}function an(t,e,i){for(var n=i?He:Ue,r=t[0].length,a=t.length,s=a,l=xt(a),c=1/0,h=[];s--;){var u=t[s];s&&e&&(u=Fe(u,ci(e))),c=Gi(u.length,c),l[s]=!i&&(e||r>=120&&u.length>=120)?new bo(s&&u):o}u=t[0];var d=-1,p=l[0];t:for(;++d<r&&h.length<c;){var g=u[d],_=e?e(g):g;if(g=i||0!==g?g:0,!(p?ui(p,_):n(h,_,i))){for(s=a;--s;){var f=l[s];if(!(f?ui(f,_):n(t[s],_,i)))continue t}p&&p.push(_),h.push(g)}}return h}function sn(t,e,i,o){return $o(t,function(t,n,r){e(o,i(t),n,r)}),o}function ln(t,e,i){var n=null==(t=Ra(t,e=ir(e,t)))?t:t[Ua(Qa(e))];return null==n?o:Oe(n,t,i)}function cn(t){return nl(t)&&tn(t)==T}function hn(t,e,i,o,n){return t===e||(null==t||null==e||!nl(t)&&!nl(e)?t!=t&&e!=e:un(t,e,i,o,hn,n))}function un(t,e,i,o,n,r){var a=Xs(t),s=Xs(e),l=a?O:la(t),c=s?O:la(e),u=(l=l==T?G:l)==G,d=(c=c==T?G:c)==G,p=l==c;if(p&&Zs(t)){if(!Zs(e))return!1;a=!0,u=!1}if(p&&!u)return r||(r=new Co),a||dl(t)?Jr(t,e,i,o,n,r):Xr(t,e,l,i,o,n,r);if(!(i&h)){var g=u&&te.call(t,"__wrapped__"),_=d&&te.call(e,"__wrapped__");if(g||_){var f=g?t.value():t,m=_?e.value():e;return r||(r=new Co),n(f,m,i,o,r)}}return!!p&&(r||(r=new Co),qr(t,e,i,o,n,r))}function dn(t,e,i,n){var r=i.length,a=r,s=!n;if(null==t)return!a;for(t=Wt(t);r--;){var l=i[r];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++r<a;){var c=(l=i[r])[0],d=t[c],p=l[1];if(s&&l[2]){if(d===o&&!(c in t))return!1}else{var g=new Co;if(n)var _=n(d,p,c,t,e,g);if(!(_===o?hn(p,d,h|u,n,g):_))return!1}}return!0}function pn(t){return!(!ol(t)||(e=t,ie&&ie in e))&&(tl(t)?le:Dt).test(Ha(t));var e}function gn(t){return"function"==typeof t?t:null==t?ac:"object"==typeof t?Xs(t)?bn(t[0],t[1]):vn(t):_c(t)}function _n(t){if(!Ma(t))return ji(t);var e=[];for(var i in Wt(t))te.call(t,i)&&"constructor"!=i&&e.push(i);return e}function fn(t){if(!ol(t))return Aa(t);var e=Ma(t),i=[];for(var o in t)("constructor"!=o||!e&&te.call(t,o))&&i.push(o);return i}function mn(t,e){return t<e}function yn(t,e){var i=-1,o=$s(t)?xt(t.length):[];return Ho(t,function(t,n,r){o[++i]=e(t,n,r)}),o}function vn(t){var e=oa(t);return 1==e.length&&e[0][2]?Sa(e[0][0],e[0][1]):function(i){return i===t||dn(i,t,e)}}function bn(t,e){return va(t)&&wa(e)?Sa(Ua(t),e):function(i){var n=Rl(i,t);return n===o&&n===e?Nl(i,t):hn(e,n,h|u)}}function Cn(t,e,i,n,r){t!==e&&Xo(e,function(a,s){if(r||(r=new Co),ol(a))Mn(t,e,s,i,Cn,n,r);else{var l=n?n(La(t,s),a,s+"",t,e,r):o;l===o&&(l=a),Ao(t,s,l)}},Bl)}function Mn(t,e,i,n,r,a,s){var l=La(t,i),c=La(e,i),h=s.get(c);if(h)Ao(t,i,h);else{var u=a?a(l,c,i+"",t,e,s):o,d=u===o;if(d){var p=Xs(c),g=!p&&Zs(c),_=!p&&!g&&dl(c);u=c,p||g||_?Xs(l)?u=l:Ks(l)?u=_r(l):g?(d=!1,u=ar(c,!0)):_?(d=!1,u=hr(c,!0)):u=[]:sl(c)||Js(c)?(u=l,Js(l)?u=bl(l):ol(l)&&!tl(l)||(u=pa(c))):d=!1}d&&(s.set(c,u),r(u,c,n,a,s),s.delete(c)),Ao(t,i,u)}}function wn(t,e){var i=t.length;if(i)return ma(e+=e<0?i:0,i)?t[e]:o}function Sn(t,e,i){e=e.length?Fe(e,function(t){return Xs(t)?function(e){return Yo(e,1===t.length?t[0]:t)}:t}):[ac];var o=-1;return e=Fe(e,ci(ea())),ni(yn(t,function(t){return{criteria:Fe(e,function(e){return e(t)}),index:++o,value:t}}),function(t,e){return dr(t,e,i)})}function xn(t,e){return An(t,e,function(e,i){return Nl(t,i)})}function An(t,e,i){for(var o=-1,n=e.length,r={};++o<n;){var a=e[o],s=Yo(t,a);i(s,a)&&Dn(r,ir(a,t),s)}return r}function En(t){return function(e){return Yo(e,t)}}function In(t,e,i,o){var n=o?Ye:Ze,r=-1,a=e.length,s=t;for(t===e&&(e=_r(e)),i&&(s=Fe(t,ci(i)));++r<a;)for(var l=0,c=e[r],h=i?i(c):c;(l=n(s,h,l,o))>-1;)s!==t&&we.call(s,l,1),we.call(t,l,1);return t}function Rn(t,e){for(var i=t?e.length:0,o=i-1;i--;){var n=e[i];if(i==o||n!==r){var r=n;ma(n)?we.call(t,n,1):qn(t,n)}}return t}function Nn(t,e){return t+ki(Xi()*(e-t+1))}function Ln(t,e,i,o){for(var n=-1,r=zi(Pi((e-t)/(i||1)),0),a=xt(r);r--;)a[o?r:++n]=t,t+=i;return a}function Tn(t,e){var i="";if(!t||e<1||e>x)return i;do{e%2&&(i+=t),(e=ki(e/2))&&(t+=t)}while(e);return i}function On(t,e){return Pa(Ia(t,e,ac),t+"")}function Pn(t){return wo(zl(t))}function Bn(t,e){var i=zl(t);return ka(i,Po(e,0,i.length))}function Dn(t,e,i,n){if(!ol(t))return t;for(var r=-1,a=(e=ir(e,t)).length,s=a-1,l=t;null!=l&&++r<a;){var c=Ua(e[r]),h=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=s){var u=l[c];(h=n?n(u,c,l):o)===o&&(h=ol(u)?u:ma(e[r+1])?[]:{})}Eo(l,c,h),l=l[c]}return t}var kn=eo?function(t,e){return eo.set(t,e),t}:ac,Vn=Xe?function(t,e){return Xe(t,"toString",{configurable:!0,enumerable:!1,value:oc(e),writable:!0})}:ac;function Un(t){return ka(zl(t))}function Hn(t,e,i){var o=-1,n=t.length;e<0&&(e=-e>n?0:n+e),(i=i>n?n:i)<0&&(i+=n),n=e>i?0:i-e>>>0,e>>>=0;for(var r=xt(n);++o<n;)r[o]=t[o+e];return r}function Fn(t,e){var i;return Ho(t,function(t,o,n){return!(i=e(t,o,n))}),!!i}function jn(t,e,i){var o=0,n=null==t?o:t.length;if("number"==typeof e&&e==e&&n<=N){for(;o<n;){var r=o+n>>>1,a=t[r];null!==a&&!ul(a)&&(i?a<=e:a<e)?o=r+1:n=r}return n}return zn(t,e,ac,i)}function zn(t,e,i,n){var r=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=i(e))!=e,l=null===e,c=ul(e),h=e===o;r<a;){var u=ki((r+a)/2),d=i(t[u]),p=d!==o,g=null===d,_=d==d,f=ul(d);if(s)var m=n||_;else m=h?_&&(n||p):l?_&&p&&(n||!g):c?_&&p&&!g&&(n||!f):!g&&!f&&(n?d<=e:d<e);m?r=u+1:a=u}return Gi(a,R)}function Gn(t,e){for(var i=-1,o=t.length,n=0,r=[];++i<o;){var a=t[i],s=e?e(a):a;if(!i||!zs(s,l)){var l=s;r[n++]=0===a?0:a}}return r}function Wn(t){return"number"==typeof t?t:ul(t)?E:+t}function Jn(t){if("string"==typeof t)return t;if(Xs(t))return Fe(t,Jn)+"";if(ul(t))return ho?ho.call(t):"";var e=t+"";return"0"==e&&1/t==-S?"-0":e}function Xn(t,e,i){var o=-1,r=Ue,a=t.length,s=!0,l=[],c=l;if(i)s=!1,r=He;else if(a>=n){var h=e?null:Hr(t);if(h)return xi(h);s=!1,r=ui,c=new bo}else c=e?[]:l;t:for(;++o<a;){var u=t[o],d=e?e(u):u;if(u=i||0!==u?u:0,s&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue t;e&&c.push(d),l.push(u)}else r(c,d,i)||(c!==l&&c.push(d),l.push(u))}return l}function qn(t,e){return null==(t=Ra(t,e=ir(e,t)))||delete t[Ua(Qa(e))]}function $n(t,e,i,o){return Dn(t,e,i(Yo(t,e)),o)}function Kn(t,e,i,o){for(var n=t.length,r=o?n:-1;(o?r--:++r<n)&&e(t[r],r,t););return i?Hn(t,o?0:r,o?r+1:n):Hn(t,o?r+1:0,o?n:r)}function Zn(t,e){var i=t;return i instanceof fo&&(i=i.value()),ze(e,function(t,e){return e.func.apply(e.thisArg,je([t],e.args))},i)}function Yn(t,e,i){var o=t.length;if(o<2)return o?Xn(t[0]):[];for(var n=-1,r=xt(o);++n<o;)for(var a=t[n],s=-1;++s<o;)s!=n&&(r[n]=Uo(r[n]||a,t[s],e,i));return Xn(Jo(r,1),e,i)}function Qn(t,e,i){for(var n=-1,r=t.length,a=e.length,s={};++n<r;){var l=n<a?e[n]:o;i(s,t[n],l)}return s}function tr(t){return Ks(t)?t:[]}function er(t){return"function"==typeof t?t:ac}function ir(t,e){return Xs(t)?t:va(t,e)?[t]:Va(Cl(t))}var or=On;function nr(t,e,i){var n=t.length;return i=i===o?n:i,!e&&i>=n?t:Hn(t,e,i)}var rr=ii||function(t){return Ce.clearTimeout(t)};function ar(t,e){if(e)return t.slice();var i=t.length,o=fe?fe(i):new t.constructor(i);return t.copy(o),o}function sr(t){var e=new t.constructor(t.byteLength);return new ue(e).set(new ue(t)),e}function lr(t,e){var i=e?sr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function cr(t){var e=new t.constructor(t.source,Ot.exec(t));return e.lastIndex=t.lastIndex,e}function hr(t,e){var i=e?sr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function ur(t,e){if(t!==e){var i=t!==o,n=null===t,r=t==t,a=ul(t),s=e!==o,l=null===e,c=e==e,h=ul(e);if(!l&&!h&&!a&&t>e||a&&s&&c&&!l&&!h||n&&s&&c||!i&&c||!r)return 1;if(!n&&!a&&!h&&t<e||h&&i&&r&&!n&&!a||l&&i&&r||!s&&r||!c)return-1}return 0}function dr(t,e,i){for(var o=-1,n=t.criteria,r=e.criteria,a=n.length,s=i.length;++o<a;){var l=ur(n[o],r[o]);if(l)return o>=s?l:l*("desc"==i[o]?-1:1)}return t.index-e.index}function pr(t,e,i,o){for(var n=-1,r=t.length,a=i.length,s=-1,l=e.length,c=zi(r-a,0),h=xt(l+c),u=!o;++s<l;)h[s]=e[s];for(;++n<a;)(u||n<r)&&(h[i[n]]=t[n]);for(;c--;)h[s++]=t[n++];return h}function gr(t,e,i,o){for(var n=-1,r=t.length,a=-1,s=i.length,l=-1,c=e.length,h=zi(r-s,0),u=xt(h+c),d=!o;++n<h;)u[n]=t[n];for(var p=n;++l<c;)u[p+l]=e[l];for(;++a<s;)(d||n<r)&&(u[p+i[a]]=t[n++]);return u}function _r(t,e){var i=-1,o=t.length;for(e||(e=xt(o));++i<o;)e[i]=t[i];return e}function fr(t,e,i,n){var r=!i;i||(i={});for(var a=-1,s=e.length;++a<s;){var l=e[a],c=n?n(i[l],t[l],l,i,t):o;c===o&&(c=t[l]),r?To(i,l,c):Eo(i,l,c)}return i}function mr(t,e){return fr(t,aa(t),e)}function yr(t,e){return fr(t,sa(t),e)}function vr(t,e){return function(i,o){var n=Xs(i)?Pe:Ro,r=e?e():{};return n(i,t,ea(o,2),r)}}function br(t){return On(function(e,i){var n=-1,r=i.length,a=r>1?i[r-1]:o,s=r>2?i[2]:o;for(a=t.length>3&&"function"==typeof a?(r--,a):o,s&&ya(i[0],i[1],s)&&(a=r<3?o:a,r=1),e=Wt(e);++n<r;){var l=i[n];l&&t(e,l,n,a)}return e})}function Cr(t,e){return function(i,o){if(null==i)return i;if(!$s(i))return t(i,o);for(var n=i.length,r=e?n:-1,a=Wt(i);(e?r--:++r<n)&&!1!==o(a[r],r,a););return i}}function Mr(t){return function(e,i,o){for(var n=-1,r=Wt(e),a=o(e),s=a.length;s--;){var l=a[t?s:++n];if(!1===i(r[l],l,r))break}return e}}function wr(t,e,i){var o=e&d,n=Ar(t);return function e(){return(this&&this!==Ce&&this instanceof e?n:t).apply(o?i:this,arguments)}}function Sr(t){return function(e){var i=vi(e=Cl(e))?Ni(e):o,n=i?i[0]:e.charAt(0),r=i?nr(i,1).join(""):e.slice(1);return n[t]()+r}}function xr(t){return function(e){return ze(tc(Jl(e).replace(ae,"")),t,"")}}function Ar(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=po(t.prototype),o=t.apply(i,e);return ol(o)?o:i}}function Er(t,e,i){var n=Ar(t);return function r(){for(var a=arguments.length,s=xt(a),l=a,c=ta(r);l--;)s[l]=arguments[l];var h=a<3&&s[0]!==c&&s[a-1]!==c?[]:Si(s,c);return(a-=h.length)<i?Vr(t,e,Nr,r.placeholder,o,s,h,o,o,i-a):Oe(this&&this!==Ce&&this instanceof r?n:t,this,s)}}function Ir(t){return function(e,i,n){var r=Wt(e);if(!$s(e)){var a=ea(i,3);e=Pl(e),i=function(t){return a(r[t],t,r)}}var s=t(e,i,n);return s>-1?r[a?e[s]:s]:o}}function Rr(t){return $r(function(e){var i=e.length,n=i,a=_o.prototype.thru;for(t&&e.reverse();n--;){var s=e[n];if("function"!=typeof s)throw new qt(r);if(a&&!l&&"wrapper"==Qr(s))var l=new _o([],!0)}for(n=l?n:i;++n<i;){var c=Qr(s=e[n]),h="wrapper"==c?Yr(s):o;l=h&&ba(h[0])&&h[1]==(v|_|m|b)&&!h[4].length&&1==h[9]?l[Qr(h[0])].apply(l,h[3]):1==s.length&&ba(s)?l[c]():l.thru(s)}return function(){var t=arguments,o=t[0];if(l&&1==t.length&&Xs(o))return l.plant(o).value();for(var n=0,r=i?e[n].apply(this,t):o;++n<i;)r=e[n].call(this,r);return r}})}function Nr(t,e,i,n,r,a,s,l,c,h){var u=e&v,g=e&d,m=e&p,y=e&(_|f),b=e&C,M=m?o:Ar(t);return function o(){for(var d=arguments.length,p=xt(d),_=d;_--;)p[_]=arguments[_];if(y)var f=ta(o),v=gi(p,f);if(n&&(p=pr(p,n,r,y)),a&&(p=gr(p,a,s,y)),d-=v,y&&d<h){var C=Si(p,f);return Vr(t,e,Nr,o.placeholder,i,p,C,l,c,h-d)}var w=g?i:this,S=m?w[t]:t;return d=p.length,l?p=Na(p,l):b&&d>1&&p.reverse(),u&&c<d&&(p.length=c),this&&this!==Ce&&this instanceof o&&(S=M||Ar(S)),S.apply(w,p)}}function Lr(t,e){return function(i,o){return sn(i,t,e(o),{})}}function Tr(t,e){return function(i,n){var r;if(i===o&&n===o)return e;if(i!==o&&(r=i),n!==o){if(r===o)return n;"string"==typeof i||"string"==typeof n?(i=Jn(i),n=Jn(n)):(i=Wn(i),n=Wn(n)),r=t(i,n)}return r}}function Or(t){return $r(function(e){return e=Fe(e,ci(ea())),On(function(i){var o=this;return t(e,function(t){return Oe(t,o,i)})})})}function Pr(t,e){var i=(e=e===o?" ":Jn(e)).length;if(i<2)return i?Tn(e,t):e;var n=Tn(e,Pi(t/Ri(e)));return vi(e)?nr(Ni(n),0,t).join(""):n.slice(0,t)}function Br(t,e,i,o){var n=e&d,r=Ar(t);return function e(){for(var a=-1,s=arguments.length,l=-1,c=o.length,h=xt(c+s),u=this&&this!==Ce&&this instanceof e?r:t;++l<c;)h[l]=o[l];for(;s--;)h[l++]=arguments[++a];return Oe(u,n?i:this,h)}}function Dr(t){return function(e,i,n){return n&&"number"!=typeof n&&ya(e,i,n)&&(i=n=o),e=fl(e),i===o?(i=e,e=0):i=fl(i),Ln(e,i,n=n===o?e<i?1:-1:fl(n),t)}}function kr(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=vl(e),i=vl(i)),t(e,i)}}function Vr(t,e,i,n,r,a,s,l,c,h){var u=e&_;e|=u?m:y,(e&=~(u?y:m))&g||(e&=~(d|p));var f=[t,e,r,u?a:o,u?s:o,u?o:a,u?o:s,l,c,h],v=i.apply(o,f);return ba(t)&&Ta(v,f),v.placeholder=n,Ba(v,t,e)}function Ur(t){var e=Gt[t];return function(t,i){if(t=vl(t),(i=null==i?0:Gi(ml(i),292))&&Hi(t)){var o=(Cl(t)+"e").split("e");return+((o=(Cl(e(o[0]+"e"+(+o[1]+i)))+"e").split("e"))[0]+"e"+(+o[1]-i))}return e(t)}}var Hr=Yi&&1/xi(new Yi([,-0]))[1]==S?function(t){return new Yi(t)}:uc;function Fr(t){return function(e){var i=la(e);return i==F?Mi(e):i==X?Ai(e):si(e,t(e))}}function jr(t,e,i,n,a,s,l,c){var h=e&p;if(!h&&"function"!=typeof t)throw new qt(r);var u=n?n.length:0;if(u||(e&=~(m|y),n=a=o),l=l===o?l:zi(ml(l),0),c=c===o?c:ml(c),u-=a?a.length:0,e&y){var g=n,v=a;n=a=o}var b=h?o:Yr(t),C=[t,e,i,n,a,g,v,s,l,c];if(b&&xa(C,b),t=C[0],e=C[1],i=C[2],n=C[3],a=C[4],!(c=C[9]=C[9]===o?h?0:t.length:zi(C[9]-u,0))&&e&(_|f)&&(e&=~(_|f)),e&&e!=d)M=e==_||e==f?Er(t,e,c):e!=m&&e!=(d|m)||a.length?Nr.apply(o,C):Br(t,e,i,n);else var M=wr(t,e,i);return Ba((b?kn:Ta)(M,C),t,e)}function zr(t,e,i,n){return t===o||zs(t,Zt[i])&&!te.call(n,i)?e:t}function Gr(t,e,i,n,r,a){return ol(t)&&ol(e)&&(a.set(e,t),Cn(t,e,o,Gr,a),a.delete(e)),t}function Wr(t){return sl(t)?o:t}function Jr(t,e,i,n,r,a){var s=i&h,l=t.length,c=e.length;if(l!=c&&!(s&&c>l))return!1;var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var g=-1,_=!0,f=i&u?new bo:o;for(a.set(t,e),a.set(e,t);++g<l;){var m=t[g],y=e[g];if(n)var v=s?n(y,m,g,e,t,a):n(m,y,g,t,e,a);if(v!==o){if(v)continue;_=!1;break}if(f){if(!We(e,function(t,e){if(!ui(f,e)&&(m===t||r(m,t,i,n,a)))return f.push(e)})){_=!1;break}}else if(m!==y&&!r(m,y,i,n,a)){_=!1;break}}return a.delete(t),a.delete(e),_}function Xr(t,e,i,o,n,r,a){switch(i){case Q:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Y:return!(t.byteLength!=e.byteLength||!r(new ue(t),new ue(e)));case B:case D:case j:return zs(+t,+e);case V:return t.name==e.name&&t.message==e.message;case J:case q:return t==e+"";case F:var s=Mi;case X:var l=o&h;if(s||(s=xi),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;o|=u,a.set(t,e);var d=Jr(s(t),s(e),o,n,r,a);return a.delete(t),d;case $:if(co)return co.call(t)==co.call(e)}return!1}function qr(t,e,i,n,r,a){var s=i&h,l=Kr(t),c=l.length;if(c!=Kr(e).length&&!s)return!1;for(var u=c;u--;){var d=l[u];if(!(s?d in e:te.call(e,d)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var _=!0;a.set(t,e),a.set(e,t);for(var f=s;++u<c;){var m=t[d=l[u]],y=e[d];if(n)var v=s?n(y,m,d,e,t,a):n(m,y,d,t,e,a);if(!(v===o?m===y||r(m,y,i,n,a):v)){_=!1;break}f||(f="constructor"==d)}if(_&&!f){var b=t.constructor,C=e.constructor;b!=C&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof C&&C instanceof C)&&(_=!1)}return a.delete(t),a.delete(e),_}function $r(t){return Pa(Ia(t,o,qa),t+"")}function Kr(t){return Qo(t,Pl,aa)}function Zr(t){return Qo(t,Bl,sa)}var Yr=eo?function(t){return eo.get(t)}:uc;function Qr(t){for(var e=t.name+"",i=io[e],o=te.call(io,e)?i.length:0;o--;){var n=i[o],r=n.func;if(null==r||r==t)return n.name}return e}function ta(t){return(te.call(uo,"placeholder")?uo:t).placeholder}function ea(){var t=uo.iteratee||sc;return t=t===sc?gn:t,arguments.length?t(arguments[0],arguments[1]):t}function ia(t,e){var i,o,n=t.__data__;return("string"==(o=typeof(i=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==i:null===i)?n["string"==typeof e?"string":"hash"]:n.map}function oa(t){for(var e=Pl(t),i=e.length;i--;){var o=e[i],n=t[o];e[i]=[o,n,wa(n)]}return e}function na(t,e){var i=yi(t,e);return pn(i)?i:o}function ra(t){var e=te.call(t,Je),i=t[Je];try{t[Je]=o;var n=!0}catch(a){}var r=oe.call(t);return n&&(e?t[Je]=i:delete t[Je]),r}var aa=Vi?function(t){return null==t?[]:(t=Wt(t),Ve(Vi(t),function(e){return Me.call(t,e)}))}:yc,sa=Vi?function(t){for(var e=[];t;)je(e,aa(t)),t=ve(t);return e}:yc,la=tn;function ca(t,e,i){for(var o=-1,n=i.length;++o<n;){var r=i[o],a=r.size;switch(r.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Gi(e,t+a);break;case"takeRight":t=zi(t,e-a)}}return{start:t,end:e}}function ha(t){var e=t.match(Et);return e?e[1].split(It):[]}function ua(t,e,i){for(var o=-1,n=(e=ir(e,t)).length,r=!1;++o<n;){var a=Ua(e[o]);if(!(r=null!=t&&i(t,a)))break;t=t[a]}return r||++o!=n?r:!!(n=null==t?0:t.length)&&il(n)&&ma(a,n)&&(Xs(t)||Js(t))}function da(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&te.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function pa(t){return"function"!=typeof t.constructor||Ma(t)?{}:po(ve(t))}function ga(t,e,i){var o,n=t.constructor;switch(e){case Y:return sr(t);case B:case D:return new n(+t);case Q:return lr(t,i);case tt:case et:case it:case ot:case nt:case rt:case at:case st:case lt:return hr(t,i);case F:return new n;case j:case q:return new n(t);case J:return cr(t);case X:return new n;case $:return o=t,co?Wt(co.call(o)):{}}}function _a(t,e){var i=e.length;if(!i)return t;var o=i-1;return e[o]=(i>1?"& ":"")+e[o],e=e.join(i>2?", ":" "),t.replace(At,"{\n/* [wrapped with "+e+"] */\n")}function fa(t){return Xs(t)||Js(t)||!!(xe&&t&&t[xe])}function ma(t,e){var i=typeof t;return!!(e=null==e?x:e)&&("number"==i||"symbol"!=i&&Vt.test(t))&&t>-1&&t%1==0&&t<e}function ya(t,e,i){if(!ol(i))return!1;var o=typeof e;return!!("number"==o?$s(i)&&ma(e,i.length):"string"==o&&e in i)&&zs(i[e],t)}function va(t,e){if(Xs(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!ul(t))||bt.test(t)||!vt.test(t)||null!=e&&t in Wt(e)}function ba(t){var e=Qr(t),i=uo[e];if("function"!=typeof i||!(e in fo.prototype))return!1;if(t===i)return!0;var o=Yr(i);return!!o&&t===o[0]}($i&&la(new $i(new ArrayBuffer(1)))!=Q||Ki&&la(new Ki)!=F||Zi&&"[object Promise]"!=la(Zi.resolve())||Yi&&la(new Yi)!=X||Qi&&la(new Qi)!=Z)&&(la=function(t){var e=tn(t),i=e==G?t.constructor:o,n=i?Ha(i):"";if(n)switch(n){case oo:return Q;case no:return F;case ro:return"[object Promise]";case ao:return X;case so:return Z}return e});var Ca=Yt?tl:vc;function Ma(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Zt)}function wa(t){return t==t&&!ol(t)}function Sa(t,e){return function(i){return null!=i&&i[t]===e&&(e!==o||t in Wt(i))}}function xa(t,e){var i=t[1],o=e[1],n=i|o,r=n<(d|p|v),s=o==v&&i==_||o==v&&i==b&&t[7].length<=e[8]||o==(v|b)&&e[7].length<=e[8]&&i==_;if(!r&&!s)return t;o&d&&(t[2]=e[2],n|=i&d?0:g);var l=e[3];if(l){var c=t[3];t[3]=c?pr(c,l,e[4]):l,t[4]=c?Si(t[3],a):e[4]}return(l=e[5])&&(c=t[5],t[5]=c?gr(c,l,e[6]):l,t[6]=c?Si(t[5],a):e[6]),(l=e[7])&&(t[7]=l),o&v&&(t[8]=null==t[8]?e[8]:Gi(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=n,t}function Aa(t){var e=[];if(null!=t)for(var i in Wt(t))e.push(i);return e}function Ea(t){return oe.call(t)}function Ia(t,e,i){return e=zi(e===o?t.length-1:e,0),function(){for(var o=arguments,n=-1,r=zi(o.length-e,0),a=xt(r);++n<r;)a[n]=o[e+n];n=-1;for(var s=xt(e+1);++n<e;)s[n]=o[n];return s[e]=i(a),Oe(t,this,s)}}function Ra(t,e){return e.length<2?t:Yo(t,Hn(e,0,-1))}function Na(t,e){for(var i=t.length,n=Gi(e.length,i),r=_r(t);n--;){var a=e[n];t[n]=ma(a,i)?r[a]:o}return t}function La(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ta=Da(kn),Oa=Oi||function(t,e){return Ce.setTimeout(t,e)},Pa=Da(Vn);function Ba(t,e,i){var o=e+"";return Pa(t,_a(o,Fa(ha(o),i)))}function Da(t){var e=0,i=0;return function(){var n=Wi(),r=w-(n-i);if(i=n,r>0){if(++e>=M)return arguments[0]}else e=0;return t.apply(o,arguments)}}function ka(t,e){var i=-1,n=t.length,r=n-1;for(e=e===o?n:e;++i<e;){var a=Nn(i,r),s=t[a];t[a]=t[i],t[i]=s}return t.length=e,t}var Va=function(){var t=ks(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ct,function(t,i,o,n){e.push(o?n.replace(Lt,"$1"):i||t)}),e},function(t){return 500===e.size&&e.clear(),t}),e=t.cache;return t}();function Ua(t){if("string"==typeof t||ul(t))return t;var e=t+"";return"0"==e&&1/t==-S?"-0":e}function Ha(t){if(null!=t){try{return Qt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Fa(t,e){return Be(L,function(i){var o="_."+i[0];e&i[1]&&!Ue(t,o)&&t.push(o)}),t.sort()}function ja(t){if(t instanceof fo)return t.clone();var e=new _o(t.__wrapped__,t.__chain__);return e.__actions__=_r(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var za=On(function(t,e){return Ks(t)?Uo(t,Jo(e,1,Ks,!0)):[]}),Ga=On(function(t,e){var i=Qa(e);return Ks(i)&&(i=o),Ks(t)?Uo(t,Jo(e,1,Ks,!0),ea(i,2)):[]}),Wa=On(function(t,e){var i=Qa(e);return Ks(i)&&(i=o),Ks(t)?Uo(t,Jo(e,1,Ks,!0),o,i):[]});function Ja(t,e,i){var o=null==t?0:t.length;if(!o)return-1;var n=null==i?0:ml(i);return n<0&&(n=zi(o+n,0)),Ke(t,ea(e,3),n)}function Xa(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n-1;return i!==o&&(r=ml(i),r=i<0?zi(n+r,0):Gi(r,n-1)),Ke(t,ea(e,3),r,!0)}function qa(t){return null!=t&&t.length?Jo(t,1):[]}function $a(t){return t&&t.length?t[0]:o}var Ka=On(function(t){var e=Fe(t,tr);return e.length&&e[0]===t[0]?an(e):[]}),Za=On(function(t){var e=Qa(t),i=Fe(t,tr);return e===Qa(i)?e=o:i.pop(),i.length&&i[0]===t[0]?an(i,ea(e,2)):[]}),Ya=On(function(t){var e=Qa(t),i=Fe(t,tr);return(e="function"==typeof e?e:o)&&i.pop(),i.length&&i[0]===t[0]?an(i,o,e):[]});function Qa(t){var e=null==t?0:t.length;return e?t[e-1]:o}var ts=On(es);function es(t,e){return t&&t.length&&e&&e.length?In(t,e):t}var is=$r(function(t,e){var i=null==t?0:t.length,o=Oo(t,e);return Rn(t,Fe(e,function(t){return ma(t,i)?+t:t}).sort(ur)),o});function os(t){return null==t?t:qi.call(t)}var ns=On(function(t){return Xn(Jo(t,1,Ks,!0))}),rs=On(function(t){var e=Qa(t);return Ks(e)&&(e=o),Xn(Jo(t,1,Ks,!0),ea(e,2))}),as=On(function(t){var e=Qa(t);return e="function"==typeof e?e:o,Xn(Jo(t,1,Ks,!0),o,e)});function ss(t){if(!t||!t.length)return[];var e=0;return t=Ve(t,function(t){if(Ks(t))return e=zi(t.length,e),!0}),ai(e,function(e){return Fe(t,ei(e))})}function ls(t,e){if(!t||!t.length)return[];var i=ss(t);return null==e?i:Fe(i,function(t){return Oe(e,o,t)})}var cs=On(function(t,e){return Ks(t)?Uo(t,e):[]}),hs=On(function(t){return Yn(Ve(t,Ks))}),us=On(function(t){var e=Qa(t);return Ks(e)&&(e=o),Yn(Ve(t,Ks),ea(e,2))}),ds=On(function(t){var e=Qa(t);return e="function"==typeof e?e:o,Yn(Ve(t,Ks),o,e)}),ps=On(ss),gs=On(function(t){var e=t.length,i=e>1?t[e-1]:o;return i="function"==typeof i?(t.pop(),i):o,ls(t,i)});function _s(t){var e=uo(t);return e.__chain__=!0,e}function fs(t,e){return e(t)}var ms=$r(function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,r=function(e){return Oo(e,t)};return!(e>1||this.__actions__.length)&&n instanceof fo&&ma(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:fs,args:[r],thisArg:o}),new _o(n,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(r)}),ys=vr(function(t,e,i){te.call(t,i)?++t[i]:To(t,i,1)}),vs=Ir(Ja),bs=Ir(Xa);function Cs(t,e){return(Xs(t)?Be:Ho)(t,ea(e,3))}function Ms(t,e){return(Xs(t)?De:Fo)(t,ea(e,3))}var ws=vr(function(t,e,i){te.call(t,i)?t[i].push(e):To(t,i,[e])}),Ss=On(function(t,e,i){var o=-1,n="function"==typeof e,r=$s(t)?xt(t.length):[];return Ho(t,function(t){r[++o]=n?Oe(e,t,i):ln(t,e,i)}),r}),xs=vr(function(t,e,i){To(t,i,e)});function As(t,e){return(Xs(t)?Fe:yn)(t,ea(e,3))}var Es=vr(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]}),Is=On(function(t,e){if(null==t)return[];var i=e.length;return i>1&&ya(t,e[0],e[1])?e=[]:i>2&&ya(e[0],e[1],e[2])&&(e=[e[0]]),Sn(t,Jo(e,1),[])}),Rs=Ei||function(){return Ce.Date.now()};function Ns(t,e,i){return e=i?o:e,e=t&&null==e?t.length:e,jr(t,v,o,o,o,o,e)}function Ls(t,e){var i;if("function"!=typeof e)throw new qt(r);return t=ml(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=o),i}}var Ts=On(function(t,e,i){var o=d;if(i.length){var n=Si(i,ta(Ts));o|=m}return jr(t,o,e,i,n)}),Os=On(function(t,e,i){var o=d|p;if(i.length){var n=Si(i,ta(Os));o|=m}return jr(e,o,t,i,n)});function Ps(t,e,i){var n,a,s,l,c,h,u=0,d=!1,p=!1,g=!0;if("function"!=typeof t)throw new qt(r);function _(e){var i=n,r=a;return n=a=o,u=e,l=t.apply(r,i)}function f(t){return u=t,c=Oa(v,e),d?_(t):l}function m(t){var i=e-(t-h);return p?Gi(i,s-(t-u)):i}function y(t){var i=t-h;return h===o||i>=e||i<0||p&&t-u>=s}function v(){var t=Rs();if(y(t))return b(t);c=Oa(v,m(t))}function b(t){return c=o,g&&n?_(t):(n=a=o,l)}function C(){var t=Rs(),i=y(t);if(n=arguments,a=this,h=t,i){if(c===o)return f(h);if(p)return rr(c),c=Oa(v,e),_(h)}return c===o&&(c=Oa(v,e)),l}return e=vl(e)||0,ol(i)&&(d=!!i.leading,s=(p="maxWait"in i)?zi(vl(i.maxWait)||0,e):s,g="trailing"in i?!!i.trailing:g),C.cancel=function(){c!==o&&rr(c),u=0,n=h=a=c=o},C.flush=function(){return c===o?l:b(Rs())},C}var Bs=On(function(t,e){return Vo(t,1,e)}),Ds=On(function(t,e,i){return Vo(t,vl(e)||0,i)});function ks(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new qt(r);var i=function(){var o=arguments,n=e?e.apply(this,o):o[0],r=i.cache;if(r.has(n))return r.get(n);var a=t.apply(this,o);return i.cache=r.set(n,a)||r,a};return i.cache=new(ks.Cache||vo),i}function Vs(t){if("function"!=typeof t)throw new qt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ks.Cache=vo;var Us=or(function(t,e){var i=(e=1==e.length&&Xs(e[0])?Fe(e[0],ci(ea())):Fe(Jo(e,1),ci(ea()))).length;return On(function(o){for(var n=-1,r=Gi(o.length,i);++n<r;)o[n]=e[n].call(this,o[n]);return Oe(t,this,o)})}),Hs=On(function(t,e){var i=Si(e,ta(Hs));return jr(t,m,o,e,i)}),Fs=On(function(t,e){var i=Si(e,ta(Fs));return jr(t,y,o,e,i)}),js=$r(function(t,e){return jr(t,b,o,o,o,e)});function zs(t,e){return t===e||t!=t&&e!=e}var Gs=kr(en),Ws=kr(function(t,e){return t>=e}),Js=cn(function(){return arguments}())?cn:function(t){return nl(t)&&te.call(t,"callee")&&!Me.call(t,"callee")},Xs=xt.isArray,qs=Ee?ci(Ee):function(t){return nl(t)&&tn(t)==Y};function $s(t){return null!=t&&il(t.length)&&!tl(t)}function Ks(t){return nl(t)&&$s(t)}var Zs=Ui||vc,Ys=Ie?ci(Ie):function(t){return nl(t)&&tn(t)==D};function Qs(t){if(!nl(t))return!1;var e=tn(t);return e==V||e==k||"string"==typeof t.message&&"string"==typeof t.name&&!sl(t)}function tl(t){if(!ol(t))return!1;var e=tn(t);return e==U||e==H||e==P||e==W}function el(t){return"number"==typeof t&&t==ml(t)}function il(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=x}function ol(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function nl(t){return null!=t&&"object"==typeof t}var rl=Re?ci(Re):function(t){return nl(t)&&la(t)==F};function al(t){return"number"==typeof t||nl(t)&&tn(t)==j}function sl(t){if(!nl(t)||tn(t)!=G)return!1;var e=ve(t);if(null===e)return!0;var i=te.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&Qt.call(i)==ne}var ll=Ne?ci(Ne):function(t){return nl(t)&&tn(t)==J},cl=Le?ci(Le):function(t){return nl(t)&&la(t)==X};function hl(t){return"string"==typeof t||!Xs(t)&&nl(t)&&tn(t)==q}function ul(t){return"symbol"==typeof t||nl(t)&&tn(t)==$}var dl=Te?ci(Te):function(t){return nl(t)&&il(t.length)&&!!ge[tn(t)]},pl=kr(mn),gl=kr(function(t,e){return t<=e});function _l(t){if(!t)return[];if($s(t))return hl(t)?Ni(t):_r(t);if(Ae&&t[Ae])return Ci(t[Ae]());var e=la(t);return(e==F?Mi:e==X?xi:zl)(t)}function fl(t){return t?(t=vl(t))===S||t===-S?(t<0?-1:1)*A:t==t?t:0:0===t?t:0}function ml(t){var e=fl(t),i=e%1;return e==e?i?e-i:e:0}function yl(t){return t?Po(ml(t),0,I):0}function vl(t){if("number"==typeof t)return t;if(ul(t))return E;if(ol(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ol(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=li(t);var i=Bt.test(t);return i||kt.test(t)?ye(t.slice(2),i?2:8):Pt.test(t)?E:+t}function bl(t){return fr(t,Bl(t))}function Cl(t){return null==t?"":Jn(t)}var Ml=br(function(t,e){if(Ma(e)||$s(e))fr(e,Pl(e),t);else for(var i in e)te.call(e,i)&&Eo(t,i,e[i])}),wl=br(function(t,e){fr(e,Bl(e),t)}),Sl=br(function(t,e,i,o){fr(e,Bl(e),t,o)}),xl=br(function(t,e,i,o){fr(e,Pl(e),t,o)}),Al=$r(Oo),El=On(function(t,e){t=Wt(t);var i=-1,n=e.length,r=n>2?e[2]:o;for(r&&ya(e[0],e[1],r)&&(n=1);++i<n;)for(var a=e[i],s=Bl(a),l=-1,c=s.length;++l<c;){var h=s[l],u=t[h];(u===o||zs(u,Zt[h])&&!te.call(t,h))&&(t[h]=a[h])}return t}),Il=On(function(t){return t.push(o,Gr),Oe(kl,o,t)});function Rl(t,e,i){var n=null==t?o:Yo(t,e);return n===o?i:n}function Nl(t,e){return null!=t&&ua(t,e,nn)}var Ll=Lr(function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=oe.call(e)),t[e]=i},oc(ac)),Tl=Lr(function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=oe.call(e)),te.call(t,e)?t[e].push(i):t[e]=[i]},ea),Ol=On(ln);function Pl(t){return $s(t)?Mo(t):_n(t)}function Bl(t){return $s(t)?Mo(t,!0):fn(t)}var Dl=br(function(t,e,i){Cn(t,e,i)}),kl=br(function(t,e,i,o){Cn(t,e,i,o)}),Vl=$r(function(t,e){var i={};if(null==t)return i;var o=!1;e=Fe(e,function(e){return e=ir(e,t),o||(o=e.length>1),e}),fr(t,Zr(t),i),o&&(i=Bo(i,s|l|c,Wr));for(var n=e.length;n--;)qn(i,e[n]);return i}),Ul=$r(function(t,e){return null==t?{}:xn(t,e)});function Hl(t,e){if(null==t)return{};var i=Fe(Zr(t),function(t){return[t]});return e=ea(e),An(t,i,function(t,i){return e(t,i[0])})}var Fl=Fr(Pl),jl=Fr(Bl);function zl(t){return null==t?[]:hi(t,Pl(t))}var Gl=xr(function(t,e,i){return e=e.toLowerCase(),t+(i?Wl(e):e)});function Wl(t){return Ql(Cl(t).toLowerCase())}function Jl(t){return(t=Cl(t))&&t.replace(Ut,_i).replace(se,"")}var Xl=xr(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()}),ql=xr(function(t,e,i){return t+(i?" ":"")+e.toLowerCase()}),$l=Sr("toLowerCase"),Kl=xr(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}),Zl=xr(function(t,e,i){return t+(i?" ":"")+Ql(e)}),Yl=xr(function(t,e,i){return t+(i?" ":"")+e.toUpperCase()}),Ql=Sr("toUpperCase");function tc(t,e,i){return t=Cl(t),(e=i?o:e)===o?bi(t)?Bi(t):qe(t):t.match(e)||[]}var ec=On(function(t,e){try{return Oe(t,o,e)}catch(i){return Qs(i)?i:new jt(i)}}),ic=$r(function(t,e){return Be(e,function(e){e=Ua(e),To(t,e,Ts(t[e],t))}),t});function oc(t){return function(){return t}}var nc=Rr(),rc=Rr(!0);function ac(t){return t}function sc(t){return gn("function"==typeof t?t:Bo(t,s))}var lc=On(function(t,e){return function(i){return ln(i,t,e)}}),cc=On(function(t,e){return function(i){return ln(t,i,e)}});function hc(t,e,i){var o=Pl(e),n=Zo(e,o);null!=i||ol(e)&&(n.length||!o.length)||(i=e,e=t,t=this,n=Zo(e,Pl(e)));var r=!(ol(i)&&"chain"in i&&!i.chain),a=tl(t);return Be(n,function(i){var o=e[i];t[i]=o,a&&(t.prototype[i]=function(){var e=this.__chain__;if(r||e){var i=t(this.__wrapped__),n=i.__actions__=_r(this.__actions__);return n.push({func:o,args:arguments,thisArg:t}),i.__chain__=e,i}return o.apply(t,je([this.value()],arguments))})}),t}function uc(){}var dc=Or(Fe),pc=Or(ke),gc=Or(We);function _c(t){return va(t)?ei(Ua(t)):En(t)}var fc=Dr(),mc=Dr(!0);function yc(){return[]}function vc(){return!1}var bc,Cc=Tr(function(t,e){return t+e},0),Mc=Ur("ceil"),wc=Tr(function(t,e){return t/e},1),Sc=Ur("floor"),xc=Tr(function(t,e){return t*e},1),Ac=Ur("round"),Ec=Tr(function(t,e){return t-e},0);return uo.after=function(t,e){if("function"!=typeof e)throw new qt(r);return t=ml(t),function(){if(--t<1)return e.apply(this,arguments)}},uo.ary=Ns,uo.assign=Ml,uo.assignIn=wl,uo.assignInWith=Sl,uo.assignWith=xl,uo.at=Al,uo.before=Ls,uo.bind=Ts,uo.bindAll=ic,uo.bindKey=Os,uo.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Xs(t)?t:[t]},uo.chain=_s,uo.chunk=function(t,e,i){e=(i?ya(t,e,i):e===o)?1:zi(ml(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var r=0,a=0,s=xt(Pi(n/e));r<n;)s[a++]=Hn(t,r,r+=e);return s},uo.compact=function(t){for(var e=-1,i=null==t?0:t.length,o=0,n=[];++e<i;){var r=t[e];r&&(n[o++]=r)}return n},uo.concat=function(){var t=arguments.length;if(!t)return[];for(var e=xt(t-1),i=arguments[0],o=t;o--;)e[o-1]=arguments[o];return je(Xs(i)?_r(i):[i],Jo(e,1))},uo.cond=function(t){var e=null==t?0:t.length,i=ea();return t=e?Fe(t,function(t){if("function"!=typeof t[1])throw new qt(r);return[i(t[0]),t[1]]}):[],On(function(i){for(var o=-1;++o<e;){var n=t[o];if(Oe(n[0],this,i))return Oe(n[1],this,i)}})},uo.conforms=function(t){return Do(Bo(t,s))},uo.constant=oc,uo.countBy=ys,uo.create=function(t,e){var i=po(t);return null==e?i:No(i,e)},uo.curry=function t(e,i,n){var r=jr(e,_,o,o,o,o,o,i=n?o:i);return r.placeholder=t.placeholder,r},uo.curryRight=function t(e,i,n){var r=jr(e,f,o,o,o,o,o,i=n?o:i);return r.placeholder=t.placeholder,r},uo.debounce=Ps,uo.defaults=El,uo.defaultsDeep=Il,uo.defer=Bs,uo.delay=Ds,uo.difference=za,uo.differenceBy=Ga,uo.differenceWith=Wa,uo.drop=function(t,e,i){var n=null==t?0:t.length;return n?Hn(t,(e=i||e===o?1:ml(e))<0?0:e,n):[]},uo.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?Hn(t,0,(e=n-(e=i||e===o?1:ml(e)))<0?0:e):[]},uo.dropRightWhile=function(t,e){return t&&t.length?Kn(t,ea(e,3),!0,!0):[]},uo.dropWhile=function(t,e){return t&&t.length?Kn(t,ea(e,3),!0):[]},uo.fill=function(t,e,i,o){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&ya(t,e,i)&&(i=0,o=n),Go(t,e,i,o)):[]},uo.filter=function(t,e){return(Xs(t)?Ve:Wo)(t,ea(e,3))},uo.flatMap=function(t,e){return Jo(As(t,e),1)},uo.flatMapDeep=function(t,e){return Jo(As(t,e),S)},uo.flatMapDepth=function(t,e,i){return i=i===o?1:ml(i),Jo(As(t,e),i)},uo.flatten=qa,uo.flattenDeep=function(t){return null!=t&&t.length?Jo(t,S):[]},uo.flattenDepth=function(t,e){return null!=t&&t.length?Jo(t,e=e===o?1:ml(e)):[]},uo.flip=function(t){return jr(t,C)},uo.flow=nc,uo.flowRight=rc,uo.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,o={};++e<i;){var n=t[e];o[n[0]]=n[1]}return o},uo.functions=function(t){return null==t?[]:Zo(t,Pl(t))},uo.functionsIn=function(t){return null==t?[]:Zo(t,Bl(t))},uo.groupBy=ws,uo.initial=function(t){return null!=t&&t.length?Hn(t,0,-1):[]},uo.intersection=Ka,uo.intersectionBy=Za,uo.intersectionWith=Ya,uo.invert=Ll,uo.invertBy=Tl,uo.invokeMap=Ss,uo.iteratee=sc,uo.keyBy=xs,uo.keys=Pl,uo.keysIn=Bl,uo.map=As,uo.mapKeys=function(t,e){var i={};return e=ea(e,3),$o(t,function(t,o,n){To(i,e(t,o,n),t)}),i},uo.mapValues=function(t,e){var i={};return e=ea(e,3),$o(t,function(t,o,n){To(i,o,e(t,o,n))}),i},uo.matches=function(t){return vn(Bo(t,s))},uo.matchesProperty=function(t,e){return bn(t,Bo(e,s))},uo.memoize=ks,uo.merge=Dl,uo.mergeWith=kl,uo.method=lc,uo.methodOf=cc,uo.mixin=hc,uo.negate=Vs,uo.nthArg=function(t){return t=ml(t),On(function(e){return wn(e,t)})},uo.omit=Vl,uo.omitBy=function(t,e){return Hl(t,Vs(ea(e)))},uo.once=function(t){return Ls(2,t)},uo.orderBy=function(t,e,i,n){return null==t?[]:(Xs(e)||(e=null==e?[]:[e]),Xs(i=n?o:i)||(i=null==i?[]:[i]),Sn(t,e,i))},uo.over=dc,uo.overArgs=Us,uo.overEvery=pc,uo.overSome=gc,uo.partial=Hs,uo.partialRight=Fs,uo.partition=Es,uo.pick=Ul,uo.pickBy=Hl,uo.property=_c,uo.propertyOf=function(t){return function(e){return null==t?o:Yo(t,e)}},uo.pull=ts,uo.pullAll=es,uo.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?In(t,e,ea(i,2)):t},uo.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?In(t,e,o,i):t},uo.pullAt=is,uo.range=fc,uo.rangeRight=mc,uo.rearg=js,uo.reject=function(t,e){return(Xs(t)?Ve:Wo)(t,Vs(ea(e,3)))},uo.remove=function(t,e){var i=[];if(!t||!t.length)return i;var o=-1,n=[],r=t.length;for(e=ea(e,3);++o<r;){var a=t[o];e(a,o,t)&&(i.push(a),n.push(o))}return Rn(t,n),i},uo.rest=function(t,e){if("function"!=typeof t)throw new qt(r);return On(t,e=e===o?e:ml(e))},uo.reverse=os,uo.sampleSize=function(t,e,i){return e=(i?ya(t,e,i):e===o)?1:ml(e),(Xs(t)?So:Bn)(t,e)},uo.set=function(t,e,i){return null==t?t:Dn(t,e,i)},uo.setWith=function(t,e,i,n){return n="function"==typeof n?n:o,null==t?t:Dn(t,e,i,n)},uo.shuffle=function(t){return(Xs(t)?xo:Un)(t)},uo.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&ya(t,e,i)?(e=0,i=n):(e=null==e?0:ml(e),i=i===o?n:ml(i)),Hn(t,e,i)):[]},uo.sortBy=Is,uo.sortedUniq=function(t){return t&&t.length?Gn(t):[]},uo.sortedUniqBy=function(t,e){return t&&t.length?Gn(t,ea(e,2)):[]},uo.split=function(t,e,i){return i&&"number"!=typeof i&&ya(t,e,i)&&(e=i=o),(i=i===o?I:i>>>0)?(t=Cl(t))&&("string"==typeof e||null!=e&&!ll(e))&&!(e=Jn(e))&&vi(t)?nr(Ni(t),0,i):t.split(e,i):[]},uo.spread=function(t,e){if("function"!=typeof t)throw new qt(r);return e=null==e?0:zi(ml(e),0),On(function(i){var o=i[e],n=nr(i,0,e);return o&&je(n,o),Oe(t,this,n)})},uo.tail=function(t){var e=null==t?0:t.length;return e?Hn(t,1,e):[]},uo.take=function(t,e,i){return t&&t.length?Hn(t,0,(e=i||e===o?1:ml(e))<0?0:e):[]},uo.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?Hn(t,(e=n-(e=i||e===o?1:ml(e)))<0?0:e,n):[]},uo.takeRightWhile=function(t,e){return t&&t.length?Kn(t,ea(e,3),!1,!0):[]},uo.takeWhile=function(t,e){return t&&t.length?Kn(t,ea(e,3)):[]},uo.tap=function(t,e){return e(t),t},uo.throttle=function(t,e,i){var o=!0,n=!0;if("function"!=typeof t)throw new qt(r);return ol(i)&&(o="leading"in i?!!i.leading:o,n="trailing"in i?!!i.trailing:n),Ps(t,e,{leading:o,maxWait:e,trailing:n})},uo.thru=fs,uo.toArray=_l,uo.toPairs=Fl,uo.toPairsIn=jl,uo.toPath=function(t){return Xs(t)?Fe(t,Ua):ul(t)?[t]:_r(Va(Cl(t)))},uo.toPlainObject=bl,uo.transform=function(t,e,i){var o=Xs(t),n=o||Zs(t)||dl(t);if(e=ea(e,4),null==i){var r=t&&t.constructor;i=n?o?new r:[]:ol(t)&&tl(r)?po(ve(t)):{}}return(n?Be:$o)(t,function(t,o,n){return e(i,t,o,n)}),i},uo.unary=function(t){return Ns(t,1)},uo.union=ns,uo.unionBy=rs,uo.unionWith=as,uo.uniq=function(t){return t&&t.length?Xn(t):[]},uo.uniqBy=function(t,e){return t&&t.length?Xn(t,ea(e,2)):[]},uo.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Xn(t,o,e):[]},uo.unset=function(t,e){return null==t||qn(t,e)},uo.unzip=ss,uo.unzipWith=ls,uo.update=function(t,e,i){return null==t?t:$n(t,e,er(i))},uo.updateWith=function(t,e,i,n){return n="function"==typeof n?n:o,null==t?t:$n(t,e,er(i),n)},uo.values=zl,uo.valuesIn=function(t){return null==t?[]:hi(t,Bl(t))},uo.without=cs,uo.words=tc,uo.wrap=function(t,e){return Hs(er(e),t)},uo.xor=hs,uo.xorBy=us,uo.xorWith=ds,uo.zip=ps,uo.zipObject=function(t,e){return Qn(t||[],e||[],Eo)},uo.zipObjectDeep=function(t,e){return Qn(t||[],e||[],Dn)},uo.zipWith=gs,uo.entries=Fl,uo.entriesIn=jl,uo.extend=wl,uo.extendWith=Sl,hc(uo,uo),uo.add=Cc,uo.attempt=ec,uo.camelCase=Gl,uo.capitalize=Wl,uo.ceil=Mc,uo.clamp=function(t,e,i){return i===o&&(i=e,e=o),i!==o&&(i=(i=vl(i))==i?i:0),e!==o&&(e=(e=vl(e))==e?e:0),Po(vl(t),e,i)},uo.clone=function(t){return Bo(t,c)},uo.cloneDeep=function(t){return Bo(t,s|c)},uo.cloneDeepWith=function(t,e){return Bo(t,s|c,e="function"==typeof e?e:o)},uo.cloneWith=function(t,e){return Bo(t,c,e="function"==typeof e?e:o)},uo.conformsTo=function(t,e){return null==e||ko(t,e,Pl(e))},uo.deburr=Jl,uo.defaultTo=function(t,e){return null==t||t!=t?e:t},uo.divide=wc,uo.endsWith=function(t,e,i){t=Cl(t),e=Jn(e);var n=t.length,r=i=i===o?n:Po(ml(i),0,n);return(i-=e.length)>=0&&t.slice(i,r)==e},uo.eq=zs,uo.escape=function(t){return(t=Cl(t))&&_t.test(t)?t.replace(pt,fi):t},uo.escapeRegExp=function(t){return(t=Cl(t))&&wt.test(t)?t.replace(Mt,"\\$&"):t},uo.every=function(t,e,i){var n=Xs(t)?ke:jo;return i&&ya(t,e,i)&&(e=o),n(t,ea(e,3))},uo.find=vs,uo.findIndex=Ja,uo.findKey=function(t,e){return $e(t,ea(e,3),$o)},uo.findLast=bs,uo.findLastIndex=Xa,uo.findLastKey=function(t,e){return $e(t,ea(e,3),Ko)},uo.floor=Sc,uo.forEach=Cs,uo.forEachRight=Ms,uo.forIn=function(t,e){return null==t?t:Xo(t,ea(e,3),Bl)},uo.forInRight=function(t,e){return null==t?t:qo(t,ea(e,3),Bl)},uo.forOwn=function(t,e){return t&&$o(t,ea(e,3))},uo.forOwnRight=function(t,e){return t&&Ko(t,ea(e,3))},uo.get=Rl,uo.gt=Gs,uo.gte=Ws,uo.has=function(t,e){return null!=t&&ua(t,e,on)},uo.hasIn=Nl,uo.head=$a,uo.identity=ac,uo.includes=function(t,e,i,o){t=$s(t)?t:zl(t),i=i&&!o?ml(i):0;var n=t.length;return i<0&&(i=zi(n+i,0)),hl(t)?i<=n&&t.indexOf(e,i)>-1:!!n&&Ze(t,e,i)>-1},uo.indexOf=function(t,e,i){var o=null==t?0:t.length;if(!o)return-1;var n=null==i?0:ml(i);return n<0&&(n=zi(o+n,0)),Ze(t,e,n)},uo.inRange=function(t,e,i){return e=fl(e),i===o?(i=e,e=0):i=fl(i),rn(t=vl(t),e,i)},uo.invoke=Ol,uo.isArguments=Js,uo.isArray=Xs,uo.isArrayBuffer=qs,uo.isArrayLike=$s,uo.isArrayLikeObject=Ks,uo.isBoolean=function(t){return!0===t||!1===t||nl(t)&&tn(t)==B},uo.isBuffer=Zs,uo.isDate=Ys,uo.isElement=function(t){return nl(t)&&1===t.nodeType&&!sl(t)},uo.isEmpty=function(t){if(null==t)return!0;if($s(t)&&(Xs(t)||"string"==typeof t||"function"==typeof t.splice||Zs(t)||dl(t)||Js(t)))return!t.length;var e=la(t);if(e==F||e==X)return!t.size;if(Ma(t))return!_n(t).length;for(var i in t)if(te.call(t,i))return!1;return!0},uo.isEqual=function(t,e){return hn(t,e)},uo.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:o)?i(t,e):o;return n===o?hn(t,e,o,i):!!n},uo.isError=Qs,uo.isFinite=function(t){return"number"==typeof t&&Hi(t)},uo.isFunction=tl,uo.isInteger=el,uo.isLength=il,uo.isMap=rl,uo.isMatch=function(t,e){return t===e||dn(t,e,oa(e))},uo.isMatchWith=function(t,e,i){return i="function"==typeof i?i:o,dn(t,e,oa(e),i)},uo.isNaN=function(t){return al(t)&&t!=+t},uo.isNative=function(t){if(Ca(t))throw new jt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return pn(t)},uo.isNil=function(t){return null==t},uo.isNull=function(t){return null===t},uo.isNumber=al,uo.isObject=ol,uo.isObjectLike=nl,uo.isPlainObject=sl,uo.isRegExp=ll,uo.isSafeInteger=function(t){return el(t)&&t>=-x&&t<=x},uo.isSet=cl,uo.isString=hl,uo.isSymbol=ul,uo.isTypedArray=dl,uo.isUndefined=function(t){return t===o},uo.isWeakMap=function(t){return nl(t)&&la(t)==Z},uo.isWeakSet=function(t){return nl(t)&&"[object WeakSet]"==tn(t)},uo.join=function(t,e){return null==t?"":Fi.call(t,e)},uo.kebabCase=Xl,uo.last=Qa,uo.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n;return i!==o&&(r=(r=ml(i))<0?zi(n+r,0):Gi(r,n-1)),e==e?Ii(t,e,r):Ke(t,Qe,r,!0)},uo.lowerCase=ql,uo.lowerFirst=$l,uo.lt=pl,uo.lte=gl,uo.max=function(t){return t&&t.length?zo(t,ac,en):o},uo.maxBy=function(t,e){return t&&t.length?zo(t,ea(e,2),en):o},uo.mean=function(t){return ti(t,ac)},uo.meanBy=function(t,e){return ti(t,ea(e,2))},uo.min=function(t){return t&&t.length?zo(t,ac,mn):o},uo.minBy=function(t,e){return t&&t.length?zo(t,ea(e,2),mn):o},uo.stubArray=yc,uo.stubFalse=vc,uo.stubObject=function(){return{}},uo.stubString=function(){return""},uo.stubTrue=function(){return!0},uo.multiply=xc,uo.nth=function(t,e){return t&&t.length?wn(t,ml(e)):o},uo.noConflict=function(){return Ce._===this&&(Ce._=re),this},uo.noop=uc,uo.now=Rs,uo.pad=function(t,e,i){t=Cl(t);var o=(e=ml(e))?Ri(t):0;if(!e||o>=e)return t;var n=(e-o)/2;return Pr(ki(n),i)+t+Pr(Pi(n),i)},uo.padEnd=function(t,e,i){t=Cl(t);var o=(e=ml(e))?Ri(t):0;return e&&o<e?t+Pr(e-o,i):t},uo.padStart=function(t,e,i){t=Cl(t);var o=(e=ml(e))?Ri(t):0;return e&&o<e?Pr(e-o,i)+t:t},uo.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),Ji(Cl(t).replace(St,""),e||0)},uo.random=function(t,e,i){if(i&&"boolean"!=typeof i&&ya(t,e,i)&&(e=i=o),i===o&&("boolean"==typeof e?(i=e,e=o):"boolean"==typeof t&&(i=t,t=o)),t===o&&e===o?(t=0,e=1):(t=fl(t),e===o?(e=t,t=0):e=fl(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var r=Xi();return Gi(t+r*(e-t+me("1e-"+((r+"").length-1))),e)}return Nn(t,e)},uo.reduce=function(t,e,i){var o=Xs(t)?ze:oi,n=arguments.length<3;return o(t,ea(e,4),i,n,Ho)},uo.reduceRight=function(t,e,i){var o=Xs(t)?Ge:oi,n=arguments.length<3;return o(t,ea(e,4),i,n,Fo)},uo.repeat=function(t,e,i){return e=(i?ya(t,e,i):e===o)?1:ml(e),Tn(Cl(t),e)},uo.replace=function(){var t=arguments,e=Cl(t[0]);return t.length<3?e:e.replace(t[1],t[2])},uo.result=function(t,e,i){var n=-1,r=(e=ir(e,t)).length;for(r||(r=1,t=o);++n<r;){var a=null==t?o:t[Ua(e[n])];a===o&&(n=r,a=i),t=tl(a)?a.call(t):a}return t},uo.round=Ac,uo.runInContext=t,uo.sample=function(t){return(Xs(t)?wo:Pn)(t)},uo.size=function(t){if(null==t)return 0;if($s(t))return hl(t)?Ri(t):t.length;var e=la(t);return e==F||e==X?t.size:_n(t).length},uo.snakeCase=Kl,uo.some=function(t,e,i){var n=Xs(t)?We:Fn;return i&&ya(t,e,i)&&(e=o),n(t,ea(e,3))},uo.sortedIndex=function(t,e){return jn(t,e)},uo.sortedIndexBy=function(t,e,i){return zn(t,e,ea(i,2))},uo.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var o=jn(t,e);if(o<i&&zs(t[o],e))return o}return-1},uo.sortedLastIndex=function(t,e){return jn(t,e,!0)},uo.sortedLastIndexBy=function(t,e,i){return zn(t,e,ea(i,2),!0)},uo.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var i=jn(t,e,!0)-1;if(zs(t[i],e))return i}return-1},uo.startCase=Zl,uo.startsWith=function(t,e,i){return t=Cl(t),i=null==i?0:Po(ml(i),0,t.length),e=Jn(e),t.slice(i,i+e.length)==e},uo.subtract=Ec,uo.sum=function(t){return t&&t.length?ri(t,ac):0},uo.sumBy=function(t,e){return t&&t.length?ri(t,ea(e,2)):0},uo.template=function(t,e,i){var n=uo.templateSettings;i&&ya(t,e,i)&&(e=o),t=Cl(t),e=Sl({},e,n,zr);var r,a,s=Sl({},e.imports,n.imports,zr),l=Pl(s),c=hi(s,l),h=0,u=e.interpolate||Ht,d="__p += '",p=Jt((e.escape||Ht).source+"|"+u.source+"|"+(u===yt?Tt:Ht).source+"|"+(e.evaluate||Ht).source+"|$","g"),g="//# sourceURL="+(te.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pe+"]")+"\n";t.replace(p,function(e,i,o,n,s,l){return o||(o=n),d+=t.slice(h,l).replace(Ft,mi),i&&(r=!0,d+="' +\n__e("+i+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),o&&(d+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),h=l+e.length,e}),d+="';\n";var _=te.call(e,"variable")&&e.variable;if(_){if(Nt.test(_))throw new jt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(ct,""):d).replace(ht,"$1").replace(ut,"$1;"),d="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var f=ec(function(){return zt(l,g+"return "+d).apply(o,c)});if(f.source=d,Qs(f))throw f;return f},uo.times=function(t,e){if((t=ml(t))<1||t>x)return[];var i=I,o=Gi(t,I);e=ea(e),t-=I;for(var n=ai(o,e);++i<t;)e(i);return n},uo.toFinite=fl,uo.toInteger=ml,uo.toLength=yl,uo.toLower=function(t){return Cl(t).toLowerCase()},uo.toNumber=vl,uo.toSafeInteger=function(t){return t?Po(ml(t),-x,x):0===t?t:0},uo.toString=Cl,uo.toUpper=function(t){return Cl(t).toUpperCase()},uo.trim=function(t,e,i){if((t=Cl(t))&&(i||e===o))return li(t);if(!t||!(e=Jn(e)))return t;var n=Ni(t),r=Ni(e);return nr(n,di(n,r),pi(n,r)+1).join("")},uo.trimEnd=function(t,e,i){if((t=Cl(t))&&(i||e===o))return t.slice(0,Li(t)+1);if(!t||!(e=Jn(e)))return t;var n=Ni(t);return nr(n,0,pi(n,Ni(e))+1).join("")},uo.trimStart=function(t,e,i){if((t=Cl(t))&&(i||e===o))return t.replace(St,"");if(!t||!(e=Jn(e)))return t;var n=Ni(t);return nr(n,di(n,Ni(e))).join("")},uo.truncate=function(t,e){var i=30,n="...";if(ol(e)){var r="separator"in e?e.separator:r;i="length"in e?ml(e.length):i,n="omission"in e?Jn(e.omission):n}var a=(t=Cl(t)).length;if(vi(t)){var s=Ni(t);a=s.length}if(i>=a)return t;var l=i-Ri(n);if(l<1)return n;var c=s?nr(s,0,l).join(""):t.slice(0,l);if(r===o)return c+n;if(s&&(l+=c.length-l),ll(r)){if(t.slice(l).search(r)){var h,u=c;for(r.global||(r=Jt(r.source,Cl(Ot.exec(r))+"g")),r.lastIndex=0;h=r.exec(u);)var d=h.index;c=c.slice(0,d===o?l:d)}}else if(t.indexOf(Jn(r),l)!=l){var p=c.lastIndexOf(r);p>-1&&(c=c.slice(0,p))}return c+n},uo.unescape=function(t){return(t=Cl(t))&&gt.test(t)?t.replace(dt,Ti):t},uo.uniqueId=function(t){var e=++ee;return Cl(t)+e},uo.upperCase=Yl,uo.upperFirst=Ql,uo.each=Cs,uo.eachRight=Ms,uo.first=$a,hc(uo,(bc={},$o(uo,function(t,e){te.call(uo.prototype,e)||(bc[e]=t)}),bc),{chain:!1}),uo.VERSION="4.17.21",Be(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){uo[t].placeholder=uo}),Be(["drop","take"],function(t,e){fo.prototype[t]=function(i){i=i===o?1:zi(ml(i),0);var n=this.__filtered__&&!e?new fo(this):this.clone();return n.__filtered__?n.__takeCount__=Gi(i,n.__takeCount__):n.__views__.push({size:Gi(i,I),type:t+(n.__dir__<0?"Right":"")}),n},fo.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Be(["filter","map","takeWhile"],function(t,e){var i=e+1,o=1==i||3==i;fo.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ea(t,3),type:i}),e.__filtered__=e.__filtered__||o,e}}),Be(["head","last"],function(t,e){var i="take"+(e?"Right":"");fo.prototype[t]=function(){return this[i](1).value()[0]}}),Be(["initial","tail"],function(t,e){var i="drop"+(e?"":"Right");fo.prototype[t]=function(){return this.__filtered__?new fo(this):this[i](1)}}),fo.prototype.compact=function(){return this.filter(ac)},fo.prototype.find=function(t){return this.filter(t).head()},fo.prototype.findLast=function(t){return this.reverse().find(t)},fo.prototype.invokeMap=On(function(t,e){return"function"==typeof t?new fo(this):this.map(function(i){return ln(i,t,e)})}),fo.prototype.reject=function(t){return this.filter(Vs(ea(t)))},fo.prototype.slice=function(t,e){t=ml(t);var i=this;return i.__filtered__&&(t>0||e<0)?new fo(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==o&&(i=(e=ml(e))<0?i.dropRight(-e):i.take(e-t)),i)},fo.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},fo.prototype.toArray=function(){return this.take(I)},$o(fo.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),r=uo[n?"take"+("last"==e?"Right":""):e],a=n||/^find/.test(e);r&&(uo.prototype[e]=function(){var e=this.__wrapped__,s=n?[1]:arguments,l=e instanceof fo,c=s[0],h=l||Xs(e),u=function(t){var e=r.apply(uo,je([t],s));return n&&d?e[0]:e};h&&i&&"function"==typeof c&&1!=c.length&&(l=h=!1);var d=this.__chain__,p=!!this.__actions__.length,g=a&&!d,_=l&&!p;if(!a&&h){e=_?e:new fo(this);var f=t.apply(e,s);return f.__actions__.push({func:fs,args:[u],thisArg:o}),new _o(f,d)}return g&&_?t.apply(this,s):(f=this.thru(u),g?n?f.value()[0]:f.value():f)})}),Be(["pop","push","shift","sort","splice","unshift"],function(t){var e=$t[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);uo.prototype[t]=function(){var t=arguments;if(o&&!this.__chain__){var n=this.value();return e.apply(Xs(n)?n:[],t)}return this[i](function(i){return e.apply(Xs(i)?i:[],t)})}}),$o(fo.prototype,function(t,e){var i=uo[e];if(i){var o=i.name+"";te.call(io,o)||(io[o]=[]),io[o].push({name:e,func:i})}}),io[Nr(o,p).name]=[{name:"wrapper",func:o}],fo.prototype.clone=function(){var t=new fo(this.__wrapped__);return t.__actions__=_r(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=_r(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=_r(this.__views__),t},fo.prototype.reverse=function(){if(this.__filtered__){var t=new fo(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},fo.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Xs(t),o=e<0,n=i?t.length:0,r=ca(0,n,this.__views__),a=r.start,s=r.end,l=s-a,c=o?s:a-1,h=this.__iteratees__,u=h.length,d=0,p=Gi(l,this.__takeCount__);if(!i||!o&&n==l&&p==l)return Zn(t,this.__actions__);var g=[];t:for(;l--&&d<p;){for(var _=-1,f=t[c+=e];++_<u;){var m=h[_],y=m.iteratee,v=m.type,b=y(f);if(2==v)f=b;else if(!b){if(1==v)continue t;break t}}g[d++]=f}return g},uo.prototype.at=ms,uo.prototype.chain=function(){return _s(this)},uo.prototype.commit=function(){return new _o(this.value(),this.__chain__)},uo.prototype.next=function(){this.__values__===o&&(this.__values__=_l(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},uo.prototype.plant=function(t){for(var e,i=this;i instanceof go;){var n=ja(i);n.__index__=0,n.__values__=o,e?r.__wrapped__=n:e=n;var r=n;i=i.__wrapped__}return r.__wrapped__=t,e},uo.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof fo){var e=t;return this.__actions__.length&&(e=new fo(this)),(e=e.reverse()).__actions__.push({func:fs,args:[os],thisArg:o}),new _o(e,this.__chain__)}return this.thru(os)},uo.prototype.toJSON=uo.prototype.valueOf=uo.prototype.value=function(){return Zn(this.__wrapped__,this.__actions__)},uo.prototype.first=uo.prototype.head,Ae&&(uo.prototype[Ae]=function(){return this}),uo}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ce._=Di,define(function(){return Di})):we?((we.exports=Di)._=Di,Me._=Di):Ce._=Di}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],JSBridgeManager:[function(t,e,i){"use strict";cc._RF.push(e,"479b867VXtLtIkKZqPM6f58","JSBridgeManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.JSBridgeManager=void 0;class o{constructor(){this.registerFunc("callBack",this.callFromFlutter)}static getInstance(){return null==o._instance&&(o._instance=new o),this._instance}registerFunc(t,e){window.jsBridge?window.jsBridge.registerFuncForFlutter(t,e):document.addEventListener("jsBridgeReady",function(){window.jsWebBridge.registerFuncForFlutter(t,e)},!1)}callFlutterFunc(t,e,i){window.jsBridge&&window.jsBridge.callFlutterFunc(t,e,i)}callFromFlutter(t,e){}}i.JSBridgeManager=o,cc._RF.pop()},{}],JgTool:[function(t,e,i){"use strict";cc._RF.push(e,"e8031RbaMBN1p1keGuyKO2z","JgTool"),Object.defineProperty(i,"__esModule",{value:!0}),i.JPushPlugin=void 0;const o=t("../../utils/Log");class n{static setOtherName(t){this.isAndroid?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","registId","(Ljava/lang/String;I)V",t,Date.now()):this.isIOS?jsb.reflection.callStaticMethod("AppController","setJPushAlias:",t):o.Log.error("\u53ea\u6709android\u548cIOS\u6709\u6781\u5149")}}i.JPushPlugin=n,n.isAndroid=cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID,n.isIOS=cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS,cc.JPushPlugin=n,cc._RF.pop()},{"../../utils/Log":"Log"}],JiluAdapter:[function(t,e,i){"use strict";cc._RF.push(e,"ee55ezOwmVL7Kvmo2s5Eh7p","JiluAdapter");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},n=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,r){function a(t){try{l(o.next(t))}catch(e){r(e)}}function s(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((o=o.apply(t,e||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0}),i.JiluAdapter=void 0;const r=t("../../../framework/adapter/abstract/Holder"),a=t("../../../framework/adapter/abstract/ScrollAdapter"),s=t("../../../framework/adapter/abstract/View"),l=t("../../../framework/adapter/define/enum"),c=t("../../../framework/adapter/manager/ReleaseManager"),h=t("../../../userData/GameDataCenter"),u=t("./UIJiluItem1"),d=t("./UIJiluItem2"),p=t("./UIJiluItem3"),g=t("./UIJiluItem4"),_=t("./UIJiluItem5"),{ccclass:f,menu:m,property:y}=cc._decorator;let v=class extends a.ScrollAdapter{constructor(){super(...arguments),this.prefab1=null,this.prefab2=null,this.prefab3=null,this.prefab4=null,this.prefab5=null,this.header=null,this.loading=null,this._isHeaderPlay=!1,this.page=1}getPrefab(t){return 1==t.type?this.prefab1:2==t.type?this.prefab2:3==t.type?this.prefab3:4==t.type?this.prefab4:this.prefab5}getHolder(t,e){return new C(t,e,this)}getView(){return new b(this)}initElement(t,e){}start(){return n(this,void 0,void 0,function*(){this.releaseManager.on(c.ReleaseManager.Event.ON_PULL_UP,this.onPullDown,this),this._headerTween=new cc.Tween(this.header).to(.518,{height:this.releaseManager.bottom*this.mainAxisSize},{easing:"elasticOut"}),this._loadTween=new cc.Tween(this.loading).by(1,{angle:-360}).union().repeatForever(),h.default.accountModel.noMoreJilu=!1;var t=yield h.default.accountModel.getBettingLog(1),e=yield h.default.accountModel.kill_room_statistics(),i=yield h.default.accountModel.records(),o=yield h.default.accountModel.game_record_statistic();console.log("records-",t),console.log("kill_room_statistics-",e),console.log("game_record_statistic-",o);let n=[o,e,i,...t];this.modelManager.insert(n)})}onPullDown(t){return n(this,void 0,void 0,function*(){if(t.state==l.ReleaseState.RELEASE&&this._isHeaderPlay){this._loadTween.start(),t.wait(),this.page+=1;var e=yield h.default.accountModel.getBettingLog(this.page);this.modelManager.insert(e),this.scheduleOnce(()=>{t.release()}),this._loadTween.stop()}var i=t.progress;t.state==l.ReleaseState.WAIT&&(i=.1),i>=.1?this._isHeaderPlay||(this._headerTween.start(),this._isHeaderPlay=!0):(this._headerTween.stop(),this._isHeaderPlay=!1,this.loading.opacity=0),this.loading.angle=-360*t.progress})}scrollToHeader(){this.scrollManager.scrollToHeader(1)}};o([y(cc.Prefab)],v.prototype,"prefab1",void 0),o([y(cc.Prefab)],v.prototype,"prefab2",void 0),o([y(cc.Prefab)],v.prototype,"prefab3",void 0),o([y(cc.Prefab)],v.prototype,"prefab4",void 0),o([y(cc.Prefab)],v.prototype,"prefab5",void 0),o([y(cc.Node)],v.prototype,"header",void 0),o([y(cc.Node)],v.prototype,"loading",void 0),v=o([f,m("UI/prefab/JiluAdapter")],v),i.JiluAdapter=v;class b extends s.View{onVisible(){}onDisable(){}}class C extends r.Holder{constructor(){super(...arguments),this._chatItem=null}onCreated(){this._chatItem=this.node.getComponent(_.default)||this.node.getComponent(g.default)||this.node.getComponent(p.default)||this.node.getComponent(d.default)||this.node.getComponent(u.default)}onVisible(){this._chatItem.show(this)}onDisable(){this._chatItem.hide()}}cc._RF.pop()},{"../../../framework/adapter/abstract/Holder":"Holder","../../../framework/adapter/abstract/ScrollAdapter":"ScrollAdapter","../../../framework/adapter/abstract/View":"View","../../../framework/adapter/define/enum":"enum","../../../framework/adapter/manager/ReleaseManager":"ReleaseManager","../../../userData/GameDataCenter":"GameDataCenter","./UIJiluItem1":"UIJiluItem1","./UIJiluItem2":"UIJiluItem2","./UIJiluItem3":"UIJiluItem3","./UIJiluItem4":"UIJiluItem4","./UIJiluItem5":"UIJiluItem5"}],JsonOb:[function(t,e,i){"use strict";cc._RF.push(e,"668405Qq5BESrb1V1cAn+UY","JsonOb"),Object.defineProperty(i,"__esModule",{value:!0}),i.JsonOb=void 0;const o=t("../../utils/Log"),n=Object.prototype,r="[object Object]",a="[object Array]",s=["push","pop","shift","unshift","sort","reverse","splice"];i.JsonOb=class{constructor(t,e){n.toString.call(t)!==r&&n.toString.call(t)!==a&&o.Log.error("\u8bf7\u4f20\u5165\u4e00\u4e2a\u5bf9\u8c61\u6216\u6570\u7ec4"),this._callback=e,this.observe(t)}observe(t,e){n.toString.call(t)===a&&this.overrideArrayProto(t,e),Object.keys(t).forEach(i=>{let o=this,s=t[i],l=e&&e.slice();l?l.push(i):l=[i],Object.defineProperty(t,i,{get:function(){return s},set:function(t){s!==t&&("[object Object]"===n.toString.call(t)&&o.observe(t,l),o._callback(t,s,l),s=t)}}),n.toString.call(t[i])!==r&&n.toString.call(t[i])!==a||this.observe(t[i],l)},this)}overrideArrayProto(t,e){var i,o=Array.prototype,n=Object.create(Array.prototype),r=this;s.forEach(t=>{Object.defineProperty(n,t,{value:function(){var n=this.slice();return i=o[t].apply(this,arguments),r.observe(this,e),r._callback(this,n,e),i}})}),t.__proto__=n}},cc._RF.pop()},{"../../utils/Log":"Log"}],LayoutManager:[function(t,e,i){"use strict";cc._RF.push(e,"85d16WqWb9B+5wUAnuXbTmK","LayoutManager");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.LayoutManager=void 0;const n=t("../abstract/Manager"),r=t("../define/enum"),a=t("../help/helper"),{ccclass:s,property:l}=cc._decorator;var c;(function(t){t[t.ON_LAYOUT_COMPLATED=0]="ON_LAYOUT_COMPLATED",t[t.ON_CHANGED_LAYOUT_STATE=1]="ON_CHANGED_LAYOUT_STATE"})(c||(c={}));let h=class extends n.Manager{constructor(){super(...arguments),this._childAlignment=r.ChildAlignment.UpperLeft,this._spacing=0,this._reverseArrangement=!1,this.delayLayout=!0,this._forceExpandWidth=!1,this._forceExpandHeight=!0,this._controlSizeWidth=!1,this._controlSizeHeight=!1,this._controlScaleWidth=!1,this._controlScaleHeight=!1,this._isDirty=!1,this._layoutQueue=[]}get childAlignment(){return this._childAlignment}set childAlignment(t){t!=this._childAlignment&&(this._childAlignment=t,this.emit(c.ON_CHANGED_LAYOUT_STATE))}get spacing(){return this._spacing}set spacing(t){t!=this._spacing&&(this._spacing=t,this.emit(c.ON_CHANGED_LAYOUT_STATE))}get reverseArrangement(){return this._reverseArrangement}set reverseArrangement(t){t!=this._reverseArrangement&&(this._reverseArrangement=t,this.emit(c.ON_CHANGED_LAYOUT_STATE))}get forceExpandWidth(){return this._forceExpandWidth}set forceExpandWidth(t){t!=this._forceExpandWidth&&(this._forceExpandWidth=t,this.emit(c.ON_CHANGED_LAYOUT_STATE))}get forceExpandHeight(){return this._forceExpandHeight}set forceExpandHeight(t){t!=this._forceExpandHeight&&(this._forceExpandHeight=t,this.emit(c.ON_CHANGED_LAYOUT_STATE))}get controlSizeWidth(){return this._controlSizeWidth}set controlSizeWidth(t){t!=this._controlSizeWidth&&(this._controlSizeWidth=t,this.emit(c.ON_CHANGED_LAYOUT_STATE))}get controlSizeHeight(){return this._controlSizeHeight}set controlSizeHeight(t){t!=this._controlSizeHeight&&(this._controlSizeHeight=t,this.emit(c.ON_CHANGED_LAYOUT_STATE))}get controlScaleWidth(){return this._controlScaleWidth}set controlScaleWidth(t){t!=this._controlScaleWidth&&(this._controlScaleWidth=t,this.emit(c.ON_CHANGED_LAYOUT_STATE))}get controlScaleHeight(){return this._controlScaleHeight}set controlScaleHeight(t){t!=this._controlScaleHeight&&(this._controlScaleHeight=t,this.emit(c.ON_CHANGED_LAYOUT_STATE))}get top(){return this.adapter.isVertical?0:this.adapter.viewManager.top}get bottom(){return this.adapter.isVertical?0:this.adapter.viewManager.bottom}get left(){return this.adapter.isHorizontal?0:this.adapter.viewManager.left}get right(){return this.adapter.isHorizontal?0:this.adapter.viewManager.right}get horizontal(){return this.left+this.right}get vertical(){return this.top+this.bottom}get isControlMainAxisSize(){return this.adapter.isHorizontal&&this.controlSizeWidth||this.adapter.isVertical&&this.controlSizeHeight}get isControlCrossAxisSize(){return this.adapter.isHorizontal&&this.controlSizeHeight||this.adapter.isVertical&&this.controlSizeWidth}get isControlCrossAxisScale(){return this.adapter.isHorizontal&&this.controlScaleHeight||this.adapter.isVertical&&this.controlScaleWidth}onInit(){}layout(t){t&&(this.delayLayout?(this.unLayout(t.index),this._layoutQueue.push(t),this._isDirty=!0):(this._layoutHandler(t),this.emit(c.ON_LAYOUT_COMPLATED,[t.index])))}unLayout(t){-1!=(t=this._layoutQueue.findIndex(e=>e.index==t))&&this._layoutQueue.splice(t,1)}_layoutHandler(t){this._calcAlongAxis(t,r.Orientation.Horizontal,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,r.Orientation.Horizontal,this.adapter.isHorizontal),this._calcAlongAxis(t,r.Orientation.Vertical,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,r.Orientation.Vertical,this.adapter.isHorizontal)}_calcAlongAxis(t,e,i){var o=e==r.Orientation.Horizontal?this.horizontal:this.vertical,n=this._getControlSize(e),a=this._getControlScale(e),s=this._getForceExpandSize(e),l=o,c=o,h=0,u=i!=(e==r.Orientation.Vertical),d=this._getLayoutList(t.models);for(let r=0;r<d.length;r++){const t=d[r];var{min:p,preferred:g,flexible:_}=this._getChildSizes(t,e,n,s);if(a){var f=t.scale[this._getAxis(e)];p*=f,g*=f,_*=f}u?(l=Math.max(p+o,l),c=Math.max(g+o,c),h=Math.max(_,h)):(l+=p+this.spacing,c+=g+this.spacing,h+=_)}!u&&d.length>0&&(l-=this.spacing,c-=this.spacing),c=Math.max(l,c),this._setLayoutInputForAxis(t,l,c,h,e)}_getControlSize(t){return t==r.Orientation.Horizontal?this.controlSizeWidth:this.controlSizeHeight}_getControlScale(t){return t==r.Orientation.Horizontal?this.controlScaleWidth:this.controlScaleHeight}_getForceExpandSize(t){return t==r.Orientation.Horizontal?this.forceExpandWidth:this.forceExpandHeight}_setChildrenAlongAxis(t,e,i){var o=t.size[this._getAxis(e)],n=this._getControlSize(e),s=this._getControlScale(e),l=this._getForceExpandSize(e),c=this._getAlignmentOnAxis(e),h=this._getLayoutList(t.models),u=i!=(e==r.Orientation.Vertical),d=this.reverseArrangement?h.length-1:0,p=this.reverseArrangement?0:h.length,g=this.reverseArrangement?-1:1,_=this._getAxis(e);if(u)for(var f=o-(e==r.Orientation.Horizontal?this.horizontal:this.vertical),m=d;this.reverseArrangement?m>=p:m<p;m+=g){const i=h[m];var{min:y,preferred:v,flexible:b}=this._getChildSizes(i,e,n,l);let r=s?i.scale[_]:1;var C=a.Helper.clamp(f,y,b>0?o:v),M=this._getStartOffset(t,e,C*r);if(n)this._setChildAlongAxisWithScale(t,i,e,M,r,C);else{var w=(C-i.size[_])*c;w*=r,this._setChildAlongAxisWithScale(t,i,e,M+w,r)}}else{var S=e==r.Orientation.Horizontal?this.left:this.top,x=0,A=o-this._getTotalPreferredSize(t,e);A>0&&(0==this._getTotalFlexibleSize(t,e)?S=this._getStartOffset(t,e,this._getTotalPreferredSize(t,e)-(e==r.Orientation.Horizontal?this.horizontal:this.vertical)):this._getTotalFlexibleSize(t,e)>0&&(x=A/this._getTotalFlexibleSize(t,e)));var E=0;for(this._getTotalMinSize(t,e)!=this._getTotalPreferredSize(t,e)&&(E=a.Helper.clamp01((o-this._getTotalMinSize(t,e))/(this._getTotalPreferredSize(t,e)-this._getTotalMinSize(t,e)))),m=d;this.reverseArrangement?m>=p:m<p;m+=g){var I=h[m],{min:y,preferred:v,flexible:b}=this._getChildSizes(I,e,n,l);let i=s?I.scale[_]:1;var R=a.Helper.lerp(y,v,E);R+=b*x,n?this._setChildAlongAxisWithScale(t,I,e,S,i,R):(w=(R-I.size[_])*c,this._setChildAlongAxisWithScale(t,I,e,S+w,i)),S+=R*i+this.spacing}}}_setChildAlongAxisWithScale(t,e,i,o,n,a){if(null==e)return;const s=this._getAxis(i);var l=0;isNaN(a)?l=e.size[s]:(e.layoutSize[s]=a,l=a);var c={x:e.position.x,y:e.position.y},h=0;i==r.Orientation.Horizontal?(h=o+l*e.anchorPoint[s]*n,h-=t.size[s]*t.anchorPoint[s],h+=t.position[s]):(h=-o-l*(1-e.anchorPoint[s])*n,h+=t.size[s]*(1-t.anchorPoint[s]),h+=t.position[s]),c[s]=h,e.position=c}_getStartOffset(t,e,i){var o=i+(e==r.Orientation.Horizontal?this.horizontal:this.vertical),n=t.size[this._getAxis(e)]-o,a=this._getAlignmentOnAxis(e);return(e==r.Orientation.Horizontal?this.left:this.top)+n*a}_setLayoutInputForAxis(t,e,i,o,n){var r=this._getAxis(n);t.totalMinSize[r]=e,t.totalPreferredSize[r]=i,t.totalFlexibleSize[r]=o}_getAxis(t){return t==r.Orientation.Horizontal?"x":"y"}_getMinSize(t,e){return t.minSize[this._getAxis(e)]}_getPreferredSize(t,e){var i=this._getAxis(e);return Math.max(t.minSize[i],t.preferredSize[i])}_getFlexibleSize(t,e){return t.flexibleSize[this._getAxis(e)]}_getTotalMinSize(t,e){return t.totalMinSize[this._getAxis(e)]}_getTotalPreferredSize(t,e){return t.totalPreferredSize[this._getAxis(e)]}_getTotalFlexibleSize(t,e){return t.totalFlexibleSize[this._getAxis(e)]}_getChildSizes(t,e,i,o){var n,r,a;return i?(n=this._getMinSize(t.element,e),r=this._getPreferredSize(t.element,e),a=this._getFlexibleSize(t.element,e)):(r=n=t.size[this._getAxis(e)],a=0),o&&(a=Math.max(a,1)),{min:n,preferred:r,flexible:a}}_getAlignmentOnAxis(t){return t==r.Orientation.Horizontal?this.adapter.layoutManager.childAlignment%3*.5:.5*Math.floor(this.adapter.layoutManager.childAlignment/3)}_getLayoutList(t){var e=[];for(let i=0;i<t.length;i++){const o=t[i];o.element.ignoreLayout||e.push(o)}return e}internal_lateUpdate(t){if(this._isDirty){this._isDirty=!1;for(var e=[];this._layoutQueue.length>0;){var i=this._layoutQueue.shift();this._layoutHandler(i),e.push(i.index)}e.length>0&&this.emit(c.ON_LAYOUT_COMPLATED,e)}}};h.Event=c,o([l({type:r.ChildAlignment})],h.prototype,"_childAlignment",void 0),o([l({type:r.ChildAlignment,tooltip:"\u5e03\u5c40\u5143\u7d20\u7684\u5bf9\u9f50\u65b9\u5f0f"})],h.prototype,"childAlignment",null),o([l()],h.prototype,"_spacing",void 0),o([l({tooltip:"\u5143\u7d20\u4ea4\u53c9\u8f74\u5e03\u5c40\u7684\u95f4\u8ddd"})],h.prototype,"spacing",null),o([l()],h.prototype,"_reverseArrangement",void 0),o([l({tooltip:"\u53cd\u8f6c\u5e03\u5c40"})],h.prototype,"reverseArrangement",null),o([l({tooltip:"\u5ef6\u8fdf\u5e03\u5c40\uff0c\u5f00\u542f\u540e\u4f1a\u7edf\u4e00\u5728\u4e0b\u4e00\u5e27\u5e03\u5c40\uff0c\u5efa\u8bae\u5f00\u542f"})],h.prototype,"delayLayout",void 0),o([l()],h.prototype,"_forceExpandWidth",void 0),o([l({group:{id:"0",name:"forceExpand"},tooltip:"\u662f\u5426\u5f3a\u5236\u5e03\u5c40\u5143\u7d20\u5bbd\u5ea6\u6269\u5c55\u4ee5\u586b\u5145\u989d\u5916\u7684\u53ef\u7528\u7a7a\u95f4"})],h.prototype,"forceExpandWidth",null),o([l()],h.prototype,"_forceExpandHeight",void 0),o([l({group:{id:"0",name:"forceExpand"},tooltip:"\u662f\u5426\u5f3a\u5236\u5e03\u5c40\u5143\u7d20\u9ad8\u5ea6\u6269\u5c55\u4ee5\u586b\u5145\u989d\u5916\u7684\u53ef\u7528\u7a7a\u95f4"})],h.prototype,"forceExpandHeight",null),o([l()],h.prototype,"_controlSizeWidth",void 0),o([l({group:{id:"0",name:"controlSize"},tooltip:"\u5982\u679c\u8bbe\u7f6e\u4e3a false\uff0c\u5e03\u5c40\u53ea\u4f1a\u5f71\u54cd\u5143\u7d20\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u5bbd\u5ea6\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u5143\u7d20\u7684\u5bbd\u5ea6\n\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0c\u5143\u7d20\u7684\u5bbd\u5ea6\u5c06\u7531\u5e03\u5c40\u6839\u636e\u5b83\u4eec\u5404\u81ea\u7684 IElement.minSize\u3001IElement.preferredSize\u3001IElement.flexibleSize\u81ea\u52a8\u8bbe\u7f6e\u3002\u5982\u679c\u5143\u7d20\u7684\u5bbd\u5ea6\u5e94\u6839\u636e\u53ef\u7528\u7a7a\u95f4\u7684\u5927\u5c0f\u800c\u53d8\u5316\uff0c\u5e94\u5f00\u542f\u6b64\u529f\u80fd\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u80fd\u76f4\u63a5\u8bbe\u7f6e\u6bcf\u4e2a\u5143\u7d20\u7684\u5bbd\u5ea6\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u63a7\u5236\u6bcf\u4e2a\u5143\u7d20\u7684IElement.minSize\u3001IElement.preferredSize\u3001IElement.flexibleSize\u6765\u8fdb\u884c\u63a7\u5236"})],h.prototype,"controlSizeWidth",null),o([l()],h.prototype,"_controlSizeHeight",void 0),o([l({group:{id:"0",name:"controlSize"},tooltip:"\u5982\u679c\u8bbe\u7f6e\u4e3a false\uff0c\u5e03\u5c40\u53ea\u4f1a\u5f71\u54cd\u5143\u7d20\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u9ad8\u5ea6\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u5143\u7d20\u7684\u9ad8\u5ea6\n\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0c\u5143\u7d20\u7684\u9ad8\u5ea6\u5c06\u7531\u5e03\u5c40\u6839\u636e\u5b83\u4eec\u5404\u81ea\u7684 IElement.minSize\u3001IElement.preferredSize\u3001IElement.flexibleSize\u81ea\u52a8\u8bbe\u7f6e\u3002\u5982\u679c\u5143\u7d20\u7684\u9ad8\u5ea6\u5e94\u6839\u636e\u53ef\u7528\u7a7a\u95f4\u7684\u5927\u5c0f\u800c\u53d8\u5316\uff0c\u5e94\u5f00\u542f\u6b64\u529f\u80fd\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u80fd\u76f4\u63a5\u8bbe\u7f6e\u6bcf\u4e2a\u5143\u7d20\u7684\u9ad8\u5ea6\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u63a7\u5236\u6bcf\u4e2a\u5143\u7d20\u7684IElement.minSize\u3001IElement.preferredSize\u3001IElement.flexibleSize\u6765\u8fdb\u884c\u63a7\u5236"})],h.prototype,"controlSizeHeight",null),o([l()],h.prototype,"_controlScaleWidth",void 0),o([l({group:{id:"0",name:"controlScale"},tooltip:"\u662f\u5426\u4f7f\u7528 x \u7f29\u653e\u8ba1\u7b97\u5bbd\u5ea6"})],h.prototype,"controlScaleWidth",null),o([l()],h.prototype,"_controlScaleHeight",void 0),o([l({group:{id:"0",name:"controlScale"},tooltip:"\u662f\u5426\u4f7f\u7528 y \u7f29\u653e\u8ba1\u7b97\u9ad8\u5ea6"})],h.prototype,"controlScaleHeight",null),h=o([s("LayoutManager")],h),i.LayoutManager=h,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/enum":"enum","../help/helper":"helper"}],Log:[function(t,e,i){"use strict";cc._RF.push(e,"3adacx4eIVM+pyEOpvQHt8S","Log"),Object.defineProperty(i,"__esModule",{value:!0}),i.Log=i.LOG_TAG=void 0,i.LOG_TAG={SOCKET:{desc:"LOG_SOCKET",isOpen:!0},HTTP:{desc:"LOG_HTTP",isOpen:!0},TEST:{desc:"LOG_TEST",isOpen:!0}};class o{static log(...t){var e=console.log||cc.log,n=i.LOG_TAG.TEST;if(!n||!n.isOpen)return;let r=Array.prototype.slice.call(arguments);r.splice(0,0,`[${n.desc}]`);let a=o.stack(2)+o.getDateString()+" ";r.splice(1,0,a),e.apply(e,r)}static logTag(t,...e){var n=console.log||cc.log;if(t&&t.isOpen)if(t==i.LOG_TAG.SOCKET||t==i.LOG_TAG.HTTP)n.apply(n,e);else{let e=Array.prototype.slice.call(arguments);e.splice(0,1,`[${t.desc}]`);let i=o.stack(2)+o.getDateString()+" ";e.splice(1,0,i),n.apply(n,e)}}static warn(...t){var e=console.warn||cc.warn;let i=Array.prototype.slice.call(arguments),n=o.stack(2)+o.getDateString()+" ";i.splice(0,0,n),e.apply(e,i)}static error(...t){var e=console.error||cc.error;let i=Array.prototype.slice.call(arguments),n=o.stack(2)+o.getDateString()+" ";i.splice(0,0,n),e.apply(e,i)}static getDateString(){let t=new Date,e=t.getHours().toString(),i="";return i+=(1==e.length?"0"+e:e)+":",i+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",i+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),"["+(i+=e)+"]"}static stack(t=2){var e=(new Error).stack.split("\n");e.shift();var i=[];e.forEach(function(t){var e=(t=t.substring(7)).split(" ");e.length<2?i.push(e[0]):i.push({[e[0]]:e[1]})});var o=[];if(t<i.length-1)for(var n in i[t])o.push(n);if(o[0]){var r=o[0].split(".");return r[0]+".js->"+r[1]+":"}return""}}i.Log=o,cc._RF.pop()},{}],Manager:[function(t,e,i){"use strict";cc._RF.push(e,"3f7da4FIUZPX4Fxpwa4dOTs","Manager");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.Manager=void 0;const{ccclass:n,property:r}=cc._decorator;let a=class{constructor(){this._inited=!1,this._eventMap=new Map,this._adapter=null}get adapter(){return this._adapter}internal_create(t){this._adapter=t}internal_init(){this._inited||(this._inited=!0,this.onInit())}on(t,e,i,o=!1){this._eventMap.has(t)||this._eventMap.set(t,[]);var n=this._eventMap.get(t);n&&n.find(t=>t.target==i&&t.callback==e)||n.push({callback:e,target:i,once:o})}off(t,e,i){if(this._eventMap.has(t)){var o=this._eventMap.get(t),n=o&&o.findIndex(t=>t.callback==e&&t.target==i);-1!=n&&o.splice(n,1)}}emit(t,...e){if(this._eventMap.has(t)){var i=this._eventMap.get(t);for(let t=0;t<i.length;t++){const o=i[t];o.callback.call(o.target,...e),o.once&&(i.splice(t,1),t--)}}}};a=o([n("Manager")],a),i.Manager=a,cc._RF.pop()},{}],ModelManager:[function(t,e,i){"use strict";cc._RF.push(e,"04fa2FnfnxE55PfLiHA4WwK","ModelManager");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},n=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,r){function a(t){try{l(o.next(t))}catch(e){r(e)}}function s(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((o=o.apply(t,e||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0}),i.ModelManager=void 0;const r=t("../abstract/Manager"),a=t("../define/enum"),s=t("../help/helper"),{ccclass:l,property:c}=cc._decorator;var h;(function(t){t[t.ON_CLEAR=0]="ON_CLEAR",t[t.ON_INSERT=1]="ON_INSERT",t[t.ON_REMOVE=2]="ON_REMOVE",t[t.ON_MOVE=3]="ON_MOVE",t[t.ON_UPDATE=4]="ON_UPDATE",t[t.ON_CHANGE_BEFORE=5]="ON_CHANGE_BEFORE"})(h||(h={}));let u=class extends r.Manager{constructor(){super(...arguments),this._modelList=[],this._length=0}get length(){return this._length}get modelList(){return this._modelList}onInit(){}insert(t,e=this.length){return n(this,void 0,void 0,function*(){var i=this._toArray(t);e=s.Helper.clamp(e,0,this.length),this.emit(h.ON_CHANGE_BEFORE),this._insertHandler(i,e),this._length=this._modelList.length,i.length>0&&this.emit(h.ON_INSERT,e)})}_insertHandler(t,e){var i=e;this._length=this._modelList.length;var o=[];const n=(t,e)=>((s=this._getNewModel(t)).index=e,this._modelList.push(s),s),r=t=>{var e=this.get(i);if(e)o.push(this._copyModel(e,{})),e.data=t,e.index=i,this._initModel(e);else{let e=n(t,i);this._initModel(e)}i++};for(let l=0,c=t.length;l<c;l++)r(t[l]);for(let l=0;l<o.length;l++){const t=o[l];var a=i+l;if(this.get(a)){var s=this.get(a);o.push(this._copyModel(s,{})),this._copyModel(t,s)}else{let e=n(t.data,a);this._copyModel(t,e)}}}remove(t,e=1){if(0!=e&&!(t<0||t>=this.length)){var i=this.length;this.emit(h.ON_CHANGE_BEFORE);for(let r=t;r<this.length;r++){var o=this.get(r),n=this.get(r+e);if(!n){i=r;break}this._copyModel(n,o),o.index=r}this._modelList.splice(i,this.length),this._length=this._modelList.length,console.log(this._modelList),this.emit(h.ON_REMOVE,t)}}move(t,e,i){if(!(t<0||e<=0)){this.emit(h.ON_CHANGE_BEFORE);var o=this._modelList.map(t=>this._copyModel(t,{})),n=o.splice(t,e);o.splice(i,0,...n);for(let t=0;t<o.length;t++)this._copyModel(o[t],this._modelList[t]);var r=Math.min(t,i);this.emit(h.ON_MOVE,r),console.log("\u79fb\u52a8\u540e\u7684\u6570\u636e",this._modelList)}}update(){this.emit(h.ON_UPDATE)}clear(){this._modelList.length=0,this._length=0,this.emit(h.ON_CLEAR)}has(t){return!!this._modelList[t]}get(t){return isNaN(t)?null:this._modelList[t]}slice(t,e){return 0==this.length?[]:this._modelList.slice(t,e)}_toArray(t){return t?t instanceof Array?t:[t]:[]}_getNewModel(t){return{data:t,index:-1,code:null,size:{x:0,y:0},layoutSize:{x:0,y:0},scale:{x:0,y:0},position:{x:0,y:0},anchorPoint:{x:0,y:0},element:{wrapBeforeMode:a.WrapMode.Wrap,wrapAfterMode:a.WrapMode.Nowrap,ignoreLayout:!1,placeholder:!1,minSize:{x:0,y:0},preferredSize:{x:0,y:0},flexibleSize:{x:0,y:0},layer:a.Layer.Lowest,fixed:!1,fixedOffset:0,fixedSpacing:null,update:()=>{}},isValid:!0,update:()=>{}}}_initModel(t){var e;if(!this.adapter.getPrefab(t.data))throw Error("\u9884\u5236\u4f53\u4e0d\u80fd\u4e3a\u7a7a");if(!(e=this.adapter.getPrefab(t.data)))throw Error("\u9884\u5236\u4f53\u4e0d\u80fd\u4e3a\u7a7a");if(e instanceof cc.Node){let i=e;t.code=e.uuid,t.size={x:i.width,y:i.height},t.scale={x:i.scaleX,y:i.scaleY},t.anchorPoint={x:i.anchorX,y:i.anchorY}}else{let i=e.data;t.code=e.data.uuid,t.size={x:i.width,y:i.height},t.scale={x:i.scaleX,y:i.scaleY},t.anchorPoint={x:i.anchorX,y:i.anchorY}}t.layoutSize={x:0,y:0},t.position={x:0,y:0},t.element={wrapBeforeMode:a.WrapMode.Wrap,wrapAfterMode:a.WrapMode.Nowrap,ignoreLayout:!1,placeholder:!1,minSize:{x:0,y:0},preferredSize:{x:0,y:0},flexibleSize:{x:0,y:0},layer:a.Layer.Lowest,fixed:!1,fixedOffset:0,fixedSpacing:null,update:()=>{}},this.adapter.initElement(t.element,t.data)}_copyModel(t,e){t.element.update=()=>{};const i=(t,e)=>{for(const o in t){const n=t[o];"data"!=o?"index"!=o&&(null!=n&&"object"==typeof n?(e[o]={},i(n,e[o])):e[o]=n):e[o]=n}};return i(t,e),e}};u.Event=h,u=o([l("ModelManager")],u),i.ModelManager=u,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/enum":"enum","../help/helper":"helper"}],Network:[function(t,e,i){"use strict";cc._RF.push(e,"27b98ncGaFEN4kT7kMMG7xJ","Network");var o=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,r){function a(t){try{l(o.next(t))}catch(e){r(e)}}function s(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((o=o.apply(t,e||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0}),i.Network=void 0;const n=t("./Http"),r=t("../userData/ConfigModule"),a=t("../framework/ui/UIHelp"),s=t("../userData/GameDataCenter"),l=t("../utils/Log");i.Network=class{constructor(){}httpSend(t,e,i,o){r.ConfigModule.IS_TEST?this._httpUrl=r.ConfigModule.HTTP_URL_TEST:this._httpUrl=r.ConfigModule.HTTP_URL_DEV,o&&a.default.ShowLoding(),e&&s.default.accountModel.token&&(e.token=s.default.accountModel.token);var c=this.obj_contact(e),h=encodeURI(this._httpUrl+"/"+t+c);l.Log.logTag(l.LOG_TAG.HTTP,`%chttp\u53d1\u9001: ${t}--\x3e`,"color:#000;background:yellow",h),n.Http.get(h,function(e,o){if(a.default.CloseLoding(),"COMPLETE"==e)if(4==o.readyState&&o.status>=200&&o.status<400){var n=JSON.parse(o.responseText);if(t.replace(/\//g,"_"),0!=n.errcode)return"1000"==n.errcode&&(s.default.accountModel.token=""),void("zh"==s.default.accountModel.language?a.default.ShowTips(n.errmsg):a.default.ShowTips(n.errmsg_en));i&&i(n)}else a.default.ShowTips("\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d");else"TIMEOUT"==e?l.Log.error("\u6dfb\u52a0\u63d0\u793a\u8fde\u63a5\u7f51\u5173\u8d85\u65f6"):"ERROR"==e&&l.Log.error("\u6dfb\u52a0\u63d0\u793a\u8fde\u63a5\u7f51\u5173\u53d1\u751f\u9519\u8bef")},this)}httpPost(t,e,i,c){var h;r.ConfigModule.IS_TEST?this._httpUrl=r.ConfigModule.HTTP_URL_TEST:this._httpUrl=r.ConfigModule.HTTP_URL_DEV,c&&a.default.ShowLoding(),h=t,s.default.accountModel.token&&(h=t+"?token="+s.default.accountModel.token);var u=encodeURI(this._httpUrl+h);l.Log.logTag(l.LOG_TAG.HTTP,`%chttp\u53d1\u9001: ${t}--\x3e`,"color:#000;background:yellow",u),n.Http.post(u,e,function(e,n){return o(this,void 0,void 0,function*(){if(a.default.CloseLoding(),"COMPLETE"==e){if(4==n.readyState&&n.status>=200&&n.status<400){var o=JSON.parse(n.responseText);let e=t.replace(/\//g,"_");cc.sys.isNative?l.Log.logTag(l.LOG_TAG.HTTP,`%chttp\u63a5\u6536: ${e}--\x3e`,"color:#000;background:orange",JSON.stringify(o)):l.Log.logTag(l.LOG_TAG.HTTP,`%chttp\u63a5\u6536: ${e}--\x3e`,"color:#000;background:orange",o),o.data.token&&(s.default.accountModel.token=o.data.token),i&&(yield i(o))}}else"TIMEOUT"==e?(this.et.emit("TIMEOUT",{}),l.Log.error("\u6dfb\u52a0\u63d0\u793a\u8fde\u63a5\u7f51\u5173\u8d85\u65f6")):"ERROR"==e&&l.Log.error("\u6dfb\u52a0\u63d0\u793a\u8fde\u63a5\u7f51\u5173\u53d1\u751f\u9519\u8bef")})},this)}obj_contact(t){var e="";for(var i in t){let o=t[i];0==e.length?e+="?"+i+"="+o:e+="&"+i+"="+o}return e}},cc._RF.pop()},{"../framework/ui/UIHelp":"UIHelp","../userData/ConfigModule":"ConfigModule","../userData/GameDataCenter":"GameDataCenter","../utils/Log":"Log","./Http":"Http"}],PageViewManager:[function(t,e,i){"use strict";cc._RF.push(e,"e8963SMQKlJqITGS1GlAC8A","PageViewManager");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.PageViewManager=void 0;const n=t("../abstract/Manager"),r=t("../define/enum"),a=t("./ScrollManager"),s=t("./ViewManager"),{ccclass:l,property:c}=cc._decorator;var h;(function(t){t[t.ON_PAGE_LENGTH_CHANGED=0]="ON_PAGE_LENGTH_CHANGED",t[t.ON_SCROLL_PAGE_BEFOR=1]="ON_SCROLL_PAGE_BEFOR",t[t.ON_SCROLL_PAGE_END=2]="ON_SCROLL_PAGE_END"})(h||(h={}));let u=class extends n.Manager{constructor(){super(...arguments),this._enabled=!1,this.scrollThreshold=.5,this.pageTurningEventTiming=.1,this.autoPageTurningThreshold=100,this.pageTurningSpeed=.3,this._currentIndex=0}get enabled(){return this._enabled}set enabled(t){t!=this._enabled&&(this._enabled=t,this._enabled?this._register():this._unregister())}get currentIndex(){return this._currentIndex}get length(){return this.adapter.viewManager.groupLength}onInit(){this._register()}_register(){this.adapter&&this.enabled&&(this.adapter.scrollManager.on(a.ScrollManager.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.on(a.ScrollManager.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.on(a.ScrollManager.Event.ON_SCROLL_TO_GROUPINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.on(s.ViewManager.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this,!0))}_unregister(){this.adapter&&!this.enabled&&(this.adapter.scrollManager.off(a.ScrollManager.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.off(a.ScrollManager.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.off(a.ScrollManager.Event.ON_SCROLL_TO_GROUPINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.off(s.ViewManager.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this))}scrollToPage(t,e,i){e<0||e>=this.length||e==this.currentIndex&&0!=this.adapter.scrollManager.calcOffset()||(this.adapter.scrollManager.scrollToGroupIndex(t,e,i),this.emit(h.ON_SCROLL_PAGE_BEFOR,e))}scrollToPrevPage(t=this.pageTurningSpeed,e=r.AlwaysScroll.Header){0!=this._currentIndex?this.scrollToPage(t,this._currentIndex-1,e):this.adapter.viewManager.loopHeader&&this.scrollToPage(t,this.length-1,e)}scrollToNextPage(t=this.pageTurningSpeed,e=r.AlwaysScroll.Footer){this._currentIndex>=this.length-1?this.adapter.viewManager.loopFooter&&this.scrollToPage(t,0,e):this.scrollToPage(t,this._currentIndex+1,e)}_onUpdateViews(){this.emit(h.ON_PAGE_LENGTH_CHANGED),this._currentIndex=0,this.scrollToPage(this.pageTurningSpeed,this._currentIndex)}_onScrollToIndex(t){this._currentIndex=t,this.emit(h.ON_SCROLL_PAGE_END,t)}_handleReleaseLogic(t){if(this._enabled&&this.adapter.scrollManager.isMyEventAndMoved){var e=t.getStartLocation()[this.adapter.mainAxis]-t.getLocation()[this.adapter.mainAxis],i=this._getNextIndex(e);this._isScrollable(e)||this._isQuicklyScrollable(this.adapter.scrollManager.velocity)?this.scrollToPage(this.pageTurningSpeed,i):this.scrollToPage(this.pageTurningSpeed,this._currentIndex)}}_getNextIndex(t){var e=this._currentIndex;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?t>0?e++:t<0&&e--:(t<0&&e++,t>0&&e--):this.adapter.isArrangeAxisStart?t<0?e++:t>0&&e--:t>0?e++:t<0&&e--,e>=this.length&&this.adapter.viewManager.loopFooter?e=0:e<0&&this.adapter.viewManager.loopHeader&&(e=this.length-1),(e<0||e>=this.length)&&(e=this._currentIndex),e}_isScrollable(t){return Math.abs(t)>=this.adapter.mainAxisSize*this.scrollThreshold}_isQuicklyScrollable(t){return Math.abs(t)>this.autoPageTurningThreshold}};u.Event=h,o([c()],u.prototype,"_enabled",void 0),o([c()],u.prototype,"enabled",null),o([c({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u6eda\u52a8\u4e34\u754c\u503c\uff0c\u9ed8\u8ba4\u5355\u4f4d\u767e\u5206\u6bd4\uff0c\u5f53\u62d6\u62fd\u8d85\u51fa\u8be5\u6570\u503c\u65f6\uff0c\u677e\u5f00\u4f1a\u81ea\u52a8\u6eda\u52a8\u4e0b\u4e00\u9875\uff0c\u5c0f\u4e8e\u65f6\u5219\u8fd8\u539f"})],u.prototype,"scrollThreshold",void 0),o([c({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u8bbe\u7f6e PageView PageTurning \u4e8b\u4ef6\u7684\u53d1\u9001\u65f6\u673a"})],u.prototype,"pageTurningEventTiming",void 0),o([c({visible:function(){return this.enabled},tooltip:"\u5feb\u901f\u6ed1\u52a8\u7ffb\u9875\u4e34\u754c\u503c\n        \u5f53\u7528\u6237\u5feb\u901f\u6ed1\u52a8\u65f6\uff0c\u4f1a\u6839\u636e\u6ed1\u52a8\u5f00\u59cb\u548c\u7ed3\u675f\u7684\u8ddd\u79bb\u4e0e\u65f6\u95f4\u8ba1\u7b97\u51fa\u4e00\u4e2a\u901f\u5ea6\u503c\n        \u8be5\u503c\u4e0e\u6b64\u4e34\u754c\u503c\u76f8\u6bd4\u8f83\uff0c\u5982\u679c\u5927\u4e8e\u4e34\u754c\u503c\uff0c\u5219\u8fdb\u884c\u81ea\u52a8\u7ffb\u9875"})],u.prototype,"autoPageTurningThreshold",void 0),o([c({visible:function(){return this.enabled},tooltip:"\u6bcf\u4e2a\u9875\u9762\u7ffb\u9875\u65f6\u6240\u9700\u65f6\u95f4\u3002\u5355\u4f4d\uff1a\u79d2"})],u.prototype,"pageTurningSpeed",void 0),u=o([l("PageViewManager")],u),i.PageViewManager=u,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/enum":"enum","./ScrollManager":"ScrollManager","./ViewManager":"ViewManager"}],PlayerModel:[function(t,e,i){"use strict";cc._RF.push(e,"108a9GK8kBCpbSaxfh5PMes","PlayerModel"),Object.defineProperty(i,"__esModule",{value:!0}),i.KILLER_ROADS=i.ROADS=void 0;const o=t("../framework/manager/PoolMng"),n=t("../framework/model/IDataModel"),r=t("../framework/ui/UIHelp"),a=t("../logic/ui/prefab/UIGameLayer"),s=t("../logic/ui/prefab/UIPlayer"),l=t("../logic/ui/prefab/UIPlayerName"),c=t("./GameDataCenter"),h=t("lodash");i.ROADS={1:[1,3,4,1111],2:[1,3,5,2222],3:[1,2,3,3333],4:[1,3,4,4444],5:[1,2,6,5555],6:[1,9,2,6666],7:[1,2,8,7777],8:[1,2,7,8888]},i.KILLER_ROADS={1:[12,9,3,4,111],2:[12,9,3,5,222],3:[12,9,2,3,333],4:[12,9,3,4,444],5:[12,9,2,6,555],6:[12,9,10,2,666],7:[12,9,2,8,777],8:[12,9,2,7,888]},i.default=class extends n.default{constructor(){super("player"),this.coin=0,this.nickname="",this.uid=0,this.node=null,this.nodeName=null,this.roomId=0,this.rankNo=0,this.isMySelf=!1}destroy(){c.default.accountModel.players.delete(this.uid),c.default.accountModel.roomPlayers.get(this.roomId).delete(this.uid),this.node.stopAllActions(),o.PoolMng.instance.putNode(this.node),this.nodeName.stopAllActions(),o.PoolMng.instance.putNode(this.nodeName)}initData(t,e){this.roomId=e,this.coin=h.round(t.amount,2),this.isMySelf=t.user_id==c.default.accountModel.uid,this.nickname=this.isMySelf?"zh"==c.default.accountModel.language?"\u81ea\u5df1":"Me":t.nickname,this.uid=t.user_id,this.isMySelf?this.rankNo=-1:this.rankNo=3}setAniActive(t){this.isMySelf?(this.node.active=!0,this.nodeName.active=!0):(this.node.active=t,this.nodeName.active=t)}showBetting(t){var e;null===(e=this.node.getComponent(s.default))||void 0===e||e.showBetting(t)}loadPlayerAni(t){var e,i,n=this.node=o.PoolMng.instance.getNode(a.default.instance.playerPrefab,this.isMySelf?a.default.instance.ui.node_player_my:a.default.instance.ui.node_player),c=this.nodeName=o.PoolMng.instance.getNode(a.default.instance.playerNamePrefab,this.isMySelf?a.default.instance.ui.node_player_name_my:a.default.instance.ui.node_player_name),h=this.isMySelf?r.default.getRadomPos(a.default.instance.ui[`room${100*t}`]):r.default.getRadomPos(a.default.instance.ui[`room${t}`]);n.setPosition(h),null===(e=n.getComponent(s.default))||void 0===e||e.initAni(this.rankNo),c.setPosition(h),null===(i=c.getComponent(l.default))||void 0===i||i.setName(this.nickname),this.node.active=!1,this.nodeName.active=!1}moveToRoomById(t){var e,o,n,h,u,d;if(0==this.roomId){c.default.accountModel.roomPlayers.get(this.roomId).delete(this.uid),c.default.roomInfoModel.refreshRoomPlayer(0),this.roomId=t;var p=[];for(let e of i.ROADS[t]){let t=a.default.instance.ui[`pos${e}`];p.push(t.position)}this.isMySelf?p.push(r.default.getRadomPos(a.default.instance.ui[`room${100*t}`])):p.push(r.default.getRadomPos(a.default.instance.ui[`room${t}`])),null===(e=this.node.getComponent(s.default))||void 0===e||e.playWalk(),null===(o=this.node.getComponent(s.default))||void 0===o||o.move([].concat(p),!1,()=>{this.node.active&&(c.default.accountModel.roomPlayers.get(t).set(this.uid,c.default.accountModel.players.get(this.uid)),c.default.roomInfoModel.refreshRoomPlayer())}),null===(n=this.nodeName.getComponent(l.default))||void 0===n||n.move([].concat(p),!1)}else{if(this.roomId==t)return;if(c.default.accountModel.roomPlayers.get(this.roomId).delete(this.uid),c.default.accountModel.roomPlayers.get(t).set(this.uid,c.default.accountModel.players.get(this.uid)),c.default.roomInfoModel.refreshRoomPlayer(),this.roomId=t,null===(h=this.node.getComponent(s.default))||void 0===h||h.playWait(),this.isMySelf)var g=r.default.getRadomPos(a.default.instance.ui[`room${100*t}`]);else g=r.default.getRadomPos(a.default.instance.ui[`room${t}`]);null===(u=this.node.getComponent(s.default))||void 0===u||u.flashToRoomById(g),null===(d=this.nodeName.getComponent(l.default))||void 0===d||d.flashToRoomById(g)}}moveBack(){var t,e,o;if(0!=this.roomId){c.default.accountModel.roomPlayers.get(this.roomId).delete(this.uid);var n=[];for(let t of i.ROADS[this.roomId]){let e=a.default.instance.ui[`pos${t}`];n.push(e.position)}n.reverse(),n.push(r.default.getRadomPos(a.default.instance.ui.room0)),null===(t=this.node.getComponent(s.default))||void 0===t||t.playWalk(),null===(e=this.node.getComponent(s.default))||void 0===e||e.move([].concat(n),!0,()=>{c.default.roomInfoModel.refreshRoomPlayer(),this.node.active&&(c.default.accountModel.roomPlayers.get(0).set(this.uid,c.default.accountModel.players.get(this.uid)),c.default.roomInfoModel.refreshRoomPlayer())}),null===(o=this.nodeName.getComponent(l.default))||void 0===o||o.move([].concat(n),!0),this.roomId=0,a.default.instance.resetRoomId()}}demoXXX1(){var t={};return new Promise(e=>{this.sendHttpMsg("index",t,function(t){let i=t.data;e(i)}.bind(this))})}},cc._RF.pop()},{"../framework/manager/PoolMng":"PoolMng","../framework/model/IDataModel":"IDataModel","../framework/ui/UIHelp":"UIHelp","../logic/ui/prefab/UIGameLayer":"UIGameLayer","../logic/ui/prefab/UIPlayer":"UIPlayer","../logic/ui/prefab/UIPlayerName":"UIPlayerName","./GameDataCenter":"GameDataCenter",lodash:1}],PoolMng:[function(t,e,i){"use strict";cc._RF.push(e,"c09aaw/i21GLZ3SWGwG6uge","PoolMng");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.PoolMng=void 0;const{ccclass:r,property:a}=cc._decorator;let s=o=class{constructor(){this.dictPool={},this.dictPrefab={}}static get instance(){return this._instance?this._instance:(this._instance=new o,this._instance)}getNode(t,e){let i,o=t.data.name;if(this.dictPrefab[o]=t,this.dictPool.hasOwnProperty(o)){let e=this.dictPool[o];i=e.size()>0?e.get():cc.instantiate(t)}else{let e=new cc.NodePool;this.dictPool[o]=e,i=cc.instantiate(t)}return i.parent=e,i}putNode(t){let e=t.name,i=null;this.dictPool.hasOwnProperty(e)?i=this.dictPool[e]:(i=new cc.NodePool,this.dictPool[e]=i),i.put(t)}clearPool(t){this.dictPool.hasOwnProperty(t)&&this.dictPool[t].clear()}};s=o=n([r("poolMng")],s),i.PoolMng=s,cc._RF.pop()},{}],Qrcode:[function(t,e,i){"use strict";cc._RF.push(e,"c65638c0FhCEZ8CNK8MQdJB","Qrcode"),Object.defineProperty(i,"__esModule",{value:!0}),i.QRBitBuffer=i.QRRSBlock=i.QRPolynomial=i.QRCode=void 0;class o{constructor(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}static createData(t,e,i){for(var n=h.getRSBlocks(t,e),r=new u,s=0;s<i.length;s++){var l=i[s];r.put(l.mode,4),r.put(l.getLength(),a.getLengthInBits(l.mode,t)),l.write(r)}var c=0;for(s=0;s<n.length;s++)c+=n[s].dataCount;if(r.getLengthInBits()>8*c)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*c+")");for(r.getLengthInBits()+4<=8*c&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*c||(r.put(o.PAD0,8),r.getLengthInBits()>=8*c));)r.put(o.PAD1,8);return o.createBytes(r,n)}static createBytes(t,e){for(var i=0,o=0,n=0,r=new Array(e.length),s=new Array(e.length),l=0;l<e.length;l++){var h=e[l].dataCount,u=e[l].totalCount-h;o=Math.max(o,h),n=Math.max(n,u),r[l]=new Array(h);for(var d=0;d<r[l].length;d++)r[l][d]=255&t.buffer[d+i];i+=h;var p=a.getErrorCorrectPolynomial(u),g=new c(r[l],p.getLength()-1).mod(p);for(s[l]=new Array(p.getLength()-1),d=0;d<s[l].length;d++){var _=d+g.getLength()-s[l].length;s[l][d]=_>=0?g.get(_):0}}var f=0;for(d=0;d<e.length;d++)f+=e[d].totalCount;var m=new Array(f),y=0;for(d=0;d<o;d++)for(l=0;l<e.length;l++)d<r[l].length&&(m[y++]=r[l][d]);for(d=0;d<n;d++)for(l=0;l<e.length;l++)d<s[l].length&&(m[y++]=s[l][d]);return m}addData(t){var e=new n(t);this.dataList.push(e),this.dataCache=null}isDark(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]}getModuleCount(){return this.moduleCount}make(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=h.getRSBlocks(t,this.errorCorrectLevel),i=new u,o=0,n=0;n<e.length;n++)o+=e[n].dataCount;for(n=0;n<this.dataList.length;n++){var r=this.dataList[n];i.put(r.mode,4),i.put(r.getLength(),a.getLengthInBits(r.mode,t)),r.write(i)}if(i.getLengthInBits()<=8*o)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[i][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)}setupPositionProbePattern(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(this.modules[t+i][e+o]=0<=i&&i<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=o&&o<=4)}getBestMaskPattern(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var o=a.getLostPoint(this);(0==i||t>o)&&(t=o,e=i)}return e}createMovieClip(t,e,i){var o=t.createEmptyMovieClip(e,i);this.make();for(var n=0;n<this.modules.length;n++)for(var r=1*n,a=0;a<this.modules[n].length;a++){var s=1*a;this.modules[n][a]&&(o.beginFill(0,100),o.moveTo(s,r),o.lineTo(s+1,r),o.lineTo(s+1,r+1),o.lineTo(s,r+1),o.endFill())}return o}setupTimingPattern(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)}setupPositionAdjustPattern(){for(var t=a.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var o=t[e],n=t[i];if(null==this.modules[o][n])for(var r=-2;r<=2;r++)for(var s=-2;s<=2;s++)this.modules[o+r][n+s]=-2==r||2==r||-2==s||2==s||0==r&&0==s}}setupTypeNumber(t){for(var e=a.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var o=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=o}for(i=0;i<18;i++)o=!t&&1==(e>>i&1),this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=o}setupTypeInfo(t,e){for(var i=this.errorCorrectLevel<<3|e,o=a.getBCHTypeInfo(i),n=0;n<15;n++){var r=!t&&1==(o>>n&1);n<6?this.modules[n][8]=r:n<8?this.modules[n+1][8]=r:this.modules[this.moduleCount-15+n][8]=r}for(n=0;n<15;n++)r=!t&&1==(o>>n&1),n<8?this.modules[8][this.moduleCount-n-1]=r:n<9?this.modules[8][15-n-1+1]=r:this.modules[8][15-n-1]=r;this.modules[this.moduleCount-8][8]=!t}mapData(t,e){for(var i=-1,o=this.moduleCount-1,n=7,r=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[o][s-l]){var c=!1;r<t.length&&(c=1==(t[r]>>>n&1)),a.getMask(e,o,s-l)&&(c=!c),this.modules[o][s-l]=c,-1==--n&&(r++,n=7)}if((o+=i)<0||this.moduleCount<=o){o-=i,i=-i;break}}}}i.QRCode=o,o.PAD0=236,o.PAD1=17;class n{constructor(t){this.mode=r.MODE_8BIT_BYTE,this.data=t}getLength(t){return this.data.length}write(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}}i.default=n;for(var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;a.getBCHDigit(e)-a.getBCHDigit(a.G15)>=0;)e^=a.G15<<a.getBCHDigit(e)-a.getBCHDigit(a.G15);return(t<<10|e)^a.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;a.getBCHDigit(e)-a.getBCHDigit(a.G18)>=0;)e^=a.G18<<a.getBCHDigit(e)-a.getBCHDigit(a.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return a.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case 0:return(e+i)%2==0;case 1:return e%2==0;case 2:return i%3==0;case 3:return(e+i)%3==0;case 4:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case 5:return e*i%2+e*i%3==0;case 6:return(e*i%2+e*i%3)%2==0;case 7:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new c([1],0),i=0;i<t;i++)e=e.multiply(new c([1,s.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,o=0;o<e;o++)for(var n=0;n<e;n++){for(var r=0,a=t.isDark(o,n),s=-1;s<=1;s++)if(!(o+s<0||e<=o+s))for(var l=-1;l<=1;l++)n+l<0||e<=n+l||0==s&&0==l||a==t.isDark(o+s,n+l)&&r++;r>5&&(i+=3+r-5)}for(o=0;o<e-1;o++)for(n=0;n<e-1;n++){var c=0;t.isDark(o,n)&&c++,t.isDark(o+1,n)&&c++,t.isDark(o,n+1)&&c++,t.isDark(o+1,n+1)&&c++,0!=c&&4!=c||(i+=3)}for(o=0;o<e;o++)for(n=0;n<e-6;n++)t.isDark(o,n)&&!t.isDark(o,n+1)&&t.isDark(o,n+2)&&t.isDark(o,n+3)&&t.isDark(o,n+4)&&!t.isDark(o,n+5)&&t.isDark(o,n+6)&&(i+=40);for(n=0;n<e;n++)for(o=0;o<e-6;o++)t.isDark(o,n)&&!t.isDark(o+1,n)&&t.isDark(o+2,n)&&t.isDark(o+3,n)&&t.isDark(o+4,n)&&!t.isDark(o+5,n)&&t.isDark(o+6,n)&&(i+=40);var h=0;for(n=0;n<e;n++)for(o=0;o<e;o++)t.isDark(o,n)&&h++;return i+Math.abs(100*h/e/e-50)/5*10}},s={glog:function(t){if(t<1)throw new Error("glog("+t+")");return s.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return s.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},l=0;l<8;l++)s.EXP_TABLE[l]=1<<l;for(l=8;l<256;l++)s.EXP_TABLE[l]=s.EXP_TABLE[l-4]^s.EXP_TABLE[l-5]^s.EXP_TABLE[l-6]^s.EXP_TABLE[l-8];for(l=0;l<255;l++)s.LOG_TABLE[s.EXP_TABLE[l]]=l;class c{constructor(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var o=0;o<t.length-i;o++)this.num[o]=t[o+i]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var o=0;o<t.getLength();o++)e[i+o]^=s.gexp(s.glog(this.get(i))+s.glog(t.get(o)));return new c(e,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;for(var e=s.glog(this.get(0))-s.glog(t.get(0)),i=new Array(this.getLength()),o=0;o<this.getLength();o++)i[o]=this.get(o);for(o=0;o<t.getLength();o++)i[o]^=s.gexp(s.glog(t.get(o))+e);return new c(i,0).mod(t)}}i.QRPolynomial=c;class h{constructor(t,e){this.totalCount=t,this.dataCount=e}}i.QRRSBlock=h,h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(t,e){var i=h.getRsBlockTable(t,e);if(null==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=i.length/3,n=new Array,r=0;r<o;r++)for(var a=i[3*r+0],s=i[3*r+1],l=i[3*r+2],c=0;c<a;c++)n.push(new h(s,l));return n},h.getRsBlockTable=function(t,e){switch(e){case 1:return h.RS_BLOCK_TABLE[4*(t-1)+0];case 0:return h.RS_BLOCK_TABLE[4*(t-1)+1];case 3:return h.RS_BLOCK_TABLE[4*(t-1)+2];case 2:return h.RS_BLOCK_TABLE[4*(t-1)+3];default:return}};class u{constructor(){this.buffer=new Array,this.length=0}get(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)}put(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))}getLengthInBits(){return this.length}putBit(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}i.QRBitBuffer=u,cc._RF.pop()},{}],RankAdapter:[function(t,e,i){"use strict";cc._RF.push(e,"d4a2eT+AodDuY3ID81F9L9a","RankAdapter");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},n=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,r){function a(t){try{l(o.next(t))}catch(e){r(e)}}function s(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((o=o.apply(t,e||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0}),i.RankAdapter=void 0;const r=t("../../../framework/adapter/abstract/Holder"),a=t("../../../framework/adapter/abstract/ScrollAdapter"),s=t("../../../framework/adapter/abstract/View"),l=t("../../../userData/GameDataCenter"),c=t("./RankPart1"),h=t("./RankPart2"),u=t("./RankPart3"),{ccclass:d,menu:p,property:g}=cc._decorator;let _=class extends a.ScrollAdapter{constructor(){super(...arguments),this.prefab1=null,this.prefab2=null,this.prefab3=null}getPrefab(t){return 1==t.type?this.prefab1:2==t.type?this.prefab2:this.prefab3}getHolder(t,e){return new m(t,e,this)}getView(){return new f(this)}initElement(t,e){}start(){return n(this,void 0,void 0,function*(){var t=yield l.default.accountModel.getRank(),e=[{type:1,data:t.mian},{type:2,data:{lastWeekRank:t.last_week_rank,thisWeekRank:t.this_week_rank}},{type:3,data:t.mian}];this.modelManager.insert(e)})}};o([g(cc.Node)],_.prototype,"prefab1",void 0),o([g(cc.Node)],_.prototype,"prefab2",void 0),o([g(cc.Node)],_.prototype,"prefab3",void 0),_=o([d,p("UI/prefab/RankAdapter")],_),i.RankAdapter=_;class f extends s.View{onVisible(){}onDisable(){}}class m extends r.Holder{onCreated(){this._chatItem=this.node.getComponent(c.RankPart1)||this.node.getComponent(h.RankPart2)||this.node.getComponent(u.RankPart3)}onVisible(){this._chatItem.show(this)}onDisable(){this._chatItem.hide()}}cc._RF.pop()},{"../../../framework/adapter/abstract/Holder":"Holder","../../../framework/adapter/abstract/ScrollAdapter":"ScrollAdapter","../../../framework/adapter/abstract/View":"View","../../../userData/GameDataCenter":"GameDataCenter","./RankPart1":"RankPart1","./RankPart2":"RankPart2","./RankPart3":"RankPart3"}],RankPage1:[function(t,e,i){"use strict";cc._RF.push(e,"4829fs3Zp1GL4VbgaDRy13w","RankPage1");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.RankPage1=void 0;const n=t("../../../framework/manager/EventMng"),r=t("../../../framework/ui/UIHelp"),a=t("../../../userData/EventConst"),{ccclass:s,menu:l,property:c}=cc._decorator;let h=class extends cc.Component{onEnable(){n.default.on(a.GameEvent.RANK_PAGE_1,this.initUI,this)}onDisable(){n.default.off(a.GameEvent.RANK_PAGE_1,this.initUI,this)}initUI(t){for(let e=0;e<10;e++){let i=t[e],o=this.node.getChildByName("node_xian").getChildByName(`fengexian${e+1}`),n=this.node.getChildByName("node_quanxi").getChildByName(`label_pfqy${e+1}`),a=this.node.getChildByName("node_icon").getChildByName(`VM_coin${e+1}`),s=this.node.getChildByName("node_avatar").getChildByName(`spr_avatar${e+1}`),l=this.node.getChildByName("node_coin").getChildByName(`lab_coin${e+1}`),c=this.node.getChildByName("node_rank").getChildByName(`lab_rank${e+1}`),h=this.node.getChildByName("node_name").getChildByName(`lab_name${e+1}`);o.active=Boolean(i),n.active=!1,a.active=Boolean(i),s.active=Boolean(i),l.active=Boolean(i),c.active=Boolean(i),h.active=Boolean(i),i&&(r.default.SetLabel(l,i.score),r.default.SetLabel(h,i.nickname),r.default.SetSpriteFrame(s,i.avatar))}}};h=o([s,l("UI/prefab/RankPage1")],h),i.RankPage1=h,cc._RF.pop()},{"../../../framework/manager/EventMng":"EventMng","../../../framework/ui/UIHelp":"UIHelp","../../../userData/EventConst":"EventConst"}],RankPage2:[function(t,e,i){"use strict";cc._RF.push(e,"4cd2dHfoVtD7bOD2dHVmpUF","RankPage2");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.RankPage2=void 0;const n=t("../../../framework/manager/EventMng"),r=t("../../../framework/ui/UIHelp"),a=t("../../../userData/EventConst"),{ccclass:s,menu:l,property:c}=cc._decorator;let h=class extends cc.Component{onEnable(){n.default.on(a.GameEvent.RANK_PAGE_2,this.initUI,this)}onDisable(){n.default.off(a.GameEvent.RANK_PAGE_2,this.initUI,this)}initUI(t){for(let e=0;e<10;e++){let i=t[e],o=this.node.getChildByName("node_xian").getChildByName(`fengexian${e+1}`),n=this.node.getChildByName("node_quanxi").getChildByName(`label_pfqy${e+1}`),a=this.node.getChildByName("node_icon").getChildByName(`VM_coin${e+1}`),s=this.node.getChildByName("node_avatar").getChildByName(`spr_avatar${e+1}`),l=this.node.getChildByName("node_coin").getChildByName(`lab_coin${e+1}`),c=this.node.getChildByName("node_rank").getChildByName(`lab_rank${e+1}`),h=this.node.getChildByName("node_name").getChildByName(`lab_name${e+1}`);o.active=Boolean(i),n.active=Boolean(i),a.active=Boolean(i),s.active=Boolean(i),l.active=Boolean(i),c.active=Boolean(i),h.active=Boolean(i),i&&(r.default.SetLabel(l,i.score),r.default.SetLabel(h,i.nickname),r.default.SetSpriteFrame(s,i.avatar))}}};h=o([s,l("UI/prefab/RankPage2")],h),i.RankPage2=h,cc._RF.pop()},{"../../../framework/manager/EventMng":"EventMng","../../../framework/ui/UIHelp":"UIHelp","../../../userData/EventConst":"EventConst"}],RankPageAdapter:[function(t,e,i){"use strict";cc._RF.push(e,"83b1cfbLrJEsrY2ny5IUZDh","RankPageAdapter");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.RankPageAdapter=void 0;const n=t("../../../framework/adapter/abstract/Holder"),r=t("../../../framework/adapter/abstract/ScrollAdapter"),a=t("../../../framework/adapter/abstract/View"),{ccclass:s,menu:l,property:c}=cc._decorator;let h=class extends r.ScrollAdapter{constructor(){super(...arguments),this.prefab1=null,this.prefab2=null}getPrefab(t){return 1==t.type?this.prefab1:this.prefab2}getHolder(t,e){return new d(t,e,this)}getView(){return new u(this)}initElement(t,e){}start(){this.modelManager.insert([{type:1},{type:2}])}};o([c(cc.Node)],h.prototype,"prefab1",void 0),o([c(cc.Node)],h.prototype,"prefab2",void 0),h=o([s,l("UI/prefab/RankPageAdapter")],h),i.RankPageAdapter=h;class u extends a.View{onVisible(){}onDisable(){}}class d extends n.Holder{onCreated(){}onVisible(){}onDisable(){}}cc._RF.pop()},{"../../../framework/adapter/abstract/Holder":"Holder","../../../framework/adapter/abstract/ScrollAdapter":"ScrollAdapter","../../../framework/adapter/abstract/View":"View"}],RankPart1:[function(t,e,i){"use strict";cc._RF.push(e,"3dfa13i17NBeLaFE4q31adN","RankPart1");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.RankPart1=void 0;const{ccclass:n,menu:r,property:a}=cc._decorator;let s=class extends cc.Component{constructor(){super(...arguments),this.labMian1=null,this.labMian2=null,this.labMian3=null,this.labDes=null}show(t){var e=t.data.data;this.labMian1.string=`\u514d\u4f24${e.mian_top1}`,this.labMian2.string=`\u514d\u4f24${e.mian_top2}`,this.labMian3.string=`\u514d\u4f24${e.mian_top3}`,this.labDes.string=`\u5956\u52b1\u514d\u6740\u624b\u4f24\u5bb3\u76ae\u80a4\uff0c\u6700\u9ad8\u514d\u4f24${e.mian_top1}`}hide(){}};o([a(cc.Label)],s.prototype,"labMian1",void 0),o([a(cc.Label)],s.prototype,"labMian2",void 0),o([a(cc.Label)],s.prototype,"labMian3",void 0),o([a(cc.Label)],s.prototype,"labDes",void 0),s=o([n,r("UI/prefab/RankPart1")],s),i.RankPart1=s,cc._RF.pop()},{}],RankPart2:[function(t,e,i){"use strict";cc._RF.push(e,"b3aa0SRf3VABIXmVwQAsRWf","RankPart2");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.RankPart2=void 0;const n=t("../../../framework/manager/EventMng"),r=t("../../../framework/ui/UIHelp"),a=t("../../../userData/EventConst"),s=t("../../../userData/GameDataCenter"),{ccclass:l,menu:c,property:h}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.labCoinName=null}show(t){n.default.emit(a.GameEvent.RANK_PAGE_1,t.data.data.thisWeekRank),n.default.emit(a.GameEvent.RANK_PAGE_2,t.data.data.lastWeekRank)}hide(){}start(){"zh"==s.default.accountModel.language?r.default.SetLabel(this.labCoinName,`\u734e\u52f5${s.default.roomInfoModel.coinName}\u6578`):r.default.SetLabel(this.labCoinName,`Number of rewarded ${s.default.roomInfoModel.coinName}`)}};o([h(cc.Node)],u.prototype,"labCoinName",void 0),u=o([l,c("UI/prefab/RankPart2")],u),i.RankPart2=u,cc._RF.pop()},{"../../../framework/manager/EventMng":"EventMng","../../../framework/ui/UIHelp":"UIHelp","../../../userData/EventConst":"EventConst","../../../userData/GameDataCenter":"GameDataCenter"}],RankPart3:[function(t,e,i){"use strict";cc._RF.push(e,"5b11ccje/RDIZvQa22ncjF7","RankPart3");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.RankPart3=void 0;const n=t("../../../framework/manager/EventMng"),r=t("../../../userData/EventConst"),{ccclass:a,menu:s,property:l}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.tab1=null,this.tab2=null,this.labJianshaoList=[],this.labNameList=[]}onEnable(){n.default.on(r.GameEvent.RANK_TAB_CHANGE,this.tabChange,this)}onDisable(){n.default.off(r.GameEvent.RANK_TAB_CHANGE,this.tabChange,this)}start(){this.tab1.active=!0,this.tab2.active=!1}tabChange(t){this.tab1.active=0==t,this.tab2.active=1==t}show(t){}hide(){}};o([l(cc.Node)],c.prototype,"tab1",void 0),o([l(cc.Node)],c.prototype,"tab2",void 0),o([l([cc.Label])],c.prototype,"labJianshaoList",void 0),o([l([cc.Label])],c.prototype,"labNameList",void 0),c=o([a,s("UI/prefab/RankPart3")],c),i.RankPart3=c,cc._RF.pop()},{"../../../framework/manager/EventMng":"EventMng","../../../userData/EventConst":"EventConst"}],ReleaseManager:[function(t,e,i){"use strict";cc._RF.push(e,"effb2zQe+JLwolQH2dGj59B","ReleaseManager");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.ReleaseEvent=i.ReleaseManager=void 0;const n=t("../abstract/Manager"),r=t("../define/enum"),a=t("./ScrollManager"),{ccclass:s,property:l}=cc._decorator;var c;(function(t){t[t.ON_PULL_UP=0]="ON_PULL_UP",t[t.ON_PULL_DOWN=1]="ON_PULL_DOWN",t[t.ON_PULL_LEFT=2]="ON_PULL_LEFT",t[t.ON_PULL_RIGHT=3]="ON_PULL_RIGHT"})(c||(c={}));let h=class extends n.Manager{constructor(){super(...arguments),this._enabled=!1,this.left=0,this.right=0,this.top=0,this.bottom=0}get enabled(){return this._enabled}set enabled(t){t!=this._enabled&&(this._enabled=t)}get max(){return this.enabled?this.adapter.isHorizontal?this._pullLeft?this._pullLeft.expand:0:this._pullDown?this._pullDown.expand:0:0}get min(){return this.enabled?this.adapter.isHorizontal?this._pullRight?this._pullRight.expand:0:this._pullUp?this._pullUp.expand:0:0}onInit(){this.enabled&&(this._pullUp=new u(this,c.ON_PULL_UP,this.bottom),this._pullDown=new u(this,c.ON_PULL_DOWN,this.top),this._pullLeft=new u(this,c.ON_PULL_LEFT,this.right),this._pullRight=new u(this,c.ON_PULL_RIGHT,this.left),this.adapter.scrollManager.on(a.ScrollManager.Event.ON_SCROLL_START,this.onScrollStart,this),this.adapter.scrollManager.on(a.ScrollManager.Event.ON_SCROLL_END,this.onScrollEnd,this),this.adapter.scrollManager.on(a.ScrollManager.Event.ON_SCROLL_CANCEL,this.onScrollEnd,this),this.checkLoop())}checkLoop(){this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?(this.left>0&&(this.adapter.viewManager.loopHeader=!1),this.right>0&&(this.adapter.viewManager.loopFooter=!1)):(this.left>0&&(this.adapter.viewManager.loopFooter=!1),this.right>0&&(this.adapter.viewManager.loopHeader=!1)):this.adapter.isArrangeAxisStart?(this.top>0&&(this.adapter.viewManager.loopHeader=!1),this.bottom>0&&(this.adapter.viewManager.loopFooter=!1)):(this.top>0&&(this.adapter.viewManager.loopFooter=!1),this.bottom>0&&(this.adapter.viewManager.loopHeader=!1))}onScrollStart(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(r.ReleaseState.IDLE),this.right>0&&this._pullLeft._setState(r.ReleaseState.IDLE)):(this.top>0&&this._pullDown._setState(r.ReleaseState.IDLE),this.bottom>0&&this._pullUp._setState(r.ReleaseState.IDLE))}onScrollEnd(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(r.ReleaseState.RELEASE),this.right>0&&this._pullLeft._setState(r.ReleaseState.RELEASE)):(this.top>0&&this._pullDown._setState(r.ReleaseState.RELEASE),this.bottom>0&&this._pullUp._setState(r.ReleaseState.RELEASE))}internal_lateUpdate(t){if(this.enabled){var e=this.adapter.scrollManager.boundaryOffset;this.adapter.scrollManager.dragging||(e=0),this.adapter.isHorizontal?(this.left>0&&this._pullRight._set(Math.max(-e,0),e<0),this.right>0&&this._pullLeft._set(Math.max(e,0),e>0)):(this.top>0&&this._pullDown._set(Math.max(e,0),e>0),this.bottom>0&&this._pullUp._set(Math.max(-e,0),e<0))}}};h.Event=c,o([l()],h.prototype,"_enabled",void 0),o([l()],h.prototype,"enabled",null),o([l({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u6839\u636e\u6b64\u9608\u503c\u6765\u5207\u6362state\u72b6\u6001"})],h.prototype,"left",void 0),o([l({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u6839\u636e\u6b64\u9608\u503c\u6765\u5207\u6362state\u72b6\u6001"})],h.prototype,"right",void 0),o([l({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u6839\u636e\u6b64\u9608\u503c\u6765\u5207\u6362state\u72b6\u6001"})],h.prototype,"top",void 0),o([l({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u6839\u636e\u6b64\u9608\u503c\u6765\u5207\u6362state\u72b6\u6001"})],h.prototype,"bottom",void 0),h=o([s("ReleaseManager")],h),i.ReleaseManager=h;class u{constructor(t,e,i){this._expand=0,this._progress=0,this._offset=0,this._defaultPercentage=i,this._manager=t,this._event=e}get expand(){return this._expand}get progress(){return this._progress}get offset(){return this._offset}get state(){return this._state}_set(t,e){e&&(this._stop=!1),this._stop||(this._offset=t,this._progress=t/(this._defaultPercentage*this._manager.adapter.mainAxisSize),this._stop=this._offset<=.1,this._setState(r.ReleaseState.PULL),this._manager.emit(this._event,this))}_setState(t){this._state!=r.ReleaseState.WAIT&&(t==r.ReleaseState.PULL&&this._state==r.ReleaseState.RELEASE||(this._state=t))}wait(t=this._defaultPercentage*this._manager.adapter.mainAxisSize){this._expand=t,this._state=r.ReleaseState.WAIT}release(){this._expand=0,this._state=r.ReleaseState.IDLE,this.offset<=.1&&(this._offset=0,this._progress=0,this._manager.emit(this._event,this))}}i.ReleaseEvent=u,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/enum":"enum","./ScrollManager":"ScrollManager"}],RoomChoseModel:[function(t,e,i){"use strict";cc._RF.push(e,"6ea54WI06BIy6T7JMxf6BXS","RoomChoseModel"),Object.defineProperty(i,"__esModule",{value:!0});const o=t("../framework/model/IDataModel");i.default=class extends o.default{constructor(){super("roomChose"),this.room1_type=2,this.room2_type=2,this.room3_type=2,this.room1_min=0,this.room1_max=30,this.room2_min=0,this.room2_max=30,this.room3_min=0,this.room3_max=30}initData(t){var e=t[0],i=t[1],o=t[2];this.room1_type=null==e?void 0:e.status,this.room1_min=null==e?void 0:e.num,this.room1_max=null==e?void 0:e.total,this.room2_type=null==i?void 0:i.status,this.room2_min=null==i?void 0:i.num,this.room2_max=null==i?void 0:i.total,this.room3_type=null==o?void 0:o.status,this.room3_min=null==o?void 0:o.num,this.room3_max=null==o?void 0:o.total}},cc._RF.pop()},{"../framework/model/IDataModel":"IDataModel"}],RoomCoin:[function(t,e,i){"use strict";cc._RF.push(e,"34a8capEKRMlKbumef4sK/3","RoomCoin");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.RoomCoin=void 0;const n=t("../../../framework/manager/EventMng"),r=t("../../../userData/EventConst"),a=t("../../../userData/GameDataCenter"),{ccclass:s,menu:l,property:c}=cc._decorator;let h=class extends cc.Component{constructor(){super(...arguments),this.labCoin=null,this.id=0,this.scaling=!1}onLoad(){n.default.on(r.GameEvent.COIN_SCALE,this.showScale,this)}onDestroy(){n.default.off(r.GameEvent.COIN_SCALE,this.showScale,this)}showScale(t){this.scaling||a.default.roomInfoModel[`coin${this.id}`]>=t[this.id-1].total||(this.scaling=!0,cc.tween(this.node).by(.5,{scale:.2}).by(.5,{scale:-.2}).call(()=>{this.scaling=!1}).start())}};o([c(cc.Label)],h.prototype,"labCoin",void 0),o([c(cc.Integer)],h.prototype,"id",void 0),h=o([s,l("UI/prefab/RoomCoin")],h),i.RoomCoin=h,cc._RF.pop()},{"../../../framework/manager/EventMng":"EventMng","../../../userData/EventConst":"EventConst","../../../userData/GameDataCenter":"GameDataCenter"}],RoomInfoModel:[function(t,e,i){"use strict";cc._RF.push(e,"b25600AWy5EVoTi3Lzrm2Ri","RoomInfoModel");var o=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,r){function a(t){try{l(o.next(t))}catch(e){r(e)}}function s(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((o=o.apply(t,e||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0}),i.ROOM_NAME=i.ROAD_NAME_JP=i.ROAD_NAME_KR=i.ROAD_NAME_EN=i.ROAD_NAME=void 0;const n=t("../framework/model/IDataModel"),r=t("../../script/framework/i18n/i18nMgr"),a=t("./GameDataCenter"),s=t("lodash");i.ROAD_NAME={1:"\u68a6\u5e7b\u661f\u7a7a\u623f",2:"\u7480\u74a8\u661f\u8000\u623f",3:"\u661f\u4e91\u5e7b\u68a6\u623f",4:"\u661f\u9645\u9068\u6e38\u623f",5:"\u661f\u8fb0\u6e2f\u6e7e\u623f",6:"\u661f\u8292\u7480\u74a8\u623f",7:"\u661f\u8bed\u5fc3\u613f\u623f",8:"\u6d41\u661f\u82b1\u56ed\u623f"},i.ROAD_NAME_EN={1:"Dreamy Starry Room",2:"Brilliant Starry Room",3:"Nebula Dream Room",4:"Interstellar Travel Room",5:"Stellar Harbor Room",6:"Shining Star Room",7:"Starlight Wish Room",8:"Meteor Garden Room"},i.ROAD_NAME_KR={1:"\uafc8\uc758 \ubcc4\ubc29",2:"\ube5b\ub098\ub294 \ubcc4\ubc29",3:"\uc131\uc6b4\uc758 \uafc8\ubc29",4:"\uc6b0\uc8fc\uc5ec\ud589 \ubc29",5:"\ubcc4 \ud56d\uad6c \ubc29",6:"\ubc18\uc9dd\uc774\ub294 \ubcc4\ubc29",7:"\ubcc4\uc758 \uc18c\uc6d0 \ubc29",8:"\uc720\uc131 \uc815\uc6d0 \ubc29"},i.ROAD_NAME_JP={1:"\u5922\u5e7b\u306e\u661f\u7a7a\u306e\u90e8\u5c4b",2:"\u8f1d\u304f\u661f\u306e\u90e8\u5c4b",3:"\u661f\u96f2\u306e\u5922\u306e\u90e8\u5c4b",4:"\u661f\u9593\u65c5\u884c\u306e\u90e8\u5c4b",5:"\u661f\u306e\u6e2f\u306e\u90e8\u5c4b",6:"\u8f1d\u304f\u661f\u306e\u90e8\u5c4b",7:"\u661f\u306e\u9858\u3044\u306e\u90e8\u5c4b",8:"\u6d41\u661f\u306e\u5ead\u306e\u90e8\u5c4b"},i.ROOM_NAME={1:"DLT",2:"DLT",3:"DLT"},i.default=class extends n.default{constructor(){super("roomInfo"),this.gameStage=1,this.roomType=1,this.waitTime=0,this.coin=0,this.coin1=0,this.coin2=0,this.coin3=0,this.coin4=0,this.coin5=0,this.coin6=0,this.coin7=0,this.coin8=0,this.coinName="",this.bettingConfig1=0,this.bettingConfig2=0,this.bettingConfig3=0,this.minPlayerNum=0,this.maxPlayerNum=0,this.killRoomName="\u6742\u7269\u5ba4",this.coinGuafenNum=0,this.resultType=0,this.gameNo=0,this.lastShaRoomName="",this.bettingCoin=0,this.winCoin=0,this.bettingNum=0,this.bettingId=1,this.roomId=0,this.dts_game_id=0,this.dts_game_config_id=0,this.issue=0,this.stage=0,this.stage_string=0,this.user_num=0,this.amount=0,this.start_at=0,this.end_at=0,this.dts_game_configid=0,this.dts_game_config_game_type="",this.dts_game_config_max=0,this.dts_game_config_created_at=0,this.dts_game_config_updated_at=0}initData(t,e){this.roomType=1,this.minPlayerNum=t.user_num,this.maxPlayerNum=t.dts_game_config.max,this.gameNo=t.issue,this.dts_game_id=t.id,this.changeRoomStage(t,e),this.setRoomName(1)}changeRoomStage(t,e){if(this.gameStage=t.stage,this.stage=t.stage,console.warn("game_stage1:  ",this.gameStage),0===this.waitTime&&2==t.stage){let i=e>=t.start_at?e:t.start_at;this.waitTime=t.end_at-i,console.warn("game_stage:  ",this.gameStage)}}initBettingConf(t,e){var i,o,n,r;this.bettingConfig1=parseInt(null===(i=t[0])||void 0===i?void 0:i.amount)||.2,this.bettingConfig2=parseInt(null===(o=t[1])||void 0===o?void 0:o.amount)||.2,this.bettingConfig3=parseInt(null===(n=t[2])||void 0===n?void 0:n.amount)||.2,e&&(this.bettingNum=null===(r=t.find(t=>t.id===e))||void 0===r?void 0:r.amount,this.bettingId=e)}initRoomsCoin(t,e){for(let i of t)this[`coin${i.room_id}`]=i.amount}setCoin(t){this.coin=s.round(t,2)}setKillResult(t){"zh"==a.default.accountModel.language?(this.killRoomName=`\u300c${i.ROAD_NAME[t.shaid]}\u300d`,this.lastShaRoomName=i.ROAD_NAME[t.shaid]):"en"==a.default.accountModel.language?(this.killRoomName=`\u300c${i.ROAD_NAME_EN[t.shaid]}\u300d`,this.lastShaRoomName=i.ROAD_NAME_EN[t.shaid]):(a.default.accountModel.language,this.killRoomName=`\u300c${i.ROAD_NAME_EN[t.shaid]}\u300d`,this.lastShaRoomName=i.ROAD_NAME_EN[t.shaid]),this.coinGuafenNum=t.sha_total,this.bettingCoin=t.betting_coin,this.winCoin=t.win_coin,this.resultType=t.resultType}refreshRoomPlayer(t){if("number"==typeof t){let e=a.default.accountModel.roomPlayers.get(t),i=e.size,o=Math.max(0,i-100),n=0;e.forEach(t=>{n+=1,t.setAniActive(n>o)})}else for(let e=0;e<=8;e++){let t=a.default.accountModel.roomPlayers.get(e),i=t.size,o=Math.max(0,i-200),n=0;t.forEach(t=>{n+=1,t.setAniActive(n>o)})}}setRoomName(t){return o(this,void 0,void 0,function*(){console.log("\u67e5\u770b\u91d1\u5e01\u540d\u79f0",yield r.i18nMgr._getLabel("i18n_coinName",[])),this.coinName=yield r.i18nMgr._getLabel("i18n_coinName",[])})}},cc._RF.pop()},{"../../script/framework/i18n/i18nMgr":"i18nMgr","../framework/model/IDataModel":"IDataModel","./GameDataCenter":"GameDataCenter",lodash:1}],ScrollAdapter:[function(t,e,i){"use strict";cc._RF.push(e,"a7f19svYitFBaPKRI1PgCQJ","ScrollAdapter");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.DefaultHolder=i.DefaultView=i.ScrollAdapter=void 0;const n=t("../define/enum"),r=t("../help/helper"),a=t("../manager/CenterManager"),s=t("../manager/LayoutManager"),l=t("../manager/ModelManager"),c=t("../manager/PageViewManager"),h=t("../manager/ReleaseManager"),u=t("../manager/ScrollManager"),d=t("../manager/ViewManager"),p=t("./Holder"),g=t("./View"),{ccclass:_,property:f}=cc._decorator;let m=class extends cc.Component{constructor(){super(...arguments),this.scrollManager=new u.ScrollManager,this.viewManager=new d.ViewManager,this.layoutManager=new s.LayoutManager,this.pageViewManager=new c.PageViewManager,this.releaseManager=new h.ReleaseManager,this.centerManager=new a.CenterManager,this.modelManager=new l.ModelManager}initElement(t,e){}getView(){return new y(this)}getHolder(t,e){return new v(t,e,this)}get isVertical(){return this.scrollManager.orientation==n.Orientation.Vertical}get isHorizontal(){return this.scrollManager.orientation==n.Orientation.Horizontal}get isArrangeAxisStart(){return this.viewManager.arrangeAxis==n.ArrangeAxis.Start}get mainAxis(){return this.isVertical?"y":"x"}get crossAxis(){return this.isVertical?"x":"y"}get mainAxisAnchorPoint(){let t=this.isVertical?1:0;return this.isArrangeAxisStart?t:1-t}get mainAxisSize(){return r.Helper.sizeToVec(this.scrollManager.view.getContentSize())[this.mainAxis]}get crossAxisSize(){return r.Helper.sizeToVec(this.scrollManager.view.getContentSize())[this.crossAxis]}get multiplier(){var t=this.isVertical?-1:1;return this.isArrangeAxisStart?-t:t}get paddingHeader(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.left:this.viewManager.right:this.isArrangeAxisStart?this.viewManager.top:this.viewManager.bottom}get paddingFooter(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.right:this.viewManager.left:this.isArrangeAxisStart?this.viewManager.bottom:this.viewManager.top}get mainAxisPadding(){return this.isHorizontal?this.viewManager.left+this.viewManager.right:this.viewManager.top+this.viewManager.bottom}getParentAdapter(t){if(null!=t&&!(t instanceof cc.Scene))return t.getComponent("ScrollAdapter")||this.getParentAdapter(t.parent)}__preload(){this.scrollManager.internal_create(this),this.viewManager.internal_create(this),this.modelManager.internal_create(this),this.releaseManager.internal_create(this),this.layoutManager.internal_create(this),this.pageViewManager.internal_create(this),this.centerManager.internal_create(this),this.viewManager.internal_init(),this.releaseManager.internal_init(),this.layoutManager.internal_init(),this.pageViewManager.internal_init(),this.centerManager.internal_init(),this.scrollManager.internal_init(),this.modelManager.internal_init()}update(t){this.scrollManager.internal_lateUpdate(t),this.viewManager.internal_lateUpdate(t),this.layoutManager.internal_lateUpdate(t),this.releaseManager.internal_lateUpdate(t)}};o([f(u.ScrollManager)],m.prototype,"scrollManager",void 0),o([f(d.ViewManager)],m.prototype,"viewManager",void 0),o([f(s.LayoutManager)],m.prototype,"layoutManager",void 0),o([f(c.PageViewManager)],m.prototype,"pageViewManager",void 0),o([f(h.ReleaseManager)],m.prototype,"releaseManager",void 0),o([f(a.CenterManager)],m.prototype,"centerManager",void 0),m=o([_],m),i.ScrollAdapter=m;class y extends g.View{onVisible(){this.adapter.node.emit(n.ViewEvent.VISIBLE,this)}onDisable(){this.adapter.node.emit(n.ViewEvent.DISABLE,this)}}i.DefaultView=y;class v extends p.Holder{onCreated(){this.node.emit(n.HolderEvent.CREATED,this)}onVisible(){this.node.emit(n.HolderEvent.VISIBLE,this)}onDisable(){this.node.emit(n.HolderEvent.DISABLE,this)}}i.DefaultHolder=v,cc._RF.pop()},{"../define/enum":"enum","../help/helper":"helper","../manager/CenterManager":"CenterManager","../manager/LayoutManager":"LayoutManager","../manager/ModelManager":"ModelManager","../manager/PageViewManager":"PageViewManager","../manager/ReleaseManager":"ReleaseManager","../manager/ScrollManager":"ScrollManager","../manager/ViewManager":"ViewManager","./Holder":"Holder","./View":"View"}],ScrollManager:[function(t,e,i){"use strict";cc._RF.push(e,"6c212CgWnZM+7ueFzm9YvHL","ScrollManager");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.ScrollManager=i.ADAPTER=void 0;const n=t("../abstract/Manager"),r=t("../define/debug"),a=t("../define/enum"),s=t("../help/helper"),l=t("./ViewManager"),{ccclass:c,property:h}=cc._decorator,u=new cc.Vec3;var d;i.ADAPTER="__ADAPTER__",function(t){t[t.ON_SCROLL=0]="ON_SCROLL",t[t.ON_UPDATE_PERCENTAGE=1]="ON_UPDATE_PERCENTAGE",t[t.ON_VIEW_SIZE_CHANGED=2]="ON_VIEW_SIZE_CHANGED",t[t.ON_ABOUT_TO_STOP=3]="ON_ABOUT_TO_STOP",t[t.ON_SCROLL_START=4]="ON_SCROLL_START",t[t.ON_SCROLL_END=5]="ON_SCROLL_END",t[t.ON_SCROLL_CANCEL=6]="ON_SCROLL_CANCEL",t[t.ON_CHANGED_ORIENTATION=7]="ON_CHANGED_ORIENTATION",t[t.ON_SCROLL_TO_GROUPINDEX_BEFOR=8]="ON_SCROLL_TO_GROUPINDEX_BEFOR",t[t.ON_SCROLL_TO_GROUPINDEX_AFTER=9]="ON_SCROLL_TO_GROUPINDEX_AFTER",t[t.ON_SCROLL_TO_MODELINDEX_BEFOR=10]="ON_SCROLL_TO_MODELINDEX_BEFOR",t[t.ON_SCROLL_TO_MODELINDEX_AFTER=11]="ON_SCROLL_TO_MODELINDEX_AFTER"}(d||(d={}));let p=class extends n.Manager{constructor(){super(...arguments),this._view=null,this._content=null,this._orientation=a.Orientation.Vertical,this.touchMode=a.TouchMode.Auto,this.movementType=a.MovementType.Elastic,this.elasticity=.1,this.inertia=!0,this.decelerationRate=.135,this.aboutToStopVelocity=100,this.cancelInnerEvents=!0,this.nestedMinThreshold=.001,this.nestedMaxThreshold=.999,this._boundaryOffset=0,this._viewWidget=null,this._percentage=0,this._velocity=0,this._dragging=!1,this._scrolling=!1,this._isCanceledEvent=!1,this._contentStartPosition=new cc.Vec2,this._prevContentPosition=new cc.Vec2,this._nestedDirection=a.NestedDirection.Both,this._parentTouch=!1,this._stopCheckNested=!1,this._scrollHandlePercentage=null,this._scrollHandlePosition=null,this._isEmitAboutToStop=!1,this._isMyEventAndMoved=!1,this._scrollDirection=a.ScrollDirection.None,this._laseScrollDirection=a.ScrollDirection.None,this._touchEvent=null,this.test=!1}get view(){return this._view}set view(t){this._view=t}get content(){return this._content}set content(t){this._content=t}get orientation(){return this._orientation}set orientation(t){t!=this._orientation&&(this._orientation=t,this.emit(d.ON_CHANGED_ORIENTATION))}get _viewMin(){return-this.adapter.mainAxisSize}get _viewMax(){return this.adapter.mainAxisSize}get _defaultMin(){return 1==this.adapter.multiplier?-this.adapter.mainAxisSize:0}get _defaultMax(){return 1==this.adapter.multiplier?0:this.adapter.mainAxisSize}get isMyEventAndMoved(){return this._isMyEventAndMoved}get velocity(){return this._velocity}get scrollDirection(){return this._scrollDirection}get laseScrollDirection(){return this._laseScrollDirection}get percentage(){return this._percentage}get dragging(){return this._dragging}get boundaryOffset(){return this._boundaryOffset}get parentAdapter(){return this._parentAdapter}get canAutoScroll(){return!this.dragging&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize}get canTouch(){return this.touchMode==a.TouchMode.AlwaysAllow||this.touchMode!=a.TouchMode.Disabled&&(!!this.adapter.centerManager.enabled||!!this.adapter.releaseManager.enabled||this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize)}get contentPosition(){return this.content.position[this.adapter.mainAxis]}onInit(){this._initView(),this._initContent(),this._parentAdapter=this.adapter.getParentAdapter(this.adapter.node.parent),this.view[i.ADAPTER]=!0,this.adapter.viewManager.on(l.ViewManager.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this),this.adapter.viewManager.on(l.ViewManager.Event.ON_CHANGED_VIRTUALSIZE,this._onChangedVirtualSize,this),this.adapter.viewManager.on(l.ViewManager.Event.ON_CHANGED_OVERFLOWHEADER,this._onChangedOverflowHeader,this),this.adapter.viewManager.on(l.ViewManager.Event.ON_RESET_ALL_STATE,this._onResetAllState,this),this.adapter.viewManager.on(l.ViewManager.Event.ON_CLEARVIEWS,this._onResetAllState,this),this.adapter.node.on(cc.Node.EventType.SIZE_CHANGED,this._onAdapterSizeChanged,this),this.view.on(cc.Node.EventType.SIZE_CHANGED,this._onViewSizeChanged,this),this._registerTouchEvent(),this.__createDebug(),this.adapter.scheduleOnce(()=>{this._updatePercentage()})}_initView(){if(!this.view)throw Error("ScrollManager view \u53c2\u6570\u4e3a\u7a7a\uff01");var t={x:.5,y:.5};t[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint,this.view.setAnchorPoint(t.x,t.y);var e=this.view.getComponent(cc.Widget);e||((e=this.view.addComponent(cc.Widget)).isAlignLeft=e.isAlignRight=e.isAlignTop=e.isAlignBottom=!0,e.left=e.right=e.top=e.bottom=0),e.updateAlignment(),this._viewWidget=e}__createDebug(){if(r.ADAPTER_DEBUG_CONTENT){var t=new cc.Node("__DEBUG_CONTENT_RECT__");t.parent=this.view,this.__debug_graphics=t.addComponent(cc.Graphics),this.__debug_graphics.lineWidth=r.DEBUG_DRAW_LIND_WIDTH,this.__debug_graphics.fillColor=r.DEBUG_DRAW_FILL_COLOR,this.__debug_graphics.strokeColor=r.DEBUG_DRAW_BORDER_COLOR}}__drawDebug(){if(this.__debug_graphics){this.__debug_graphics.clear();var t=this.adapter.mainAxis,e=this.adapter.crossAxis,i=this.adapter.multiplier,o={x:0,y:0},n={x:0,y:0};n[t]=this.adapter.viewManager.virtualSize,n[e]=this.adapter.crossAxisSize,o[t]=this.contentPosition-n[t]*this.content.getAnchorPoint()[t]*i,o[t]+=this.adapter.viewManager.overflowHeader,o[e]-=n[e]*this.view.getAnchorPoint()[e],this.__debug_graphics.fillRect(o.x,o.y,n.x,n.y),this.__debug_graphics.stroke()}}_initContent(){if(!this.content)throw Error("ScrollManager content \u53c2\u6570\u4e3a\u7a7a\uff01");this.content.setAnchorPoint(this.view.getAnchorPoint());var t={x:0,y:0};t[this.adapter.crossAxis]=s.Helper.sizeToVec(this.view.getContentSize())[this.adapter.crossAxis],this.content.setContentSize(t.x,t.y),this._layerLowest||(this._layerLowest=new cc.Node("_layerLowest"),this._layerMedium=new cc.Node("_layerMedium"),this._layerHighest=new cc.Node("_layerHighest"),this.content.addChild(this._layerLowest),this.content.addChild(this._layerMedium),this.content.addChild(this._layerHighest)),this._updateContentPosition({x:0,y:0})}_registerTouchEvent(){this.view.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this,!0),this.view.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this,!0),this.view.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this,!0),this.view.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this,!0)}_bubbleToParent(t){this._parentAdapter&&this._parentAdapter.scrollManager.view.dispatchEvent(t)}_emitCancelEvent(t){if(this._isCanceledEvent)return;const e=t.getLocation();e.subSelf(t.getStartLocation()),this.cancelInnerEvents&&e.mag()>7&&t.target!==this.view&&(this._simulateEvent(t,cc.Node.EventType.MOUSE_LEAVE),this._simulateEvent(t,cc.Node.EventType.TOUCH_CANCEL),this._isCanceledEvent=!0)}_simulateEvent(t,e,i=!0){if(!t)return;const o=new cc.Event.EventTouch(t.getTouches(),t.bubbles);var n=t.target;o.type=e,o.touch=t.touch,o.simulate=i,n.dispatchEvent(o)}_onUpdateViews(){this._velocity=0,this._updatePercentage()}_onChangedVirtualSize(){this._updatePercentage(),null!=this._scrollHandlePosition&&null!=this._scrollHandlePosition.change&&this._scrollHandlePosition.change()}_onChangedOverflowHeader(t){this.__drawDebug()}_onResetAllState(){this._velocity=0,this._scrolling=!1,this._dragging=!1,this._isMyEventAndMoved=!1,this._scrollDirection=a.ScrollDirection.None,this._percentage=0,this._isEmitAboutToStop=!1,this._boundaryOffset=0,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._scrollDirection=a.ScrollDirection.None,this._touchEvent=null,this.stopScroll(),this._initView(),this._initContent()}_onAdapterSizeChanged(){this._viewWidget.updateAlignment()}_onViewSizeChanged(){this.emit(d.ON_VIEW_SIZE_CHANGED)}_isMyEvent(t,e){return t.eventPhase==cc.Event.EventTouch.AT_TARGET||!e||e[0]==this.view&&!t.target[i.ADAPTER]}_onTouchStart(t,e){this._velocity=0,this._dragging=!0,this._isMyEventAndMoved=!1,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._isEmitAboutToStop=!1,this._scrollDirection=a.ScrollDirection.None,this._contentStartPosition.set(this.content.position),this._touchEvent=t,this.stopScroll(),this._calcNestedDirection(),this.emit(d.ON_SCROLL_START)}_onTouchEnd(t,e){this._dragging=!1,this._touchEvent=null,this.emit(d.ON_SCROLL_END,t)}_onTouchCancel(t,e){t.simulate||(this._dragging=!1,this._touchEvent=null,this.emit(d.ON_SCROLL_CANCEL,t))}_onTouchMove(t,e){if(this._isMyEvent(t,e)){if(this._emitCancelEvent(t),this._parentTouch||!this.canTouch)return this._bubbleToParent(t);if(this._touchEvent){var i=this.adapter.mainAxis,o=t.getLocation(),n=t.getStartLocation(),r=o.sub(n);if(!r.equals(cc.v2())){var s={x:0,y:0};s[i]=this._contentStartPosition[i]+r[i];var l=s[i]-this.contentPosition,c=this.calcOffset(l),h=this.adapter.isHorizontal?-1:1;s[i]+=h*c,this.movementType==a.MovementType.Elastic&&0!=c&&(s[i]-=h*this._rubberDelta(c,this.adapter.mainAxisSize)),this._checkNested(t,s,this._parentAdapter),this._parentTouch?this._bubbleToParent(t):(this._isMyEventAndMoved=!0,this._updateContentPosition(s))}}}}_calcNestedDirection(){this._parentAdapter&&(this.percentage<=this.nestedMinThreshold&&!this.adapter.viewManager.loopHeader?this._nestedDirection=1==this.adapter.multiplier?a.NestedDirection.Footer:a.NestedDirection.Header:this.percentage>=this.nestedMaxThreshold&&!this.adapter.viewManager.loopFooter?this._nestedDirection=1==this.adapter.multiplier?a.NestedDirection.Header:a.NestedDirection.Footer:this._nestedDirection=a.NestedDirection.Both)}_checkNested(t,e,i){if(i&&!this._stopCheckNested){if(this.orientation==i.scrollManager.orientation){var o=e[this.adapter.mainAxis]-this._contentStartPosition[this.adapter.mainAxis];if(Math.abs(o)<=.1)return;this._nestedDirection==a.NestedDirection.Footer?o<0&&(this._parentTouch=!0):this._nestedDirection==a.NestedDirection.Header&&o>0&&(this._parentTouch=!0)}else{var n=0,r=0;if(t instanceof cc.Event.EventTouch){var s=t.getStartLocation(),l=t.getLocation();n=Math.abs(s.x-l.x),r=Math.abs(s.y-l.y)}else n=Math.abs(t.getScrollX()),r=Math.abs(t.getScrollY());if(n==r)return;n>r?this.adapter.isVertical&&(this._parentTouch=!0):r>n&&this.adapter.isHorizontal&&(this._parentTouch=!0)}if(!this._parentTouch&&i.scrollManager.parentAdapter)return this._checkNested(t,e,i.scrollManager.parentAdapter);this._stopCheckNested=!0}}_updateContentPosition(t,e=!0){this._updateScrollDirection(t),this.content.setPosition(t.x,t.y),this.emit(d.ON_SCROLL,this._scrollDirection),e?this._updatePercentage():this.__drawDebug()}_updatePrevContentPosition(){this._prevContentPosition.set(this.content.position)}_calcPercentage(t,e){var i=this.internal_getHiddenSize(),o=this.adapter.viewManager.loopHeader,n=this.adapter.viewManager.loopFooter,r=this.adapter.multiplier,a=this.adapter.viewManager.overflowHeader,s=t*r;return this.adapter.isHorizontal?s-=e*r:s+=e*r,n?(s+=(a+(i+=this.adapter.viewManager.spacing)*r)*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s+=1,s%=i):o?(s+=this.adapter.mainAxisSize-1,this.adapter.centerManager.enabled?s-=this.adapter.centerManager.getContainerOffset():s-=this.adapter.paddingFooter,s+=(a+i*r)*r,t*-r>a*r&&(s+=this.adapter.viewManager.spacing),s%=i):(s+=a*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s>i&&(s=i)),s/i}_updatePercentage(){var t=this.calcOffset();this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this._percentage=0:this._percentage=this._calcPercentage(this.contentPosition,t),this.emit(d.ON_UPDATE_PERCENTAGE,this._percentage,t),this.__drawDebug()}internal_disableTouchTarget(t){if(this._touchEvent&&this._touchEvent.target.uuid==t.uuid){var e=this._touchEvent;this._simulateEvent(e,cc.Node.EventType.TOUCH_CANCEL,!1),this._simulateEvent(e,cc.Node.EventType.MOUSE_LEAVE,!1),this._touchEvent=null}}internal_getHiddenSize(){var t=this.adapter.viewManager.loopHeader,e=this.adapter.viewManager.loopFooter,i=this.adapter.viewManager.virtualSize;return t||e||this.adapter.centerManager.enabled||(i-=this.adapter.mainAxisSize,i+=this.adapter.mainAxisPadding),i}_getContentMinBoundaryOffset(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMax+t:e+this._defaultMin+t:this.adapter.viewManager.min+t}_getContentMaxBoundaryOffset(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMin+t:e+this._defaultMax+t:this.adapter.viewManager.max+t}_getMaxBoundaryOffset(t){var e=this._viewMax;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?t:e+t:this.adapter.isArrangeAxisStart?-t:e-t}_getMinBoundaryOffset(t){var e=this._viewMin;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?e+t:t:this.adapter.isArrangeAxisStart?e-t:-t}_rubberDelta(t,e){return(1-1/(.55*Math.abs(t)/e+1))*e*Math.sign(t)}_calcElastic(t,e,i){var o=this.adapter.mainAxis,n=this.elasticity;this._scrolling&&(n*=3);var r=this.adapter.isHorizontal?-1:1,{velocity:a,position:l}=s.Helper.smoothDamp(this.contentPosition,this.contentPosition+r*e,this._velocity,n,s.Helper.Infinity,t);Math.abs(a)<1&&(a=0),this._velocity=a,i[o]=l}_calcInertia(t,e){this._velocity*=Math.pow(this.decelerationRate,t),Math.abs(this._velocity)<1&&(this._velocity=0),e[this.adapter.mainAxis]+=this._velocity*t}_calcClamped(t){var e=this.adapter.mainAxis,i=t[e]-this.contentPosition,o=this.calcOffset(i);this.adapter.isHorizontal?t[e]-=o:t[e]+=o}_updateScrollDirection(t){var e=t[this.adapter.mainAxis]-this.contentPosition;0!=e?(this.adapter.isHorizontal?this._scrollDirection=e>0?a.ScrollDirection.Right:a.ScrollDirection.Left:this._scrollDirection=e>0?a.ScrollDirection.Up:a.ScrollDirection.Down,this._laseScrollDirection=this._scrollDirection):this._scrollDirection=a.ScrollDirection.None}internal_setContentPosition(t,e=!0){var i={x:0,y:0};i[this.adapter.mainAxis]=t,this._updateContentPosition(i,e)}internal_lateUpdate(t){this.test||(this._autoScrolling(t),this._scrollHandler(t,this._scrollHandlePosition,this._scrollPositionHandler.bind(this)),this._scrollHandler(t,this._scrollHandlePercentage,this._scrollPercentageHandler.bind(this)))}_autoScrolling(t){var e=this.calcOffset();if(this._boundaryOffset=e,this._dragging||0==e&&0==this._velocity||(this.content.getPosition(u),this.movementType==a.MovementType.Elastic&&0!=e?this._calcElastic(t,e,u):this.inertia?this._calcInertia(t,u):this._velocity=0,this.movementType==a.MovementType.Clamped&&this._calcClamped(u),this._updateContentPosition(u)),this._dragging&&this.inertia){var i=(this.contentPosition-this._prevContentPosition[this.adapter.mainAxis])/t;this._velocity=s.Helper.lerp(this._velocity,i,10*t)}this._prevContentPosition.equals(this.content.position)||this._updatePrevContentPosition(),!this._isEmitAboutToStop&&!this._dragging&&Math.abs(this._velocity)<=this.aboutToStopVelocity&&(this._scrollHandlePercentage||this._scrollHandlePosition||(this.emit(d.ON_ABOUT_TO_STOP,this._velocity),this._isEmitAboutToStop=!0)),this._scrolling=!1}_scrollHandler(t,e,i){if(null!=e){e.deltaTime+=t;var o=e.deltaTime/(e.duration>cc.macro.FLT_EPSILON?e.duration:cc.macro.FLT_EPSILON);o=s.Helper.clamp01(o);var n=cc.easing.quintOut(o);e.current=s.Helper.progress(e.from,e.to,e.current,n),i(e,o)}}_scrollPercentageHandler(t,e){var i=this.percentage;if(this.setPercentage(t.current),1==e||i==this.percentage){var o=!0;this._scrollHandlePercentage.stop&&(o=this._scrollHandlePercentage.stop()),o&&(this._scrollHandlePercentage=null)}}_scrollPositionHandler(t,e){var i={x:0,y:0};i[this.adapter.mainAxis]=t.current,this._setAutoScroll(i),(1==e||Math.abs(this.contentPosition-t.to)<=1e-4)&&(this._scrollHandlePosition.stop&&this._scrollHandlePosition.stop(),this._scrollHandlePosition=null)}_setAutoScroll(t){const e=t=>{this._updateContentPosition(t),this._updatePrevContentPosition(),this._velocity=0};e(t);var i=this.calcOffset();if(0!=i){var o=this.adapter.isHorizontal?-1:1;return t[this.adapter.mainAxis]+=i*o,e(t),!1}return!0}_scrollToPosition(t,e,i){if(!this.canAutoScroll)return!1;var o=e();return!(null==o||Math.abs(this.contentPosition-o)<cc.macro.FLT_EPSILON||(this._scrollHandlePercentage=null,this._scrollHandlePosition={current:0,from:this.contentPosition,to:o,deltaTime:0,duration:Math.max(0,t),change:()=>{o=e(),this._scrollHandlePosition.to=o},stop:()=>{i()}},0))}getLayerNode(t){switch(t){case a.Layer.Medium:return this._layerMedium;case a.Layer.Highest:return this._layerHighest;default:return this._layerLowest}}scrollToModelIndex(t,e,i){var o=this.adapter.viewManager.getGroupIndexByModelIndex(e);if(-1!=o){var n=!1;this._scrollToPosition(t,()=>{var t=this.adapter.centerManager.getPositionByGroupIndex(o,i,n);return n=!0,t},()=>{this.emit(d.ON_SCROLL_TO_MODELINDEX_AFTER,e)})&&this.emit(d.ON_SCROLL_TO_MODELINDEX_BEFOR,e)}}scrollToGroupIndex(t,e,i){var o=!1;this._scrollToPosition(t,()=>{var t=this.adapter.centerManager.getPositionByGroupIndex(e,i,o);return o=!0,t},()=>{this.emit(d.ON_SCROLL_TO_GROUPINDEX_AFTER,e)})&&this.emit(d.ON_SCROLL_TO_GROUPINDEX_BEFOR,e)}scrollToHeader(t){this.scrollToGroupIndex(t,0)}scrollToFooter(t){this.scrollToGroupIndex(t,this.adapter.viewManager.groupLength-1)}scrollToPercentage(t,e){if(!this.canAutoScroll)return!1;Math.abs(this._percentage-e)<.001||(e=s.Helper.clamp01(e),t=Math.max(0,t),this._scrollHandlePercentage=null,this._scrollHandlePercentage={deltaTime:0,duration:t,current:0,from:this._percentage,to:e})}stopVelocity(){this._velocity=0}stopScroll(){this._scrollHandlePosition=null,this._scrollHandlePercentage=null,this.stopVelocity()}setPercentage(t){for(var e=this.internal_getHiddenSize(),i={x:0,y:0},o=0,n=null;o<100;){o++;var r=this._percentage-t;if(null!=n&&this._percentage===n)break;if(Math.abs(r)<cc.macro.FLT_EPSILON)break;n=this._percentage;var a=this.contentPosition-r*this.adapter.multiplier*e;if(i[this.adapter.mainAxis]=a,!this._setAutoScroll(i))break}100==o&&console.warn("\u5faa\u73af\u6b21\u6570\u5df2\u8fbe\u6700\u5927\u503c\uff0c\u5c3d\u91cf\u4e0d\u8981\u5728\u6eda\u52a8\u8fc7\u7a0b\u4e2d\u9891\u7e41\u4fee\u6539\u5c3a\u5bf8")}calcOffset(t=0,e=this.contentPosition){var i=0;if(this.movementType==a.MovementType.Unrestricted)return i;var o=this._getContentMaxBoundaryOffset(t,e),n=this._getContentMinBoundaryOffset(t,e),r=this._getMaxBoundaryOffset(o),s=this._getMinBoundaryOffset(n);!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize&&(this.adapter.isVertical?(r-=this.adapter.viewManager.top,s+=this.adapter.viewManager.bottom):(r-=this.adapter.viewManager.left,s+=this.adapter.viewManager.right));var l=0,c=0;if(this.adapter.centerManager.enabled&&this.adapter.viewManager.groupLength>0)c=this.adapter.centerManager.max,l=this.adapter.centerManager.min;else{var h=this.adapter.viewManager.getMagneticOffset();r-=h,s-=h}return this.adapter.releaseManager.enabled&&(c=Math.max(c,this.adapter.releaseManager.max),l=Math.max(l,this.adapter.releaseManager.min)),r-=c,(s+=l)<-.001?i=s:r>.001&&(i=r),i}};p.Event=d,o([h()],p.prototype,"_view",void 0),o([h({type:cc.Node})],p.prototype,"view",null),o([h()],p.prototype,"_content",void 0),o([h({type:cc.Node})],p.prototype,"content",null),o([h({type:a.Orientation})],p.prototype,"_orientation",void 0),o([h({type:a.Orientation})],p.prototype,"orientation",null),o([h({type:a.TouchMode,tooltip:"Auto: \u5f53\u5185\u5bb9\u6491\u6ee1\u53ef\u89c6\u533a\u57df\u6216\u5f00\u542fReleaseManager\u65f6\u5141\u8bb8\u62d6\u52a8\n        AlwaysAllow: \u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u53ef\u4ee5\u62d6\u52a8\uff0c\u5373\u4f7f\u6ca1\u6709\u4efb\u4f55\u5143\u7d20\n        Disabled: \u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u7981\u7528\u62d6\u52a8\n        "})],p.prototype,"touchMode",void 0),o([h({type:a.MovementType})],p.prototype,"movementType",void 0),o([h({range:[0,1],slide:!0,step:.001,visible:function(){return this.movementType==a.MovementType.Elastic}})],p.prototype,"elasticity",void 0),o([h()],p.prototype,"inertia",void 0),o([h({range:[0,1],slide:!0,step:.001,visible:function(){return this.inertia}})],p.prototype,"decelerationRate",void 0),o([h({tooltip:"\u5f53\u6eda\u52a8\u901f\u5ea6\u5c0f\u4e8e\u8fd9\u4e2a\u503c\u65f6\uff0c\u4f1a\u53d1\u9001ON_ABOUT_TO_STOP\u5e7f\u64ad"})],p.prototype,"aboutToStopVelocity",void 0),o([h({tooltip:"\u53d6\u6d88\u5b50\u8282\u70b9\u7684Button\u70b9\u51fb\u4e8b\u4ef6"})],p.prototype,"cancelInnerEvents",void 0),o([h({range:[0,.5],slide:!0,step:.001,visible:function(){return this.inertia},tooltip:"\u5d4c\u5957\u65f6\uff0c\u5f53\u5b50\u5143\u7d20\u7684ScrollView\u62d6\u52a8\u65b9\u5411\u548c\u5f53\u524d\u62d6\u52a8\u65b9\u5411\u76f8\u540c\u65f6\uff0c\u4f7f\u7528\u5f53\u524d\u9608\u503c\u8fdb\u884c\u8ba1\u7b97\u7531\u8c01\u6765\u5904\u7406\u62d6\u52a8\n        \u65e0\u7279\u6b8a\u9700\u6c42\u65f6\uff0c\u9ed8\u8ba4\u503c\u5373\u53ef"})],p.prototype,"nestedMinThreshold",void 0),o([h({range:[.5,1],slide:!0,step:.001,visible:function(){return this.inertia},tooltip:"\u5d4c\u5957\u65f6\uff0c\u5f53\u5b50\u5143\u7d20\u7684ScrollView\u62d6\u52a8\u65b9\u5411\u548c\u5f53\u524d\u62d6\u52a8\u65b9\u5411\u76f8\u540c\u65f6\uff0c\u4f7f\u7528\u5f53\u524d\u9608\u503c\u8fdb\u884c\u8ba1\u7b97\u7531\u8c01\u6765\u5904\u7406\u62d6\u52a8\n        \u65e0\u7279\u6b8a\u9700\u6c42\u65f6\uff0c\u9ed8\u8ba4\u503c\u5373\u53ef"})],p.prototype,"nestedMaxThreshold",void 0),p=o([c("ScrollManager")],p),i.ScrollManager=p,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/debug":"debug","../define/enum":"enum","../help/helper":"helper","./ViewManager":"ViewManager"}],Scrollbar:[function(t,e,i){"use strict";cc._RF.push(e,"ed45aVLRCpBnLDYpF0p0Drc","Scrollbar");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.Scrollbar=void 0;const n=t("../abstract/ScrollAdapter"),r=t("../define/enum"),a=t("../help/helper"),s=t("../manager/ScrollManager"),{ccclass:l,property:c}=cc._decorator;new cc.Color;let h=class extends cc.Component{constructor(){super(...arguments),this.adapter=null,this.handle=null,this.direction=r.ScrollbarDirection.Top_To_Bottom,this.interactable=!0,this.dragMinLimit=0,this.dragMaxLimit=1,this._transition=r.Transition.None,this.targetGraphic=null,this.hoverSprite=null,this.pressedSprite=null,this.hoverColor=cc.Color.WHITE.clone(),this.pressedColor=new cc.Color(211,211,211,255),this.hoverScale=new cc.Vec2(1,1),this.pressedScale=new cc.Vec2(1.2,1.2),this.transitionDuration=.2,this.numberOfSteps=0,this.enableAutoHide=!1,this.autoHideTime=1,this._isDirty=!1,this._size=0,this._value=-1,this._opacity=255}get transition(){return this._transition}set transition(t){t!=this._transition&&(this._transition=t,t!=r.Transition.None&&(this.targetGraphic||(this.targetGraphic=this.handle)))}get size(){return this._size}set size(t){t!=this._size&&(this._size=a.Helper.clamp(t,.01,1),this._isDirty=!0)}get value(){return this._value}set value(t){t!=this._value&&(this._value=this.getSteps(t),this._isDirty=!0)}get stepSize(){return this.numberOfSteps>1?1/(this.numberOfSteps-1):.1}get transform(){return this._transform||(this._transform=this.node),this._transform}get handleTransform(){return this.handle?(this._handleTransform||(this._handleTransform=this.handle.node),this._handleTransform):null}get xy(){return this.axis==r.Orientation.Horizontal?"x":"y"}get wh(){return this.axis==r.Orientation.Horizontal?"width":"height"}get axis(){return this.direction==r.ScrollbarDirection.Left_To_Right||this.direction==r.ScrollbarDirection.Right_To_Left?r.Orientation.Horizontal:r.Orientation.Vertical}__preload(){this.transform.setAnchorPoint(.5,.5),this.handleTransform.setAnchorPoint(.5,.5),this.handle.node.setPosition(0,0),this.adapter&&(this.adapter.scrollManager.on(s.ScrollManager.Event.ON_UPDATE_PERCENTAGE,this._onUpdateScrollbar,this),this._updateVisuals()),this.targetGraphic&&(this.targetGraphic.node.getScale(this._rawTargetScale),this._rawTargetFrame=this.targetGraphic.spriteFrame,this._rawTargetColor=this.targetGraphic.node.color.clone()),this._openAutoHide(!0)}onEnable(){const t=this.node;t&&(this._opacity=t.opacity),this.adapter&&(this.node[s.ADAPTER]=!0,this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.on(cc.Node.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.on(cc.Node.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.on(cc.Node.EventType.MOUSE_LEAVE,this._targetMouseLeave,this)))}onDisable(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.off(cc.Node.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.off(cc.Node.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.off(cc.Node.EventType.MOUSE_LEAVE,this._targetMouseLeave,this))}_targetMouseEnter(){switch(this._targetEnter=!0,this._openAutoHide(!1),this.transition){case r.Transition.Scale:this._transitionScale(this._targetStart?this.pressedScale:this.hoverScale);break;case r.Transition.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this.hoverSprite);break;case r.Transition.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this.hoverColor)}}_targetMouseLeave(){switch(this._targetEnter=!1,this._openAutoHide(!0),this.transition){case r.Transition.Scale:this._transitionScale(this._targetStart?this.pressedScale:this._rawTargetScale);break;case r.Transition.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this._rawTargetFrame);break;case r.Transition.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this._rawTargetColor)}}_transitionScale(t){if(t&&this.targetGraphic){var e=new cc.Vec3;this.targetGraphic.node.getScale(e),this._transitionInfo={time:0,from:e,to:t}}}_transitionColor(t){t&&this.targetGraphic&&(this._transitionInfo={time:0,from:this.targetGraphic.node.color,to:t})}_transitionSprite(t){t&&this.targetGraphic&&(this.targetGraphic.spriteFrame=t)}_mouseEnter(t){this.interactable&&this._openAutoHide(!1)}_mouseLeave(t){this.interactable&&this._openAutoHide(!0)}_openAutoHide(t){this.enableAutoHide&&(this._autoHideRemainingTime=this.autoHideTime,this._isHide=t,t||this._setOpacity(this._opacity))}_onTouchStart(t){if(this.interactable&&1!=this.size&&0!=this.size){this._openAutoHide(!1),this._pointerEvent=null,this._targetStart=!0;var e=t.getStartLocation();if(this._offset=this.handleTransform.convertToNodeSpaceAR(cc.v3(e.x,e.y)),Math.abs(this._offset[this.xy])>.5*this.handleTransform[this.wh]){this._offset=null,this._pointerEvent=t;var i=this._calcPercentage(t);this._setPercentage(i)}this.transition==r.Transition.Scale?this._transitionScale(this.pressedScale):this.transition==r.Transition.SpriteSwap?this._transitionSprite(this.pressedSprite):this.transition==r.Transition.ColorTint&&this._transitionColor(this.pressedColor)}}_onTouchMove(t){if(this.interactable&&1!=this.size&&0!=this.size&&this._offset){var e=this._calcPercentage(t,this._offset[this.xy]);this._setPercentage(e)}}_onTouchEnd(t){if(this.interactable&&1!=this.size&&0!=this.size){switch(this._offset=null,this._pointerEvent=null,this._targetStart=!1,this.transition){case r.Transition.Scale:this._transitionScale(this._targetEnter?this.hoverScale:this._rawTargetScale);break;case r.Transition.SpriteSwap:this._transitionSprite(this._targetEnter?this.hoverSprite:this._rawTargetFrame);break;case r.Transition.ColorTint:this._transitionColor(this._targetEnter?this.hoverColor:this._rawTargetColor)}this.adapter.centerManager.scrollToCenter()}}_setPercentage(t){this.adapter.scrollManager.stopScroll(),this.adapter.scrollManager.setPercentage(t)}_calcPercentage(t,e=0){var i=(this.axis==r.Orientation.Horizontal?this.transform.width:this.transform.height)*(1-this.size),o=t.getLocation(),n=this.transform.convertToNodeSpaceAR(cc.v3(o.x,o.y))[this.xy]-e-.5*-this.transform[this.wh];n-=.5*this.handleTransform[this.wh];var s=this.adapter.scrollManager.percentage;switch(this.direction){case r.ScrollbarDirection.Right_To_Left:case r.ScrollbarDirection.Top_To_Bottom:s=a.Helper.clamp(1-n/i,this.dragMinLimit,this.dragMaxLimit);break;case r.ScrollbarDirection.Left_To_Right:case r.ScrollbarDirection.Bottom_To_Top:s=a.Helper.clamp(n/i,this.dragMinLimit,this.dragMaxLimit)}return this.getSteps(s)}_onUpdateScrollbar(t,e){var i=0,o=0;this.adapter.viewManager.virtualSize>0&&(i=this.adapter.viewManager.virtualSize>=this.adapter.mainAxisSize?a.Helper.clamp01((this.adapter.mainAxisSize-Math.abs(e))/this.adapter.viewManager.virtualSize):1),o=t,this.size=i,this.numberOfSteps>1&&(o=Math.round(o*(this.numberOfSteps-1))/(this.numberOfSteps-1),o=a.Helper.clamp01(o)),this.value=o,this._autoHideRemainingTime=this.autoHideTime,this._setOpacity(this._opacity)}_updateVisuals(){if(this.handleTransform&&this.adapter){var t={x:0,y:0},e={x:0,y:0},i=this.adapter.mainAxis,o=a.Helper.clamp01(this.value)*(1-this.size);t[i]=o,e[i]=o+this.size;var n=this.transform.getContentSize()[this.wh]-e[i]*this.transform.getContentSize()[this.wh],s=t[i]*this.transform.getContentSize()[this.wh],l=this.handle.node.getPosition();switch(this.direction){case r.ScrollbarDirection.Bottom_To_Top:case r.ScrollbarDirection.Left_To_Right:l[this.xy]=.5*(s-n);break;case r.ScrollbarDirection.Top_To_Bottom:case r.ScrollbarDirection.Right_To_Left:l[this.xy]=.5*(n-s)}this.handleTransform[this.wh]=this.transform.getContentSize()[this.wh]-n-s,this.handle.node.setPosition(l)}}update(t){this._clearDirty(),this._autoHide(t),this._tranitionHandler(t)}_clearDirty(){if(this._isDirty&&(this._isDirty=!1,this._updateVisuals(),this._pointerEvent)){var t=this._pointerEvent.getLocation();this._offset=this.handleTransform.convertToNodeSpaceAR(cc.v3(t.x,t.y)),this._pointerEvent=null}}_autoHide(t){if(this.enableAutoHide&&this._isHide&&!(this._autoHideRemainingTime<=0)&&(this._autoHideRemainingTime-=t,this._autoHideRemainingTime<=this.autoHideTime)){this._autoHideRemainingTime=Math.max(0,this._autoHideRemainingTime);var e=this._opacity*(this._autoHideRemainingTime/this.autoHideTime);this._setOpacity(e)}}_tranitionHandler(t){var e=this.targetGraphic;if(this.transition==r.Transition.None||!e||!this._transitionInfo)return;this._transitionInfo.time+=t;let i=1;if(this.transitionDuration>0&&(i=this._transitionInfo.time/this.transitionDuration),i>=1&&(i=1),this.transition==r.Transition.Scale){this._transitionInfo.current=e.node.getScale(cc.v2());let t=this._transitionInfo.from,o=this._transitionInfo.to;this._transitionInfo.current.x=a.Helper.lerp(t.x,o.x,i),this._transitionInfo.current.y=a.Helper.lerp(t.y,o.y,i),e.node.setScale(this._transitionInfo.current)}else if(this.transition==r.Transition.ColorTint){let t=this._transitionInfo.from,o=this._transitionInfo.to;e.node.color=t.lerp(o,i)}1===i&&(this._transitionInfo=null)}_setOpacity(t){if(!this.handle)return;const e=function(e){e&&(e.opacity=t)};e(this.node.getComponent(cc.Sprite)),e(this.handle.getComponent(cc.Sprite))}getSteps(t){return this.numberOfSteps>1&&(t=Math.round(t*(this.numberOfSteps-1))/(this.numberOfSteps-1),t=a.Helper.clamp(t,this.dragMinLimit,this.dragMaxLimit)),t}};o([c(n.ScrollAdapter)],h.prototype,"adapter",void 0),o([c(cc.Sprite)],h.prototype,"handle",void 0),o([c({type:r.ScrollbarDirection,tooltip:"\u6eda\u52a8\u65b9\u5411"})],h.prototype,"direction",void 0),o([c({tooltip:"\u5f00\u542f\u540e\u4f1a\u5141\u8bb8\u7528\u6237\u6ed1\u52a8\u8fdb\u5ea6\u6761"})],h.prototype,"interactable",void 0),o([c({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"\u53ef\u62d6\u62fd\u7684\u6700\u5c0f\u9650\u5236\uff0c\u9ed8\u8ba4=0\u4e0d\u9650\u5236,\u4ec5\u5f53\u4f60\u5f00\u542f\u4e86\u5faa\u73af,\u5e76\u4e14\u4f60\u7684item\u4f1a\u5b9e\u65f6\u4fee\u6539\u4e3b\u8f74\u5c3a\u5bf8\u65f6,\u90a3\u4e48\u4f60\u5e94\u8be5\u9002\u5f53\u9650\u5236\u62d6\u62fd\u533a\u57df"})],h.prototype,"dragMinLimit",void 0),o([c({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"\u53ef\u62d6\u62fd\u7684\u6700\u5927\u9650\u5236\uff0c\u9ed8\u8ba4=1\u4e0d\u9650\u5236,\u4ec5\u5f53\u4f60\u5f00\u542f\u4e86\u5faa\u73af,\u5e76\u4e14\u4f60\u7684item\u4f1a\u5b9e\u65f6\u4fee\u6539\u4e3b\u8f74\u5c3a\u5bf8\u65f6,\u90a3\u4e48\u4f60\u5e94\u8be5\u9002\u5f53\u9650\u5236\u62d6\u62fd\u533a\u57df"})],h.prototype,"dragMaxLimit",void 0),o([c({type:r.Transition})],h.prototype,"_transition",void 0),o([c({type:r.Transition,visible:function(){return this.interactable}})],h.prototype,"transition",null),o([c({type:cc.Sprite,visible:function(){return this.transition!=r.Transition.None&&this.interactable}})],h.prototype,"targetGraphic",void 0),o([c({type:cc.SpriteFrame,visible:function(){return this.transition==r.Transition.SpriteSwap&&this.interactable}})],h.prototype,"hoverSprite",void 0),o([c({type:cc.SpriteFrame,visible:function(){return this.transition==r.Transition.SpriteSwap&&this.interactable}})],h.prototype,"pressedSprite",void 0),o([c({visible:function(){return this.transition==r.Transition.ColorTint&&this.interactable}})],h.prototype,"hoverColor",void 0),o([c({visible:function(){return this.transition==r.Transition.ColorTint&&this.interactable}})],h.prototype,"pressedColor",void 0),o([c({visible:function(){return this.transition==r.Transition.Scale&&this.interactable}})],h.prototype,"hoverScale",void 0),o([c({visible:function(){return this.transition==r.Transition.Scale&&this.interactable}})],h.prototype,"pressedScale",void 0),o([c({visible:function(){return this.transition==r.Transition.Scale||this.transition==r.Transition.ColorTint&&this.interactable}})],h.prototype,"transitionDuration",void 0),o([c({range:[0,11],slide:!0,step:1,tooltip:"\u7528\u4e8e\u8fdb\u5ea6\u7684\u6b65\u6570\u3002\u503c\u4e3a < 2 \u5c06\u7981\u7528"})],h.prototype,"numberOfSteps",void 0),o([c({tooltip:"\u5f00\u542f\u540e\u4f1a\u5728\u6eda\u52a8\u6761\u65e0\u66f4\u65b0\u65f6\u81ea\u52a8\u9690\u85cf"})],h.prototype,"enableAutoHide",void 0),o([c({visible:function(){return this.enableAutoHide},tooltip:"\u81ea\u52a8\u9690\u85cf\u6eda\u52a8\u6761\u7684\u65f6\u95f4"})],h.prototype,"autoHideTime",void 0),h=o([l],h),i.Scrollbar=h,cc._RF.pop()},{"../abstract/ScrollAdapter":"ScrollAdapter","../define/enum":"enum","../help/helper":"helper","../manager/ScrollManager":"ScrollManager"}],SingletonFactory:[function(t,e,i){"use strict";cc._RF.push(e,"90fb1eLDRdEMZG3qOuu3acX","SingletonFactory"),Object.defineProperty(i,"__esModule",{value:!0}),i.SingletonFactory=void 0;class o{static getInstance(t){if(!o.instances.has(t)){let e=new t;return o.instances.set(t,e),e}return o.instances.get(t)}}i.SingletonFactory=o,o.instances=new Map,cc._RF.pop()},{}],SkeletonExt:[function(t,e){"use strict";cc._RF.push(e,"be149Apc2VIHpYxJ/9STb3g","SkeletonExt"),cc.game.once(cc.game.EVENT_ENGINE_INITED,function(){cc.js.mixin(sp.Skeleton.prototype,{update:function(t){if(!this.paused)if(t*=this.timeScale*sp.timeScale,this.isAnimationCached()){if(this._isAniComplete){if(0===this._animationQueue.length&&!this._headAniInfo){var e=this._frameCache;if(e&&e.isInvalid()){e.updateToFrame();var i=e.frames;this._curFrame=i[i.length-1]}return}if(this._headAniInfo||(this._headAniInfo=this._animationQueue.shift()),this._accTime+=t,this._accTime>this._headAniInfo.delay){var o=this._headAniInfo;this._headAniInfo=null,this.setAnimation(0,o.animationName,o.loop)}return}this._updateCache(t)}else this._updateRealtime(t)}})}),cc._RF.pop()},{}],SocketDelegate:[function(t,e,i){"use strict";cc._RF.push(e,"800acXluV9LHb2cLsp3Pdc+","SocketDelegate"),Object.defineProperty(i,"__esModule",{value:!0}),i.SocketDelegate=void 0;const o=t("../userData/GameDataCenter"),n=t("../framework/manager/EventMng"),r=t("../framework/ui/UIHelp"),a=t("../userData/ConfigModule"),s=t("../GameController"),l=t("../utils/Log");i.SocketDelegate=class{constructor(){}connect(){a.ConfigModule.IS_TEST?this.url=a.ConfigModule.WS_URL_TEST:this.url=a.ConfigModule.WS_URL_DEV,console.log("\u6253\u5370websocket\u94fe\u63a5\u5730\u5740",this.url),this.websocket=new WebSocket(this.url),this.websocket.binaryType="arraybuffer",this.websocket.onopen=this.onopen.bind(this),this.websocket.onmessage=this.onmessage.bind(this),this.websocket.onclose=this.onclose.bind(this),this.websocket.onerror=this.onerror.bind(this)}send(t,e){var i={event:t,data:e};this.websocket.send(JSON.stringify(i)),cc.sys.isNative?l.Log.logTag(l.LOG_TAG.SOCKET,"%cSOCKET\u53d1\u9001--\x3e","color:#fff;background:red",JSON.stringify(i)):l.Log.logTag(l.LOG_TAG.SOCKET,"%cSOCKET\u53d1\u9001--\x3e","color:#fff;background:red",i)}close(){this.websocket.close()}toLoginScene(){s.default.socket.close()}onopen(){l.Log.warn("connect success"),r.default.CloseLoding(),o.default.socketModel.login()}handleArrayBuffer(t){return new DataView(t).getUint8(0),(new TextDecoder).decode(t)}handleBlob(t){const e=new FileReader;return e.onload=function(t){const e=t.target.result;this.handleArrayBuffer(e)}.bind(this),e.onerror=function(t){console.error("Blob reading error:",t)}.bind(this),e.readAsArrayBuffer(t)}onmessage(t){const e=t.data;let i=null;e instanceof ArrayBuffer?i=this.handleArrayBuffer(e):e instanceof Blob&&(i=this.handleBlob(e)),i=JSON.parse(i),console.log("WebSocket\u6536\u5230\u4fe1\u606f",i),console.log("message\u4fe1\u606f\u503c",i.event),n.default.emit(`${i.event}`,i.data)}onreconnect(){l.Log.error("reconnecting..."),r.default.ShowLoding()}onclose(){}onerror(){}base64ToArrayBuffer(t){const e=window.atob(t),i=e.length,o=new Uint8Array(i);for(let n=0;n<i;n++)o[n]=e.charCodeAt(n);return o.buffer}Utf8ArrayToStr(t){var e,i,o,n,r,a;for(e="",o=t.length,i=0;i<o;)switch((n=t[i++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(n);break;case 12:case 13:r=t[i++],e+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=t[i++],a=t[i++],e+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&a)<<0)}return e}arrayBufferToString(t){if("string"==typeof t)return t;for(var e=new DataView(t.data),i=new Uint8Array(t.data.byteLength),o=0;o<i.length;o++)i[o]=e.getUint8(o);var n="",r=t=i;for(o=0;o<r.length;o++){var a=r[o].toString(2),s=a.match(/^1+?(?=0)/);if(s&&8==a.length){for(var l=s[0].length,c=r[o].toString(2).slice(7-l),h=1;h<l;h++)c+=r[h+o].toString(2).slice(2);n+=String.fromCharCode(parseInt(c,2)),o+=l-1}else n+=String.fromCharCode(r[o])}return n}},cc._RF.pop()},{"../GameController":"GameController","../framework/manager/EventMng":"EventMng","../framework/ui/UIHelp":"UIHelp","../userData/ConfigModule":"ConfigModule","../userData/GameDataCenter":"GameDataCenter","../utils/Log":"Log"}],SocketModel:[function(t,e,i){"use strict";cc._RF.push(e,"d08f30dfAdHSrhVNmabExX0","SocketModel"),Object.defineProperty(i,"__esModule",{value:!0});const o=t("../framework/manager/EventMng"),n=t("../framework/model/IDataModel"),r=t("../framework/ui/UIHelp"),a=t("../logic/ui/prefab/UIGameLayer"),s=t("../logic/ui/prefab/UIKiller"),l=t("../logic/ui/scene/UIGame"),c=t("../utils/Log"),h=t("./EventConst"),u=t("./GameDataCenter"),d=t("./PlayerModel"),p=t("./BaoxiangModel"),g=t("lodash");i.default=class extends n.default{constructor(){super("SocketModel")}getMessageListeners(){return{WS_MESSAGE_EVENT_USER_INFO:t=>{this.socket_login(t)},WS_MESSAGE_EVENT_GAME_INFO:t=>{this.socket_roominfo(t)},WS_MESSAGE_EVENT_COIN_CONFIG_INFO:t=>{this.socket_configInfo_coin(t)},WS_MESSAGE_EVENT_ERROR:t=>{this.socket_errorMessage(t)},game_move:t=>{this.socket_move(t)},game_stage:t=>{this.socket_stage(t)},game_betting:t=>{this.socket_betting(t)},game_leave:t=>{this.socket_leave(t)},game_join:t=>{this.socket_join(t)},game_sync_status:t=>{this.socket_sync_status(t)},game_close:t=>{this.socket_close(t)}}}setTimeDoAni(t,e,i){setTimeout(function(){t(e)},i)}login(){this.sendSocketMsg("WS_REQUEST_USER_LOGIN",{token:u.default.accountModel.token})}move(t){this.sendSocketMsg("WS_REQUEST_USER_JOIN",{roomid:t})}betting(t,e){this.sendSocketMsg("WS_MESSAGE_EVENT_USER_INFO",{roomid:t,id:e})}selectRoomAndBetting(t){this.sendSocketMsg("WS_REQUEST_USER_JOIN",t)}socket_login(t){c.Log.warn("\u6d41\u7a0b\u6392\u67e51 - Websocket\u767b\u5f55\u6210\u529f"),console.log("\u67e5\u770b\u83b7\u53d6\u5230\u7684\u6570\u636e",t);var e=u.default.accountModel;e.nickName=t.nickname,e.uid=t.user_id,e.balance=t.balance,e.sex=t.sex,t.amount=0,u.default.roomInfoModel.setCoin(t.balance),u.default.accountModel.players.get(t.user_id)||(u.default.accountModel.clearRoomPlayers(),u.default.accountModel.players.forEach(t=>{t.destroy()}),this.createPlayer(t,0))}renderingRoomPlayer(t){if(0==t.length)return;for(let i of t)this.createPlayer(i,i.room_id),i.user_id==u.default.accountModel.uid&&u.default.accountModel.players.get(i.user_id).showBetting(i.amount);let e=t.map(t=>t.user_id);new Map([...u.default.accountModel.players].filter(([t,i])=>!e.includes(i.uid))).forEach(t=>{var e=u.default.accountModel.players.get(t.uid);null==e||e.destroy()}),t.forEach(t=>{var e=u.default.accountModel.players.get(t.user_id);e.roomId!==t.room_id&&e.moveToRoomById(t.room_id)})}socket_errorMessage(t){r.default.ShowTips(t.message)}socket_configInfo_coin(t){c.Log.warn("\u6d41\u7a0b\u6392\u67e52 - \u83b7\u53d6\u4e0b\u6ce8\u914d\u7f6e",t);let{coin_types:e}=t;u.default.roomInfoModel.initBettingConf(e,e[0].id),a.default.instance.showLastKillerAni()}socket_roominfo(t){var e;let{dts_game:i,dts_game_users:n,rooms:r,room_results:d,CoinTypes:p}=t;switch(i.stage,u.default.roomInfoModel.changeRoomStage(i,t.timestamp),a.default.instance.showLastKillerAni(),i.stage){case 1:c.Log.warn("\u5168\u5c40\u623f\u95f4\u4fe1\u606f\u63a8\u9001\u63a8\u9001 - state1 \u7b49\u5f85",t),o.default.emit(h.GameEvent.OPEN_GAME);break;case 2:c.Log.warn("\u5168\u5c40\u623f\u95f4\u4fe1\u606f\u63a8\u9001\u63a8\u9001 - state2 \u6740\u624b\u5012\u8ba1\u65f6",t);break;case 3:{c.Log.warn("\u5168\u5c40\u623f\u95f4\u4fe1\u606f\u63a8\u9001\u63a8\u9001 - state3 \u6740\u4eba\u7ed3\u7b97",t);let i=1;this.setTimeDoAni(()=>{console.log("\u64ad\u653e\u5173\u95e8\u52a8\u753b"),a.default.instance.showStage3Ani()},"",0),i+=1,this.setTimeDoAni(()=>{console.log("\u5c55\u793a\u6740\u624b\u5373\u5c06\u51fa\u73b0\u63d0\u793a"),l.default.instance.showStage3Ani()},"",1e3*i),i+=2;let o=d.find(t=>2===t.status),h=r.find(t=>t.room_id===o.room_id);this.setTimeDoAni(t=>{console.log("\u6740\u624b\u5f00\u59cb\u6740\u4eba"),s.default.instance.kill(t)},o.room_id,1e3*i),i+=7;let p=n.find(t=>t.user_id==u.default.accountModel.uid);console.log("\u7ed3\u7b97\u6570\u636e - \u627e\u5230\u81ea\u5df1\u7684\u7528\u6237",p);let _=0;_=0==p.room_id?2:o.room_id!==p.room_id?0===parseInt(p.amount)?3:4:1;let f={shaid:o.room_id,sha_total:null!==(e=null==h?void 0:h.amount)&&void 0!==e?e:0,betting_coin:parseFloat(null==p?void 0:p.amount),win_coin:g.round(null==p?void 0:p.record.win_amount,6),resultType:_};this.setTimeDoAni(t=>{u.default.roomInfoModel.setKillResult(t)},f,1e3*i),i+=9,0!==p.prize_log.status&&this.setTimeDoAni(()=>{console.log("\u521b\u5efa\u5b9d\u7bb1"),this.createBaoxiang(p.prize_log)},"",1e3*i),this.setTimeDoAni(()=>{l.default.instance.showStage5Ani()},"",1e3*i);break}}u.default.roomInfoModel.initData(i,t.timestamp),u.default.roomInfoModel.initRoomsCoin(r,!1),this.renderingRoomPlayer(n),o.default.emit(h.GameEvent.SET_DOORS,i.stage)}socket_move(t){c.Log.warn("mock\u6392\u67e53 - \u79fb\u52a8\u623f\u95f4\u6570\u636e");var e=t.data;u.default.roomInfoModel.initRoomsCoin(e.rooms,!0),e.betting.uid==u.default.accountModel.uid&&(u.default.roomInfoModel.roomId=e.betting.roomid),u.default.accountModel.players.get(e.betting.uid).moveToRoomById(e.betting.roomid)}socket_stage(t){c.Log.warn("mock\u6392\u67e57 - \u540c\u6b65\u623f\u95f4\u72b6\u6001");var e=t.data,i=e.game_stage;switch(u.default.roomInfoModel.changeRoomStage(e,e.timestamp),a.default.instance.showLastKillerAni(),i){case 1:o.default.emit(h.GameEvent.OPEN_GAME),u.default.roomInfoModel.initData(e.roominfo,e.timestamp),u.default.roomInfoModel.initRoomsCoin(e.rooms,!1),u.default.roomInfoModel.initBettingConf(e.betting_config,e.betting_id);break;case 3:l.default.instance.showStage3Ani(),a.default.instance.showStage3Ani();break;case 4:s.default.instance.kill(e.shaid);break;case 5:u.default.roomInfoModel.setKillResult(e),u.default.roomInfoModel.setCoin(e.user),l.default.instance.showStage5Ani()}}socket_betting(t){c.Log.warn("mock\u6392\u67e56 - \u83b7\u53d6\u4e0b\u6ce8\u7684\u4fe1\u606f");var e=t.data,i=e.betting,o=u.default.accountModel.players.get(i.uid);i.uid!=u.default.accountModel.uid?o.moveToRoomById(i.roomid):o.showBetting(i.coin),u.default.roomInfoModel.minPlayerNum=e.betting_num,u.default.roomInfoModel.maxPlayerNum=e.total_num,u.default.roomInfoModel.initRoomsCoin(e.rooms,!0),u.default.roomInfoModel.setCoin(t.data.user)}socket_leave(t){var e=t.data,i=u.default.accountModel.players.get(e.uid);null==i||i.destroy()}socket_join(t){var e=t.data;e.is_betting||this.createPlayer(e.user,0)}socket_sync_status(t){var e=t.data;u.default.roomChoseModel.initData(e.room_status)}socket_close(t){o.default.emit(h.GameEvent.CLOSE_GAME)}updatePlayer(t){let e=u.default.accountModel.players.get(t.user_id);e&&(e.coin=g.round(t.amount,2))}createPlayer(t,e){var i;if(u.default.accountModel.players.get(t.user_id))return!1;let o=new d.default;return o.initData(t,e),o.loadPlayerAni(e),u.default.accountModel.players.set(t.user_id,o),null===(i=u.default.accountModel.roomPlayers.get(e))||void 0===i||i.set(t.user_id,o),u.default.roomInfoModel.refreshRoomPlayer(),!0}createBaoxiang(t){(new p.default).loadBaoxiangAni(t)}},cc._RF.pop()},{"../framework/manager/EventMng":"EventMng","../framework/model/IDataModel":"IDataModel","../framework/ui/UIHelp":"UIHelp","../logic/ui/prefab/UIGameLayer":"UIGameLayer","../logic/ui/prefab/UIKiller":"UIKiller","../logic/ui/scene/UIGame":"UIGame","../utils/Log":"Log","./BaoxiangModel":"BaoxiangModel","./EventConst":"EventConst","./GameDataCenter":"GameDataCenter","./PlayerModel":"PlayerModel",lodash:1}],StringFormat:[function(t,e,i){"use strict";cc._RF.push(e,"0cee0I1ITJM052iCnpfRV7g","StringFormat"),Object.defineProperty(i,"__esModule",{value:!0}),i.StringFormatFunction=void 0,i.StringFormatFunction=new class{deal(t,e){if(""===e)return t;let i,o=(e=e.toLowerCase().trim()).match(/^[a-z|A-Z]+/gi),n=e.match(/\(([^)]*)\)/),r="",a="";if(o&&(r=o[0]),n&&(i=parseInt(n[1])),"number"==typeof t)switch(r){case"int":a=this.int(t);break;case"fix":a=this.fix(t,i);break;case"kmbt":a=this.KMBT(t);break;case"per":a=this.per(t,i);break;case"sep":a=this.sep(t)}else{switch(r){case"limit":a=this.limit(t,i)}a=t}return a}sep(t){return Math.round(t).toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,")}time_m(t){}time_s(t){}time_ms(t){}timeStamp(t){return new Date(t).toString()}per(t,e){return Math.round(100*t).toFixed(e)}int(t){return Math.round(t)}fix(t,e){var i=new RegExp("([0-9]+\\.[0-9]{"+e+"})[0-9]*"),o=t.toString().replace(i,"$1");return parseFloat(o).toFixed(e)}limit(t,e){return t.substring(0,e)}KMBT(t,e="en"){return this.compressUnit(t,[1e3,1e6,1e9,1e12],["","K","M","B","T"],2)}compressUnit(t,e,i,o=2){let n,r,a=e,s=i;for(r=0;r<a.length;r++)if(t<a[r]){n=r>0?(t/a[r-1]).toFixed(o):t.toFixed(0);break}return n+s[r]}},cc._RF.pop()},{}],UIBaoxiang:[function(t,e,i){"use strict";cc._RF.push(e,"bf67bkARPNGjL7/PxfYzS8l","UIBaoxiang");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},r=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,r){function a(t){try{l(o.next(t))}catch(e){r(e)}}function s(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((o=o.apply(t,e||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../../data/autoui/prefab/auto_baoxiang"),s=t("../../../framework/ui/UIBase"),l=t("../../../framework/ui/UIHelp"),c=t("../../../userData/GameDataCenter"),{ccclass:h,menu:u,property:d}=cc._decorator;let p=o=class extends s.default{constructor(){super(...arguments),this.ui=null,this.skeletonAnimation=null,this.amount=null,this.skinList=["chest1","chest2","chest3","chest4","chest5","chest6"],this.animationList_intro=["intro1","intro2","intro3","intro4","intro5"],this.animationList_callout=["callout1","callout2","callout3","callout4","callout5"],this.animationList_bounceOpen=["bounce_open1","bounce_open2","bounce_open3","bounce_open4","bounce_open5"],this.animationList_openIdle=["open_idle1","open_idle2","open_idle3","open_idle4","open_idle5"],this.animationList_outro=["outro","outro","outro","outro","outro"],this.chestLv=1,this.skinNum=1,this.chestState=0}onUILoad(){this.ui=this.node.addComponent(a.default),o.instance=this}onShow(){}onHide(){}onStart(){}resetUI(){this.unscheduleAllCallbacks()}onClose(){l.default.CloseUI(o)}refreshChestPos(t){}initChest(t){this.chestLv=t.type,this.skinNum=t.type,this.chestState=0,this.amount=t.amount,console.log("");let e=c.default.chestModel.chests.get(this.chestLv);console.log("UI\u79cd\u83b7\u53d6\u5b9d\u7bb11",e),console.log("UI\u79cd\u83b7\u53d6\u5b9d\u7bb11",e.node.getChildByName("sp_baoxiang")),this.skeletonAnimation=e.node.getChildByName("sp_baoxiang").getComponent(sp.Skeleton),this.skeletonAnimation.defaultSkin=this.skinList[this.skinNum+1],this.skeletonAnimation.setSkin(this.skinList[this.chestLv+1]),this.skeletonAnimation.setCompleteListener(this.onSpineCompleteEvent.bind(this)),this.intro()}intro(){return r(this,void 0,void 0,function*(){this.skeletonAnimation.setAnimation(0,this.animationList_intro[this.chestLv],!1)})}onSpineCompleteEvent(t,e){switch(console.log("\u52a8\u753b\u540d\u79f0",t),t.animation.name.replaceAll(/\d/g,"")){case"intro":this.skeletonAnimation.setAnimation(0,this.animationList_bounceOpen[this.chestLv],!0),setTimeout(()=>{l.default.ShowTips("\u606d\u559c\u60a8\u83b7\u5f97\u5b9d\u7bb1\u5956\u52b1"+this.amount)},1500),this.chestState=1;break;case"callout":this.chestState=2,this.skeletonAnimation.setAnimation(0,this.animationList_bounceOpen[this.chestLv],!0);break;case"bounce_open":this.chestState=3,this.skeletonAnimation.setAnimation(0,this.animationList_outro[this.chestLv],!1);break;case"open_idle":this.chestState=4,this.skeletonAnimation.setAnimation(0,this.animationList_outro[this.chestLv],!1);break;case"outro":this.chestState=5}}bounceOpen(){this.skeletonAnimation.setAnimation(0,this.animationList_bounceOpen[this.chestLv],!0)}};p.prefabUrl="baoxiang",p.className="UIBaoxiang",p.instance=null,p=o=n([h,u("UI/prefab/UIBaoxiang")],p),i.default=p,cc._RF.pop()},{"../../../data/autoui/prefab/auto_baoxiang":"auto_baoxiang","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter"}],UIBase:[function(t,e,i){"use strict";cc._RF.push(e,"45649v9bRBB0JMA/zmnATZE","UIBase");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../manager/EventMng"),r=t("../manager/AudioMng"),{ccclass:a,property:s}=cc._decorator,l=t("../component/VMParent"),c=t("../../utils/Log");let h=class extends l.default{constructor(){super(...arguments),this.maskNode=null,this.alertNode=null}get tags(){return this.mTag}set tags(t){this.mTag=t}static getUrl(){return"prefab/"+this.prefabUrl}static getName(){return this.className}init(t){this.onInit(t)}onLoad(){super.onLoad(),this._notifyEventList=new Map,this._registerEventList=new Map,this.onUILoad()}onDestroy(){super.onDestroy(),this.onUIDestroy()}onEnable(){this.onShow()}onDisable(){this.onHide();let t=this;this._notifyEventList.forEach((e,i)=>{n.default.off(i,e,t)},this),this._notifyEventList.clear(),this._registerEventList.forEach(t=>{t.node.off(t.type)},this),this._registerEventList.clear()}initEvent(t,e){n.default.on(t,e,this),this._notifyEventList.set(t,e)}touchEvent(t){t.stopPropagation()}start(){if(this.maskNode){let t=this.maskNode.opacity;this.maskNode.opacity=0,cc.tween(this.maskNode).to(.3,{opacity:t}).start()}this.alertNode&&(this.alertNode.scale=0,this.alertNode.opacity=0,cc.tween(this.alertNode).to(.3,{opacity:255}).start(),cc.tween(this.alertNode).to(.3,{scale:1.2}).to(.1,{scale:1}).start()),this.onStart()}update(t){this.onUpdate(t)}onInit(t){}onUILoad(){}onUIDestroy(){}onShow(){}onHide(){}onStart(){}onUpdate(t){}onClose(){}onRegisterEvent(t,e,i="ui_click",o=!0){var n=t.getComponent(cc.Button),a=t.getComponent(cc.Toggle),s=this;t?n?(n.node.on("click",()=>{o&&r.audioCnf.click&&r.AudioMng.getInstance().playSFX(i),e.call(s,n)},s),this._registerEventList.set(t.uuid,{node:t,type:"click"})):a?(a.node.on("toggle",()=>{o&&r.audioCnf.click&&r.AudioMng.getInstance().playSFX(i),e.call(s,a)},s),this._registerEventList.set(t.uuid,{node:t,type:"toggle"})):c.Log.error("not btn or toggle"):c.Log.error("no node")}};o([s(cc.Node)],h.prototype,"maskNode",void 0),o([s(cc.Node)],h.prototype,"alertNode",void 0),h=o([a],h),i.default=h,cc._RF.pop()},{"../../utils/Log":"Log","../component/VMParent":"VMParent","../manager/AudioMng":"AudioMng","../manager/EventMng":"EventMng"}],UIChoseRoomLayer:[function(t,e,i){"use strict";cc._RF.push(e,"65602c+42BOWqdZ4oLkBJdh","UIChoseRoomLayer");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_choseRoomLayer"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),l=t("../../../userData/GameDataCenter"),c=t("./UIGameLayer"),h=t("./UIKiller"),{ccclass:u,menu:d,property:p}=cc._decorator;let g=o=class extends a.default{constructor(){super(...arguments),this.ui=null}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){this.onRegisterEvent(this.ui.btn_close,this.onClose),this.onRegisterEvent(this.ui.btn_1,this.onRoom1Click),this.onRegisterEvent(this.ui.btn_2,this.onRoom2Click),this.onRegisterEvent(this.ui.btn_3,this.onRoom3Click)}onHide(){}onStart(){}onRoom1Click(){1!=l.default.roomInfoModel.roomType?(l.default.socketModel.joinRoom(1),c.default.instance.resetRoomChose(),h.default.instance.resetUI(),this.onClose()):this.onClose()}onRoom2Click(){2!=l.default.roomInfoModel.roomType?(l.default.socketModel.joinRoom(2),c.default.instance.resetRoomChose(),h.default.instance.resetUI(),this.onClose()):this.onClose()}onRoom3Click(){3!=l.default.roomInfoModel.roomType?(l.default.socketModel.joinRoom(3),c.default.instance.resetRoomChose(),h.default.instance.resetUI(),this.onClose()):this.onClose()}onClose(){s.default.CloseUI(o)}};g.prefabUrl="choseRoomLayer",g.className="UIChoseRoomLayer",g.instance=null,g=o=n([u,d("UI/prefab/UIChoseRoomLayer")],g),i.default=g,cc._RF.pop()},{"../../../data/autoui/prefab/auto_choseRoomLayer":"auto_choseRoomLayer","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter","./UIGameLayer":"UIGameLayer","./UIKiller":"UIKiller"}],UIComDialog:[function(t,e,i){"use strict";cc._RF.push(e,"4cc64rWWDZJZpiFyp1TUAA6","UIComDialog");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/comPop/auto_comDialog"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),l=t("../../../utils/Log"),{ccclass:c,menu:h,property:u}=cc._decorator;let d=o=class extends a.default{constructor(){super(...arguments),this.ui=null}onInit(t){if(null==t)return void l.Log.error("UIComDialog:\u6ca1\u6709\u4f20\u5165\u53c2\u6570\uff01\uff01\uff01");let e=t[0];this._title=e.title,this._content=e.content,this._certainCb=e.certainCb,this._cancelCb=e.cancelCb}onUILoad(){this.ui=this.node.addComponent(r.default)}onShow(){this.onRegisterEvent(this.ui.btn_close,this.onClose),this.onRegisterEvent(this.ui.btn_cancel,this.onCancel),this.onRegisterEvent(this.ui.btn_certain,this.onCertain)}onHide(){}onStart(){s.default.SetLabel(this.ui.lbl_title,this._title),s.default.SetLabel(this.ui.lbl_content,this._content),this.ui.btn_cancel.active=Boolean(this._cancelCb),this.ui.btn_certain.active=Boolean(this._certainCb)}onClose(){s.default.CloseUI(o)}onCancel(){this.onClose(),this._cancelCb&&this._cancelCb()}onCertain(){this.onClose(),this._certainCb&&this._certainCb()}};d.prefabUrl="comPop/comDialog",d.className="UIComDialog",d=o=n([c,h("UI/comPop/UIComDialog")],d),i.default=d,cc._RF.pop()},{"../../../data/autoui/comPop/auto_comDialog":"auto_comDialog","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../utils/Log":"Log"}],UIComSharePop:[function(t,e,i){"use strict";cc._RF.push(e,"c24fc6o/MZOEaSDXsaggLbC","UIComSharePop");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/comPop/auto_comSharePop"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),{ccclass:l,menu:c,property:h}=cc._decorator;let u=o=class extends a.default{constructor(){super(...arguments),this.ui=null}onUILoad(){this.ui=this.node.addComponent(r.default)}onShow(){this.onRegisterEvent(this.ui.btn_close,this.onClose)}onHide(){}onStart(){}onClose(){s.default.CloseUI(o)}};u.prefabUrl="comPop/comSharePop",u.className="UIComSharePop",u=o=n([l,c("UI/comPop/UIComSharePop")],u),i.default=u,cc._RF.pop()},{"../../../data/autoui/comPop/auto_comSharePop":"auto_comSharePop","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIComTipsItem:[function(t,e,i){"use strict";cc._RF.push(e,"dbdfdbIDIBKtL232M9qnlEC","UIComTipsItem");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/comPop/auto_comTipsItem"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),{ccclass:l,menu:c,property:h}=cc._decorator;let u=o=class extends a.default{constructor(){super(...arguments),this.ui=null,this.ready=!0}onUILoad(){this.ui=this.node.addComponent(r.default)}onShow(){}onHide(){}onStart(){}onClose(){s.default.CloseUI(o)}playTip(t){this.node.stopAllActions(),this.ready=!1,s.default.SetLabel(this.ui.lab_des,t),this.reset();let e=cc.moveTo(.5,0,128),i=cc.fadeIn(.5),o=cc.spawn(e,i),n=cc.delayTime(1),r=cc.fadeOut(.5),a=cc.callFunc(function(){this.ready=!0},this),l=cc.sequence(o,n,r,a);this.node.runAction(l)}isReady(){return this.ready}reset(){this.node.setPosition(0,0),this.node.opacity=255}};u.prefabUrl="comPop/comTipsItem",u.className="UIComTipsItem",u=o=n([l,c("UI/comPop/UIComTipsItem")],u),i.default=u,cc._RF.pop()},{"../../../data/autoui/comPop/auto_comTipsItem":"auto_comTipsItem","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIComTips:[function(t,e,i){"use strict";cc._RF.push(e,"bf160oURsRAtJBdIk4+YYfl","UIComTips");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/comPop/auto_comTips"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),l=t("./UIComTipsItem"),{ccclass:c,menu:h,property:u}=cc._decorator;let d=o=class extends a.default{constructor(){super(...arguments),this.ui=null,this.tipPrefab=null,this.tipPool=[]}onUILoad(){this.ui=this.node.addComponent(r.default)}onShow(){}onHide(){}onStart(){}onClose(){s.default.CloseUI(o)}showTip(t){for(let o=0;o<this.tipPool.length;++o)if(null!=this.tipPool[o]&&this.tipPool[o].isReady())return void this.tipPool[o].playTip(t);let e=cc.instantiate(this.tipPrefab);e.parent=this.node;let i=e.getComponent(l.default);this.tipPool.push(i),i.playTip(t)}};d.prefabUrl="comPop/comTips",d.className="UIComTips",n([u(cc.Prefab)],d.prototype,"tipPrefab",void 0),d=o=n([c,h("UI/comPop/UIComTips")],d),i.default=d,cc._RF.pop()},{"../../../data/autoui/comPop/auto_comTips":"auto_comTips","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","./UIComTipsItem":"UIComTipsItem"}],UIGameLayer:[function(t,e,i){"use strict";cc._RF.push(e,"699cfQJpzRB5qbZycCUCqp4","UIGameLayer");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("./../../../utils/Utils"),a=t("../../../data/autoui/prefab/auto_gameLayer"),s=t("../../../framework/manager/AudioMng"),l=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),h=t("../../../userData/EventConst"),u=t("../../../userData/GameDataCenter"),d=t("./UIChoseRoomLayer"),p=t("./UIJiluLayer"),g=t("./UIRankLayer"),_=t("./UIWeihuLayer"),f=t("./UIBaoxiang"),{ccclass:m,menu:y,property:v}=cc._decorator;let b=o=class extends l.default{constructor(){super(...arguments),this.ui=null,this.baoxaingPrefab=null,this.playerPrefab=null,this.playerNamePrefab=null,this.coinPrefab=null,this.baoxiangAniNUm=0,this.tipsIndex=0,this.tipsTween=null,this.tipsList=[]}onUILoad(){this.ui=this.node.addComponent(a.default),o.instance=this}onShow(){this.onRegisterEvent(this.ui.btn_room1,this.onRoom1Click),this.onRegisterEvent(this.ui.btn_room2,this.onRoom2Click),this.onRegisterEvent(this.ui.btn_room3,this.onRoom3Click),this.onRegisterEvent(this.ui.btn_room4,this.onRoom4Click),this.onRegisterEvent(this.ui.btn_room5,this.onRoom5Click),this.onRegisterEvent(this.ui.btn_room6,this.onRoom6Click),this.onRegisterEvent(this.ui.btn_room7,this.onRoom7Click),this.onRegisterEvent(this.ui.btn_room8,this.onRoom8Click),this.onRegisterEvent(this.ui.btn_chose_betting_num,this.onChoseBettingNumClick),this.onRegisterEvent(this.ui.toggle1,this.onBettingNum1Click),this.onRegisterEvent(this.ui.toggle2,this.onBettingNum2Click),this.onRegisterEvent(this.ui.toggle3,this.onBettingNum3Click),this.onRegisterEvent(this.ui.btn_betting,this.onBettingClick),this.onRegisterEvent(this.ui.btn_rank,this.onRankClick),this.onRegisterEvent(this.ui.btn_jilu,this.onJiluClick),this.onRegisterEvent(this.ui.btn_changeLua,this.onChangeLua),this.initEvent(h.GameEvent.SET_DOORS,this.onStageChange),this.initEvent(h.GameEvent.CLOSE_GAME,this.onCloseGame),this.initEvent(h.GameEvent.OPEN_GAME,this.onOpenGame)}onHide(){}onStart(){}onCloseGame(){c.default.ShowUI(_.default)}onOpenGame(){c.default.CloseUI(_.default)}resetRoomChose(){this.ui.toggle1.getComponent(cc.Toggle).isChecked=!0,this.unscheduleAllCallbacks(),this.showLastKillerAni()}onChangeLua(){console.log("\u5207\u6362\u8bed\u8a00",u.default.accountModel.language),this.ui.yuyanToggleGroup.active=!this.ui.yuyanToggleGroup.active}showLastKillerAni(){"zh"==u.default.accountModel.language?this.tipsList=["\u5feb\u9ede\u500b\u623f\u9593\u8eb2\u8d77\u4f86\uff0c\u6bba\u624b\u8981\u4f86\u4e86",`\u6210\u529f\u8eb2\u907f\u6bba\u624b\u7372\u5f97${u.default.roomInfoModel.coinName}\u734e\u52f5\u54e6`,`\u4e0a\u671f\u6bba\u624b\u53bb\u4e86\u300c${u.default.roomInfoModel.lastShaRoomName}\u300d`]:"ko"==u.default.accountModel.language?this.tipsList=["\ubc29\uc744 \uc120\ud0dd\ud558\uc5ec \uc228\uc73c\uc138\uc694, \uc0b4\uc778\uc774 \ub2e4\uac00\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4.",`\uc0b4\uc778\uc744 \uc131\uacf5\uc801\uc73c\ub85c \ud53c\ud558\uba74 ${u.default.roomInfoModel.coinName} \ubcf4\uc0c1\uc744 \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.`,`\uc9c0\ub09c \ubc88, \uc0b4\uc778\uc740 \u300c${u.default.roomInfoModel.lastShaRoomName}\u300d\uc5d0 \uac14\uc2b5\ub2c8\ub2e4.`]:"ja"==u.default.accountModel.language?this.tipsList=["\u90e8\u5c4b\u3092\u9078\u3093\u3067\u96a0\u308c\u3066\u304f\u3060\u3055\u3044\u3001\u6bba\u4eba\u8005\u304c\u6765\u307e\u3059",`\u6bba\u4eba\u8005\u3092\u3046\u307e\u304f\u907f\u3051\u308b\u3068${u.default.roomInfoModel.coinName}\u306e\u5831\u916c\u304c\u3082\u3089\u3048\u307e\u3059`,`\u524d\u56de\u3001\u6bba\u4eba\u8005\u306f\u300c${u.default.roomInfoModel.lastShaRoomName}\u300d\u306b\u884c\u304d\u307e\u3057\u305f`]:this.tipsList=["Choose a room to hide in, the killer is coming",`Successfully avoid the killer to get ${u.default.roomInfoModel.coinName} rewards`,`Last time, the killer went to \u300c${u.default.roomInfoModel.lastShaRoomName}\u300d`],u.default.roomInfoModel.gameStage<=2?this.tipsIndex=0:this.tipsIndex=2,c.default.SetLabel(this.ui.lab_shangqi,this.tipsList[this.tipsIndex]),this.tipsTween||(this.tipsTween=cc.tween(this.ui.lab_shangqi),this.tipsTween.repeatForever(cc.tween().delay(2).call(()=>{c.default.SetLabel(this.ui.lab_shangqi,this.tipsList[this.tipsIndex]),u.default.roomInfoModel.gameStage<=2&&(this.tipsIndex+=1,this.tipsIndex>2&&(this.tipsIndex=0))})).start())}onStageChange(t){switch(t){case 1:case 2:this.setDoors(1);break;case 3:this.setDoors(2)}}setDoors(t){for(let e=1;e<=9;e++){let i=1==t?"open":`guan${e}`;this.ui[`men${e}`].getComponent(sp.Skeleton).setAnimation(0,i,!1)}}openAllDoors(){console.warn("\u6253\u5f00\u6240\u6709\u95e8"),this.scheduleOnce(()=>{for(let t=1;t<=9;t++){let e=this.ui[`men${t}`].getComponent(sp.Skeleton);-1==e.animation.indexOf("open")&&e.setAnimation(0,`open${t}`,!1)}},2),this.scheduleOnce(()=>{u.default.accountModel.players.forEach(t=>{t.moveBack()})},2.5)}closeAllDoors(){for(let t=1;t<=9;t++)this.ui[`men${t}`].getComponent(sp.Skeleton).setAnimation(0,`close${t}`,!1);this.scheduleOnce(()=>{s.AudioMng.getInstance().playSFX("guanmen")},.3)}showStage3Ani(){console.log("\u67e5\u770bthis",this),this.scheduleOnce(this.closeAllDoors,u.default.roomInfoModel.waitTime-1)}openDoor(t){this.ui[`men${t}`].getComponent(sp.Skeleton).setAnimation(0,`open${t}`,!1)}resetRoomId(){this.data.roomId=0}onBettingNumClick(t){this.scheduleOnce(()=>{this.ui.node_chose_coin.active=!1}),u.default.roomInfoModel.bettingId=t,u.default.roomInfoModel.bettingNum=u.default.roomInfoModel[`bettingConfig${t}`]}onChoseBettingNumClick(){switch(this.ui.node_chose_coin.active=!this.ui.node_chose_coin.active,u.default.roomInfoModel.bettingId){case 1:this.ui.toggle1.getComponent(cc.Toggle).isChecked=!0;break;case 2:this.ui.toggle2.getComponent(cc.Toggle).isChecked=!0;break;case 3:this.ui.toggle3.getComponent(cc.Toggle).isChecked=!0}}onChoseRoomClick(){c.default.ShowUI(d.default)}onRoomClick(t){u.default.roomInfoModel.roomId!=t&&(u.default.roomInfoModel.roomId=t)}onBettingClick(){if(!u.default.roomInfoModel.roomId)return void c.default.ShowTips("\u8bf7\u9009\u62e9\u623f\u95f4\u540e\u6295\u5165");let t={room_id:u.default.roomInfoModel.roomId,dts_user_id:u.default.accountModel.uid,dts_game_id:u.default.roomInfoModel.dts_game_id,coin_id:u.default.roomInfoModel.bettingId},e=u.default.accountModel.players.get(u.default.accountModel.uid);0===(null==e?void 0:e.coin)?u.default.socketModel.selectRoomAndBetting(t):c.default.ShowTips("\u5df2\u4e0b\u6ce8\uff0c\u4e0d\u53ef\u91cd\u65b0\u4e0b\u6ce8")}onBaoxiangClick(){console.log("\u70b9\u51fb\u4e86\u5b9d\u7bb1"),c.default.ShowTips("\u70b9\u51fb\u4e86\u5b9d\u7bb1"),f.default.instance.bounceOpen()}onRankClick(){c.default.ShowUI(g.default)}onJiluClick(){c.default.ShowUI(p.default)}onBettingNum1Click(){this.onBettingNumClick(1)}onBettingNum2Click(){this.onBettingNumClick(2)}onBettingNum3Click(){this.onBettingNumClick(3)}onRoom1Click(){this.onRoomClick(1)}onRoom2Click(){this.onRoomClick(2)}onRoom3Click(){this.onRoomClick(3)}onRoom4Click(){this.onRoomClick(4)}onRoom5Click(){this.onRoomClick(5)}onRoom6Click(){this.onRoomClick(6)}onRoom7Click(){this.onRoomClick(7)}onRoom8Click(){this.onRoomClick(8)}dropCoins(t){var e=this.ui[`btn_room${t}`].position,i=[];for(let o=1;o<=8;o++)o!=t&&i.push(this.ui[`btn_room${o}`].position);for(let o=0;o<35;o++)this.scheduleOnce(()=>{let t=cc.instantiate(this.coinPrefab);t.setPosition(e),this.node.addChild(t),t.opacity=0,t.scale=0;let n=r.Utils.random(-65,65),a=r.Utils.random(80,120),s=r.Utils.random(-150,-100),l=i[Math.floor(o/5)].x,c=i[Math.floor(o/5)].y,h=cc.delayTime(.02*o),u=cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1).easing(cc.easeBackOut())),d=cc.moveBy(.5,cc.v2(n,a)).easing(cc.easeCircleActionOut()),p=cc.moveBy(.5,cc.v2(0,s)).easing(cc.easeQuadraticActionIn()),g=cc.repeatForever(cc.rotateBy(1,360)),_=cc.delayTime(1+35*.02-.02*o),f=cc.moveTo(.5,cc.v2(l,c)).easing(cc.easeQuadraticActionIn()),m=cc.removeSelf(),y=cc.sequence(h,u,d,p,_,f,m);t.runAction(y),t.runAction(g)},.02*o)}onClose(){c.default.CloseUI(o)}};b.prefabUrl="gameLayer",b.className="UIGameLayer",b.instance=null,n([v({type:cc.Prefab})],b.prototype,"baoxaingPrefab",void 0),n([v({type:cc.Prefab})],b.prototype,"playerPrefab",void 0),n([v({type:cc.Prefab})],b.prototype,"playerNamePrefab",void 0),n([v({type:cc.Prefab})],b.prototype,"coinPrefab",void 0),b=o=n([m,y("UI/prefab/UIGameLayer")],b),i.default=b,cc._RF.pop()},{"../../../data/autoui/prefab/auto_gameLayer":"auto_gameLayer","../../../framework/manager/AudioMng":"AudioMng","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/EventConst":"EventConst","../../../userData/GameDataCenter":"GameDataCenter","./../../../utils/Utils":"Utils","./UIBaoxiang":"UIBaoxiang","./UIChoseRoomLayer":"UIChoseRoomLayer","./UIJiluLayer":"UIJiluLayer","./UIRankLayer":"UIRankLayer","./UIWeihuLayer":"UIWeihuLayer"}],UIGame:[function(t,e,i){"use strict";cc._RF.push(e,"bfebaF+UXNHK77dPpBwcS0x","UIGame");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},r=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,r){function a(t){try{l(o.next(t))}catch(e){r(e)}}function s(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((o=o.apply(t,e||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../../GameController"),s=t("../../../data/autoui/scene/auto_game"),l=t("../../../framework/i18n/i18nMgr"),c=t("../../../framework/manager/AudioMng"),h=t("../../../framework/ui/UIBase"),u=t("../../../framework/ui/UIHelp"),d=t("../../../userData/ConfigModule"),p=t("../../../userData/GameDataCenter"),g=t("../../../utils/Utils"),_=t("../prefab/UIGameLayer"),{ccclass:f,menu:m,property:y}=cc._decorator;let v=o=class extends h.default{constructor(){super(...arguments),this.ui=null,this.baoxaingPrefab=null,this.gamePrefab=null,this.wanfaPrefab=null}onUILoad(){this.ui=this.node.addComponent(s.default),o.instance=this,a.default.init()}onShow(){console.log(navigator.language),p.default.accountModel.language=-1!==navigator.language.indexOf("zh")?"en":"zh",p.default.accountModel.language="en",l.i18nMgr.setLanguage(p.default.accountModel.language)}onHide(){}onStart(){return r(this,void 0,void 0,function*(){this.ui.content.addChild(cc.instantiate(this.gamePrefab)),this.ui.content.addChild(cc.instantiate(this.wanfaPrefab)),c.AudioMng.getInstance().initBgm(),d.ConfigModule.IS_TEST="test"==g.Utils.getQueryString("env"),g.Utils.getQueryString("channel_id"),g.Utils.getQueryString("channel_user_id"),g.Utils.getQueryString("sex"),g.Utils.getQueryString("nickname"),p.default.accountModel.token=g.Utils.getQueryString("token"),a.default.socket.connect()})}showStage3Ani(){this.ui.stage_3.getComponent(cc.Animation).play()}showStage5Ani(){1==p.default.roomInfoModel.resultType||2==p.default.roomInfoModel.resultType?c.AudioMng.getInstance().playSFX("beisha_canjiao"):c.AudioMng.getInstance().playSFX("duobi_chenggong"),_.default.instance.openAllDoors(),this.ui.stage_5.active=!0,this.ui.VM_result.active=!0;var t=p.default.roomInfoModel.resultType;console.log("\u6e38\u620f\u7ed3\u675f\u72b6\u6001\u7801",t),3!=t&&4!=t||(this.ui.caidai.active=!0,this.ui.caidai.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),this.ui.caidai.getComponent(sp.Skeleton).setCompleteListener(()=>{this.ui.caidai.active=!1})),this.scheduleOnce(()=>{this.ui.VM_result.active=!1,this.ui.stage_5.active=!1},8)}playShashouChuxian(){}onClose(){u.default.CloseUI(o)}};v.prefabUrl="",v.className="UIGame",v.instance=null,n([y({type:cc.Prefab})],v.prototype,"baoxaingPrefab",void 0),n([y(cc.Prefab)],v.prototype,"gamePrefab",void 0),n([y(cc.Prefab)],v.prototype,"wanfaPrefab",void 0),v=o=n([f,m("UI/scene/UIGame")],v),i.default=v,cc._RF.pop()},{"../../../GameController":"GameController","../../../data/autoui/scene/auto_game":"auto_game","../../../framework/i18n/i18nMgr":"i18nMgr","../../../framework/manager/AudioMng":"AudioMng","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/ConfigModule":"ConfigModule","../../../userData/GameDataCenter":"GameDataCenter","../../../utils/Utils":"Utils","../prefab/UIGameLayer":"UIGameLayer"}],UIHelp:[function(t,e,i){"use strict";cc._RF.push(e,"467a1yy5XNDaKO04we3LklU","UIHelp"),Object.defineProperty(i,"__esModule",{value:!0});const o=t("../manager/UIMng"),n=t("../const/ViewZorder"),r=t("../../logic/ui/comPop/UIComDialog"),a=t("../../logic/ui/comPop/UIComTips"),s=t("../i18n/i18nMgr"),l=t("../../utils/Log"),c=t("../../utils/Utils");class h{static SetLabel(t,...e){var i=e[0];if("number"==typeof i?i=i.toString():null==i&&(i=""),t.getComponent(cc.RichText)){let e=t.color.toHEX("#rrggbb");t.getComponent(cc.RichText).string=`<color=${e}>${i}</c>`}else if(t.getComponent("i18nLabel"))t.getComponent("i18nLabel").init(...e);else{var o=i.split("|");"zh"==s.i18nMgr.getlanguage()?t.getComponent(cc.Label).string=o[0]:t.getComponent(cc.Label).string=o[2]||o[0]}}static numToStr(t){var e,i=0,o=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"m"},{value:1e9,symbol:"b"},{value:1e12,symbol:"t"},{value:1e15,symbol:"aa"},{value:1e18,symbol:"ab"}];for(e=o.length-1;e>0&&!(t>=100*o[e].value);e--);var n=t/o[e].value;return n>1e4?i=0:n>1e3?i=1:n>100&&(i=2),n.toFixed(i).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+o[e].symbol}static numToStr2(t){var e,i=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"B"},{value:1e12,symbol:"T"},{value:1e15,symbol:"AA"},{value:1e18,symbol:"AB"}];for(e=i.length-1;e>0&&!(t>=.1*i[e].value);e--);return(t/i[e].value).toFixed(1).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+i[e].symbol}static fixedTo2(t){return String(t).replace(/([0-9]+.[0-9]{2})[0-9]*/,"$1")}static SetLabelColor(t,e){t.getComponent(cc.Label).node.color=e}static GetEditBoxStr(t){return t.getComponent(cc.EditBox).string}static SetProgressBar(t,e){if("number"!=typeof e)return l.Log.log("\u53c2\u6570\u9519\u8bef");t.getComponent(cc.ProgressBar).progress=e}static SetSpriteRange(t,e){if("number"!=typeof e)return l.Log.log("\u53c2\u6570\u9519\u8bef");t.getComponent(cc.Sprite).fillRange=e}static CreateSprite(t){var e=new cc.Node("myNode");return e.addComponent(cc.Sprite).spriteFrame=t,e}static SetSpriteFrame(t,e,i=""){if(e)if("string"==typeof e)e.indexOf("http")>=0?".png"==e.slice(e.length-4)?cc.loader.load(e,function(e,i){if(e)l.Log.log("\u52a0\u8f7d\u5934\u50cf\u5931\u8d25");else{var o=new cc.SpriteFrame(i);t.isValid&&(t.getComponent(cc.Sprite).spriteFrame=o)}}):cc.loader.load({url:e,type:"png"},function(e,i){if(e)l.Log.log("\u52a0\u8f7d\u5934\u50cf\u5931\u8d25");else{var o=new cc.SpriteFrame(i);t.isValid&&(t.getComponent(cc.Sprite).spriteFrame=o)}}):cc.resources.load(e,cc.Texture2D,(e,i)=>{var o=new cc.SpriteFrame(i);t.isValid&&(t.getComponent(cc.Sprite).spriteFrame=o)});else{let o=e.getSpriteFrame(i);t.isValid&&(t.getComponent(cc.Sprite).spriteFrame=o)}}static SetBtnGrayState(t,e){let i=t.getComponent(cc.Button);i&&(i.interactable=!e)}static IsBtnGray(t){let e=t.getComponent(cc.Button);return!!e&&!e.interactable}static ShowUI(t,e,...i){o.UIMng.getInstance().openUI(t,n.ViewZorder.UI,e,null,...i)}static ShowScene(t,e,...i){o.UIMng.getInstance().openUI(t,n.ViewZorder.Scene,e,null,...i)}static ShowMenu(t,e,...i){o.UIMng.getInstance().openUI(t,n.ViewZorder.MenuPanel,e,null,...i)}static ShowLoding(){}static CloseLoding(){}static CloseUI(t){o.UIMng.getInstance().closeUI(t)}static IsShowingUI(t){return o.UIMng.getInstance().isShowing(t)}static ShowTips(t,...e){let i=o.UIMng.getInstance().getUI(a.default);i?i.showTip(t):o.UIMng.getInstance().openUI(a.default,n.ViewZorder.Tips,()=>{h.ShowTips(t)})}static ShowDialog(t){o.UIMng.getInstance().openUI(r.default,n.ViewZorder.Dialog,null,null,t)}static localConvertWorldPointAR(t){return t?t.convertToWorldSpaceAR(cc.v2(0,0)):null}static worldConvertLocalPointAR(t,e){return t?t.convertToNodeSpaceAR(e):null}static convetOtherNodeSpaceAR(t,e){if(!t||!e)return null;let i=this.localConvertWorldPointAR(t);return this.worldConvertLocalPointAR(e,i)}static getTwoPointDistance(t,e){return t.sub(e).mag()}static addAni(t,e,i="animation",o=1){1==o?cc.loader.loadRes("spine/"+e,sp.SkeletonData,function(e,o){if(e)l.Log.error("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25");else{if(t.getComponent(sp.Skeleton))var n=t.getComponent(sp.Skeleton);else n=t.addComponent(sp.Skeleton);n.skeletonData=o,n.animation=i,n.enableBatch=!0}}):cc.loader.loadRes("spine/"+e,dragonBones.DragonBonesAsset,function(o,n){if(o)l.Log.error("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25");else{if(t.getComponent(dragonBones.ArmatureDisplay))var r=t.getComponent(dragonBones.ArmatureDisplay);else r=t.addComponent(dragonBones.ArmatureDisplay);r.dragonAsset=n,cc.loader.loadRes("spine/"+e.replace("_ske","_tex"),dragonBones.DragonBonesAtlasAsset,function(t,e){t?l.Log.error("\u8d44\u6e90\u52a0\u8f7d_tex\u5931\u8d25"):(r.dragonAtlasAsset=e,r.armatureName="Armature",r.playAnimation(i,0))})}})}static cutString(t,e,i=!0){if(2*t.length<=e)return t;for(var o=0,n="",r=0;r<t.length;r++)if(n+=t.charAt(r),t.charCodeAt(r)>128){if((o+=2)>=e)return i?n.substring(0,n.length-1)+"...":n.substring(0,n.length-1)+""}else if((o+=1)>=e)return i?n.substring(0,n.length-2)+"...":n.substring(0,n.length-2)+"";return n}static getRadomPos(t){var e=t.width,i=t.height,o=(t.x,t.y,t.x+e/2),n=t.x-e/2,r=t.y+i/2,a=t.y-i/2;return cc.v2(c.Utils.random(n,o),c.Utils.random(a,r))}}i.default=h,cc._RF.pop()},{"../../logic/ui/comPop/UIComDialog":"UIComDialog","../../logic/ui/comPop/UIComTips":"UIComTips","../../utils/Log":"Log","../../utils/Utils":"Utils","../const/ViewZorder":"ViewZorder","../i18n/i18nMgr":"i18nMgr","../manager/UIMng":"UIMng"}],UIJiluItem1:[function(t,e,i){"use strict";cc._RF.push(e,"38c06haa7ZPAKTwpTPT5i4Y","UIJiluItem1");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_jiluItem1"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),{ccclass:l,menu:c,property:h}=cc._decorator;let u=o=class extends a.default{constructor(){super(...arguments),this.ui=null}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){}onHide(){}onStart(){}show(t){console.log("\u83b7\u53d6\u5c55\u793a\u6570\u636e",t.data.list);for(let e of Object.values(t.data.list))s.default.SetLabel(this.ui[`lab_name_num_${e.room_id}`],e.room_killed_times)}hide(){}onClose(){s.default.CloseUI(o)}};u.prefabUrl="jiluItem1",u.className="UIJiluItem1",u.instance=null,u=o=n([l,c("UI/prefab/UIJiluItem1")],u),i.default=u,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluItem1":"auto_jiluItem1","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIJiluItem2:[function(t,e,i){"use strict";cc._RF.push(e,"fb44fRZjRpDUJe0hBybFEN4","UIJiluItem2");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_jiluItem2"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),l=t("../../../userData/GameDataCenter"),{ccclass:c,menu:h,property:u}=cc._decorator;let d=o=class extends a.default{constructor(){super(...arguments),this.ui=null,this.roomNameSprList=[],this.roomNameSprList_en=[]}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){}onHide(){}onStart(){}show(t){console.log("\u83b7\u53d6\u6570\u636etype2",t.data.list);for(let e=0;e<10;e++){let i=t.data.list[e],o=this.ui[`lab_qi_${e+1}`],n=this.ui[`room_name_${e+1}`];s.default.SetLabel(this.ui["room_name_Lab"+(e+1)],`${(null==i?void 0:i.room_name)||""}`),console.log("\u83b7\u53d6type2\u7684\u6bcf\u4e00\u4e2a\u623f\u95f4\u6570",i),i?(o.active=!0,n.active=!0,s.default.SetLabel(o,`${i.issue.slice(2)}`),"zh"==l.default.accountModel.language?n.getComponent(cc.Sprite).spriteFrame=this.roomNameSprList[Number(i.room_id)-1]:n.getComponent(cc.Sprite).spriteFrame=this.roomNameSprList_en[Number(i.room_id)-1]):(o.active=!1,n.active=!1)}}hide(){}onClose(){s.default.CloseUI(o)}};d.prefabUrl="jiluItem2",d.className="UIJiluItem2",d.instance=null,n([u({type:[cc.SpriteFrame]})],d.prototype,"roomNameSprList",void 0),n([u({type:[cc.SpriteFrame]})],d.prototype,"roomNameSprList_en",void 0),d=o=n([c,h("UI/prefab/UIJiluItem2")],d),i.default=d,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluItem2":"auto_jiluItem2","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter"}],UIJiluItem3:[function(t,e,i){"use strict";cc._RF.push(e,"6aac4MVzmBG76b+fgkL3gIP","UIJiluItem3");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_jiluItem3"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),l=t("../../../userData/GameDataCenter"),{ccclass:c,menu:h,property:u}=cc._decorator;let d=o=class extends a.default{constructor(){super(...arguments),this.ui=null}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){}onHide(){}onStart(){}show(t){var e=l.default.roomInfoModel.roomType;this.ui.coin_1_1.active=1==e,this.ui.coin_1_2.active=2==e,this.ui.coin_1_3.active=3==e,this.ui.coin_2_1.active=1==e,this.ui.coin_2_2.active=2==e,this.ui.coin_2_3.active=3==e,s.default.SetLabel(this.ui.lab_touru_num,t.data.betting_total),s.default.SetLabel(this.ui.lab_huode_num,t.data.result_total)}hide(){}onClose(){s.default.CloseUI(o)}};d.prefabUrl="jiluItem3",d.className="UIJiluItem3",d.instance=null,d=o=n([c,h("UI/prefab/UIJiluItem3")],d),i.default=d,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluItem3":"auto_jiluItem3","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter"}],UIJiluItem4:[function(t,e,i){"use strict";cc._RF.push(e,"5fbd58N2+pEyr+W921djk+I","UIJiluItem4");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_jiluItem4"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),l=t("../../../userData/GameDataCenter"),c=t("../../../userData/RoomInfoModel"),{ccclass:h,menu:u,property:d}=cc._decorator;let p=o=class extends a.default{constructor(){super(...arguments),this.ui=null}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){}onHide(){}onStart(){}show(t){console.log("\u8bb0\u5f554 - \u5c55\u793a\u6570\u636e",t);var e=t.data.user,i=e.killed_room_id!==e.room_id;"zh"==l.default.accountModel.language?(s.default.SetLabel(this.ui.lab_qi,`\u7b2c${e.issue}\u671f  ${e.created_at_string}`),s.default.SetLabel(this.ui.lab_choose_room,`\u300c${c.ROAD_NAME[e.room_id]}\u300d`),s.default.SetLabel(this.ui.lba_kill_room,`\u300c${c.ROAD_NAME[e.killed_room_id]}\u300d`),s.default.SetLabel(this.ui.lab_touru_num,e.amount),s.default.SetLabel(this.ui.lab_huode_num,e.win_amount),s.default.SetLabel(this.ui.lab_touru_name,"\u6295\u5165"),s.default.SetLabel(this.ui.lab_huode_name,i?"\u7372\u5f97":"\u640d\u5931")):"en"==l.default.accountModel.language?(s.default.SetLabel(this.ui.lab_qi,`Issue ${e.issue}  ${e.created_at_string}`),s.default.SetLabel(this.ui.lab_choose_room,`\u300c${c.ROAD_NAME_EN[e.room_id]}\u300d`),s.default.SetLabel(this.ui.lba_kill_room,`\u300c${c.ROAD_NAME_EN[e.killed_room_id]}\u300d`),s.default.SetLabel(this.ui.lab_touru_num,e.amount),s.default.SetLabel(this.ui.lab_huode_num,e.win_amount),s.default.SetLabel(this.ui.lab_touru_name,"Investment"),s.default.SetLabel(this.ui.lab_huode_name,i?"Get":"Loss")):"ko"==l.default.accountModel.language?(s.default.SetLabel(this.ui.lab_qi,`\ud68c\ucc28 ${e.issue}  ${e.created_at_string}`),s.default.SetLabel(this.ui.lab_choose_room,`\u300c${c.ROAD_NAME_KR[e.room_id]}\u300d`),s.default.SetLabel(this.ui.lba_kill_room,`\u300c${c.ROAD_NAME_KR[e.killed_room_id]}\u300d`),s.default.SetLabel(this.ui.lab_touru_num,e.amount),s.default.SetLabel(this.ui.lab_huode_num,e.win_amount),s.default.SetLabel(this.ui.lab_touru_name,"\ud22c\uc790"),s.default.SetLabel(this.ui.lab_huode_name,i?"\ud68d\ub4dd":"\uc190\uc2e4")):(s.default.SetLabel(this.ui.lab_qi,`\u7b2c${e.issue}\u671f  ${e.created_at_string}`),s.default.SetLabel(this.ui.lab_choose_room,`\u300c${c.ROAD_NAME_JP[e.room_id]}\u300d`),s.default.SetLabel(this.ui.lba_kill_room,`\u300c${c.ROAD_NAME_JP[e.killed_room_id]}\u300d`),s.default.SetLabel(this.ui.lab_touru_num,e.amount),s.default.SetLabel(this.ui.lab_huode_num,e.win_amount),s.default.SetLabel(this.ui.lab_touru_name,"\u6295\u8cc7"),s.default.SetLabel(this.ui.lab_huode_name,i?"\u7372\u5f97":"\u640d\u5931")),this.ui.lab_win.active=!!i,this.ui.lab_lose.active=!i}hide(){}onClose(){s.default.CloseUI(o)}};p.prefabUrl="jiluItem4",p.className="UIJiluItem4",p.instance=null,p=o=n([h,u("UI/prefab/UIJiluItem4")],p),i.default=p,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluItem4":"auto_jiluItem4","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter","../../../userData/RoomInfoModel":"RoomInfoModel"}],UIJiluItem5:[function(t,e,i){"use strict";cc._RF.push(e,"d927302/V1NjJiw9XHrR6DZ","UIJiluItem5");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_jiluItem5"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),{ccclass:l,menu:c,property:h}=cc._decorator;let u=o=class extends a.default{constructor(){super(...arguments),this.ui=null}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){}onHide(){}onStart(){}show(t){}hide(){}onClose(){s.default.CloseUI(o)}};u.prefabUrl="jiluItem5",u.className="UIJiluItem5",u.instance=null,u=o=n([l,c("UI/prefab/UIJiluItem5")],u),i.default=u,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluItem5":"auto_jiluItem5","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIJiluLayer:[function(t,e,i){"use strict";cc._RF.push(e,"13917If7fpNl5++gVEKI3xH","UIJiluLayer");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_jiluLayer"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),{ccclass:l,menu:c,property:h}=cc._decorator;let u=o=class extends a.default{constructor(){super(...arguments),this.ui=null}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){this.onRegisterEvent(this.ui.btn_back,this.onClose)}onHide(){}onStart(){}onClose(){s.default.CloseUI(o)}};u.prefabUrl="jiluLayer",u.className="UIJiluLayer",u.instance=null,u=o=n([l,c("UI/prefab/UIJiluLayer")],u),i.default=u,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluLayer":"auto_jiluLayer","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIKiller:[function(t,e,i){"use strict";cc._RF.push(e,"87150hsnDVAobcJbm9xgim5","UIKiller");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_killer"),a=t("../../../framework/manager/AudioMng"),s=t("../../../framework/ui/UIBase"),l=t("../../../framework/ui/UIHelp"),c=t("../../../userData/GameDataCenter"),h=t("../../../userData/PlayerModel"),u=t("./UIGameLayer"),{ccclass:d,menu:p,property:g}=cc._decorator;let _=o=class extends s.default{constructor(){super(...arguments),this.ui=null,this.speed=200,this.speed1=200,this.speed2=700,this.killing=!1,this.roadList=[],this.killRoomId=0}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){}onHide(){}onStart(){}resetUI(){this.unscheduleAllCallbacks(),this.node.stopAllActions(),this.node.setPosition(u.default.instance.ui.pos12.position)}kill(t){this.killRoomId=t,this.killing=!0,this.speed=this.speed1,this.roadList=[];var e=h.KILLER_ROADS[t],i=u.default.instance.ui[`pos${e[0]}`].position,o=u.default.instance.ui[`pos${e[1]}`].position,n=u.default.instance.ui[`pos${e[2]}`].position,r=u.default.instance.ui[`pos${e[3]}`].position,a=u.default.instance.ui[`pos${e[4]}`].position,s=o.sub(n).mag(),l=n.sub(r).mag(),c=r.sub(a).mag(),d=(s+l+c)/5,p={t:0,p:i},g={t:2,p:o},_={t:s/d,p:n},f={t:l/d,p:r},m={t:c/d,p:a},y={t:2,p:u.default.instance.ui[`kill_${t}`].position};this.roadList=[p,g,_,f,m,y];var v=[].concat(this.roadList);this.move(v,!1)}moveBack(){this.killing=!1,this.speed=this.speed2,this.roadList.reverse();var t=[].concat(this.roadList);this.move(t,!0)}move(t,e){if(t.length<=0)return this.killing&&(this.ui.sp_killer.getComponent(sp.Skeleton).animation="attack",a.AudioMng.getInstance().playSFX("kan"),this.scheduleOnce(()=>{a.AudioMng.getInstance().playSFX("jianshe")},.4),this.scheduleOnce(()=>{c.default.accountModel.players.forEach(t=>{t.roomId==this.killRoomId&&t.destroy()}),this.ui.sp_killer.getComponent(sp.Skeleton).animation="walk",this.moveBack(),u.default.instance.dropCoins(this.killRoomId)},2)),void console.warn("\u6740\u624b\u62b5\u8fbe\u623f\u95f4");this.ui.sp_killer.scaleX=this.node.x>t[0].p.x?1:-1;var i=this.getDistance(this.node.position,t[0].p),o=e?i/this.speed:t[0].t;1!=t.length||e||u.default.instance.openDoor(this.killRoomId),cc.tween(this.node).to(o,{position:t[0].p}).call(()=>{t.splice(0,1),this.move(t,e)}).start()}getDistance(t,e){var i=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(i.x*i.x+i.y*i.y)}onClose(){l.default.CloseUI(o)}};_.prefabUrl="killer",_.className="UIKiller",_.instance=null,_=o=n([d,p("UI/prefab/UIKiller")],_),i.default=_,cc._RF.pop()},{"../../../data/autoui/prefab/auto_killer":"auto_killer","../../../framework/manager/AudioMng":"AudioMng","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter","../../../userData/PlayerModel":"PlayerModel","./UIGameLayer":"UIGameLayer"}],UIMng:[function(t,e,i){"use strict";cc._RF.push(e,"e918fwD51RJU7xSP3EIlvPz","UIMng"),Object.defineProperty(i,"__esModule",{value:!0}),i.UIMng=void 0;const o=t("../const/ViewZorder"),n=t("../../utils/Log"),r=t("../../logic/ui/comPop/UIComTips");class a{constructor(){this.uiList=[],this.comTips=null}static getInstance(){return null==this.instance&&(this.instance=new a),this.instance}openUI(t,e=o.ViewZorder.UI,i,a,...s){this.getUI(t)?n.Log.error(`UIMng OpenUI 1: ui ${t.getName()} is already exist, please check`):cc.loader.loadRes(t.getUrl(),(t,e,i)=>{a&&a(t,e,i)},(a,l)=>{if(a)return void n.Log.error(`UIMng OpenUI: load ui error: ${a}`);if(this.getUI(t))return void n.Log.error(`UIMng OpenUI 2: ui ${t.getName()} is already exist, please check`);let c=cc.instantiate(l),h=c.getComponent(t);if(!h)return void n.Log.error(`${t.getUrl()}\u6ca1\u6709\u7ed1\u5b9aUI\u811a\u672c!!!`);h.init(s);let u=cc.director.getScene();u?(c.parent=u,c.zIndex=e,e==o.ViewZorder.UI&&this.hideAllUI(),c.getComponent(r.default)?this.comTips=h:this.uiList.push(h),h.tags=t,i&&i(h)):n.Log.error(`\u5f53\u524d\u573a\u666f${cc.director.getScene().name}Canvas!!!`)})}clearDependsRes(t){cc.loader.getDependsRecursively(t).forEach(()=>{})}closeUI(t){for(let i=0;i<this.uiList.length;++i)if(this.uiList[i].tags===t){var e=this.uiList[i].node.zIndex==o.ViewZorder.UI;return cc.isValid(this.uiList[i].node)&&(this.uiList[i].node.destroy(),this.clearDependsRes(t.getUrl())),this.uiList.splice(i,1),void(e&&this.uiList.length&&this.uiList[this.uiList.length-1].node.zIndex==o.ViewZorder.UI&&(this.uiList[this.uiList.length-1].node.active=!0))}}closeAllUI(){if(0!=this.uiList.length)for(this.closeUI(this.uiList[0].tags);this.uiList.length>0;)this.closeUI(this.uiList[0].tags)}hideAllUI(){if(0!=this.uiList.length)for(let t=0;t<this.uiList.length;++t)cc.isValid(this.uiList[t].node)&&this.uiList[t].node.zIndex==o.ViewZorder.UI&&(this.uiList[t].node.active=!1)}showUI(t,e){let i=this.getUI(t);i?i.node.active=!0:n.Log.error(`UIMng showUI: ui ${t.getName()} not exist`)}hideUI(t){let e=this.getUI(t);e&&(e.node.active=!1)}getUI(t){var e,i;if("UIComTips"==t.getName()&&(null===(i=null===(e=this.comTips)||void 0===e?void 0:e.node)||void 0===i?void 0:i.parent))return this.comTips;for(let o=0;o<this.uiList.length;++o)if(this.uiList[o].tags===t)return this.uiList[o];return null}isShowing(t){let e=this.getUI(t);return!!e&&e.node.active}}i.UIMng=a,cc._RF.pop()},{"../../logic/ui/comPop/UIComTips":"UIComTips","../../utils/Log":"Log","../const/ViewZorder":"ViewZorder"}],UIPlayerName:[function(t,e,i){"use strict";cc._RF.push(e,"dd9dfqmYr9HX76gC7gQoDq8","UIPlayerName");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_playerName"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),l=t("../../../userData/GameDataCenter"),{ccclass:c,menu:h,property:u}=cc._decorator;let d=o=class extends a.default{constructor(){super(...arguments),this.ui=null,this.speed=200,this.speed1=200,this.speed2=300}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){}onHide(){}onStart(){}setName(t){this.ui.label_name_bg.active=t==("zh"==l.default.accountModel.language?"\u81ea\u5df1":"Me"),this.ui.lan_name.active=t!=("zh"==l.default.accountModel.language?"\u81ea\u5df1":"Me"),"\u81ea\u5df1"==t||"Me"==t?s.default.SetLabel(this.ui.lan_name1,t):s.default.SetLabel(this.ui.lan_name,t)}flashToRoomById(t){this.node.stopAllActions(),this.node.setPosition(t)}move(t,e){if(!(t.length<=0)){this.speed=e?this.speed2:this.speed1;var i=this.getDistance(this.node.position,t[0])/this.speed;cc.tween(this.node).to(i,{position:t[0]}).call(()=>{t.splice(0,1),this.move(t,e)}).start()}}getDistance(t,e){var i=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(i.x*i.x+i.y*i.y)}onClose(){s.default.CloseUI(o)}};d.prefabUrl="playerName",d.className="UIPlayerName",d.instance=null,d=o=n([c,h("UI/prefab/UIPlayerName")],d),i.default=d,cc._RF.pop()},{"../../../data/autoui/prefab/auto_playerName":"auto_playerName","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter"}],UIPlayer:[function(t,e,i){"use strict";cc._RF.push(e,"a12d7VM4XBJ47RShtdB+ttX","UIPlayer");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_player"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),{ccclass:l,menu:c,property:h}=cc._decorator;let u=o=class extends a.default{constructor(){super(...arguments),this.ui=null,this.playerAtlas=null,this.playerSkeletonDatas=[],this.playerSkeletonData=null,this.isMoving=!1,this.speed=200,this.speed1=200,this.speed2=300,this.bettingCoin=0}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){this.bettingCoin=0}onHide(){}onStart(){}initAni(t){this.animation=this.ui.img_cat.getComponent(cc.Animation),this.playerSkeletonData.skeletonData=-1==t?this.playerSkeletonDatas[0]:1==t?this.playerSkeletonDatas[1]:2==t?this.playerSkeletonDatas[2]:3==t?this.playerSkeletonDatas[3]:this.playerSkeletonDatas[4],this.playWait()}creatorAnimation(t,e,i,o=cc.WrapMode.Loop){let n=[];for(let a=0;a<=e;a++){let e=this.playerAtlas.getSpriteFrame(`${t}_${a}`);e&&n.push(e)}let r=cc.AnimationClip.createWithSpriteFrames(n,n.length);r.wrapMode=o,r.name=i,this.animation.addClip(r)}showBetting(t){this.bettingCoin=t,this.isMoving||(this.ui.img_bubble.active=t>0,s.default.SetLabel(this.ui.lab_coin,t))}hideBetting(){this.ui.img_bubble.active=!1}playWalk(){this.isMoving=!0,this.playerSkeletonData.setAnimation(0,"walk",!0),this.hideBetting()}playWait(){this.isMoving=!1,this.playerSkeletonData.clearTrack(0),this.showBetting(this.bettingCoin)}flashToRoomById(t){this.node.stopAllActions(),this.node.setPosition(t)}move(t,e,i){if(t.length<=0)return e&&(this.bettingCoin=0),this.playWait(),void i();this.speed=e?this.speed2:this.speed1,this.ui.img_cat.scaleX=this.node.x>t[0].x?1:-1;var o=this.getDistance(this.node.position,t[0])/this.speed;cc.tween(this.node).to(o,{position:t[0]}).call(()=>{t.splice(0,1),this.move(t,e,i)}).start()}getDistance(t,e){var i=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(i.x*i.x+i.y*i.y)}onClose(){s.default.CloseUI(o)}};u.prefabUrl="player",u.className="UIPlayer",u.instance=null,n([h({type:cc.SpriteAtlas})],u.prototype,"playerAtlas",void 0),n([h(sp.SkeletonData)],u.prototype,"playerSkeletonDatas",void 0),n([h(sp.Skeleton)],u.prototype,"playerSkeletonData",void 0),u=o=n([l,c("UI/prefab/UIPlayer")],u),i.default=u,cc._RF.pop()},{"../../../data/autoui/prefab/auto_player":"auto_player","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIRankLayer:[function(t,e,i){"use strict";cc._RF.push(e,"557cfL2FF1OFK1klCNzb0+U","UIRankLayer");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_rankLayer"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),l=t("../../../userData/GameDataCenter"),{ccclass:c,menu:h,property:u}=cc._decorator;let d=o=class extends a.default{constructor(){super(...arguments),this.ui=null}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){this.onRegisterEvent(this.ui.btn_back,this.onClose)}onHide(){}onStart(){s.default.SetLabel(this.ui.lab_my_name,"zh"==l.default.accountModel.language?"\u81ea\u5df1":"Me")}onClose(){s.default.CloseUI(o)}};d.prefabUrl="rankLayer",d.className="UIRankLayer",d.instance=null,d=o=n([c,h("UI/prefab/UIRankLayer")],d),i.default=d,cc._RF.pop()},{"../../../data/autoui/prefab/auto_rankLayer":"auto_rankLayer","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter"}],UIWeihuLayer:[function(t,e,i){"use strict";cc._RF.push(e,"64319liu3pNlpqPNOPbN8YF","UIWeihuLayer");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../../../data/autoui/prefab/auto_weihuLayer"),a=t("../../../framework/ui/UIBase"),s=t("../../../framework/ui/UIHelp"),{ccclass:l,menu:c,property:h}=cc._decorator;let u=o=class extends a.default{constructor(){super(...arguments),this.ui=null}onUILoad(){this.ui=this.node.addComponent(r.default),o.instance=this}onShow(){}onHide(){}onStart(){}onClose(){s.default.CloseUI(o)}};u.prefabUrl="weihuLayer",u.className="UIWeihuLayer",u.instance=null,u=o=n([l,c("UI/prefab/UIWeihuLayer")],u),i.default=u,cc._RF.pop()},{"../../../data/autoui/prefab/auto_weihuLayer":"auto_weihuLayer","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],Utils:[function(t,e,i){"use strict";cc._RF.push(e,"3a189lpovFO2KG6CYdoMgBS","Utils");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=void 0;const r=t("./Log"),{ccclass:a,property:s}=cc._decorator;let l=o=class{static getQueryString(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null}static getFormateDate(t,e){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[o]:("00"+i[o]).substr((""+i[o]).length)));return e}static cloneObj(t){var e=JSON.stringify(t);return JSON.parse(e)}static getCookie(t){for(var e=document.cookie.split("; "),i=0;i<e.length;i++){var o=e[i].split("=");if(t==o[0])return o[1]}return""}static delCookie(t){var e=new Date;e.setTime(e.getTime()-1);var i=o.getCookie(t);r.Log.log("____\u5220\u9664cookie:",i),null!=i&&(document.cookie=t+"="+i+";expires="+e.toUTCString())}static random(t,e){var i=e-t-1,o=Math.random()*i;return Math.round(o)+t}postOpenWindow(t,e){var i=document.createElement("form");for(var o in i.action=t,i.target="_blank",i.method="post",i.style.display="none",e){var n=document.createElement("textarea");n.name=o,n.value=e[o],i.appendChild(n)}document.body.appendChild(i),i.submit()}};l=o=n([a],l),i.Utils=l,cc._RF.pop()},{"./Log":"Log"}],VMAvatar:[function(t,e,i){"use strict";cc._RF.push(e,"ffbf8qgCoVGKqZz0fPRHGUY","VMAvatar");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("./VMBase"),r=t("../ui/UIHelp"),a=t("../../utils/Log"),{ccclass:s,property:l,menu:c,executeInEditMode:h,help:u}=cc._decorator;var d;(function(t){t[t.URL=0]="URL",t[t.LOCAL=1]="LOCAL"})(d||(d={}));let p=class extends n.default{constructor(){super(...arguments),this.watchPath="",this.avatarTpye=d.URL,this.dAtlas=null}onLoad(){super.onLoad()}start(){this.onValueInit()}onValueInit(){a.Log.log("avatar onValueInit"),this.setSpriteImage(this.VM.getValue(this.watchPath))}onValueChanged(t,e,i){this.setSpriteImage(t)}setSpriteImage(t){this.avatarTpye==d.LOCAL?this.dAtlas?r.default.SetSpriteFrame(this.node,this.dAtlas,t):a.Log.error("\u6ca1\u6709\u7ed1\u5b9a\u5934\u50cf\u56fe\u96c6"):r.default.SetSpriteFrame(this.node,t)}};o([l()],p.prototype,"watchPath",void 0),o([l({type:cc.Enum(d),tooltip:"\u7f51\u7edcor\u672c\u5730"})],p.prototype,"avatarTpye",void 0),o([l({type:cc.SpriteAtlas,tooltip:"\u672c\u5730\u56fe\u7247\u56fe\u96c6",visible:function(){return this.avatarTpye==d.LOCAL}})],p.prototype,"dAtlas",void 0),p=o([s,h,c("ModelViewer/VM-Avatar(\u7f51\u7edcor\u672c\u5730\u5934\u50cf)")],p),i.default=p,cc._RF.pop()},{"../../utils/Log":"Log","../ui/UIHelp":"UIHelp","./VMBase":"VMBase"}],VMBase:[function(t,e,i){"use strict";cc._RF.push(e,"7ef7ffc0XFGGKF3n5dKmbem","VMBase");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("./ViewModel"),{ccclass:r,property:a}=cc._decorator;let s=class extends cc.Component{constructor(){super(...arguments),this.watchPath="",this.watchPathArr=[],this.templateMode=!1,this.templateValueArr=[],this.VM=n.VM}onLoad(){let t=this.watchPath.split(".");for(let i=1;i<t.length;i++)if("*"==t[i]){let e=this.node.getParent().children.findIndex(t=>t===this.node);e<=0&&(e=0),t[i]=e.toString();break}this.watchPath=t.join(".");let e=this.watchPathArr;if(e.length>=1)for(let i=0;i<e.length;i++){let t=e[i].split(".");for(let e=1;e<t.length;e++)if("*"==t[e]){let i=this.node.getParent().children.findIndex(t=>t===this.node);i<=0&&(i=0),t[e]=i.toString();break}this.watchPathArr[i]=t.join(".")}""==this.watchPath&&""==this.watchPathArr.join("")&&cc.log("\u53ef\u80fd\u672a\u8bbe\u7f6e\u8def\u5f84\u7684\u8282\u70b9:",this.node.getParent().name+"."+this.node.name)}onEnable(){this.templateMode?this.setMultPathEvent(!0):""!=this.watchPath&&this.VM.bindPath(this.watchPath,this.onValueChanged,this),this.onValueInit()}onDisable(){this.templateMode?this.setMultPathEvent(!1):""!=this.watchPath&&this.VM.unbindPath(this.watchPath,this.onValueChanged,this)}setMultPathEvent(t=!0){let e=this.watchPathArr;for(let i=0;i<e.length;i++){const o=e[i];t?this.VM.bindPath(o,this.onValueChanged,this):this.VM.unbindPath(o,this.onValueChanged,this)}}onValueInit(){}onValueChanged(t,e,i){}};s=o([r],s),i.default=s,cc._RF.pop()},{"./ViewModel":"ViewModel"}],VMCamera:[function(t,e,i){"use strict";cc._RF.push(e,"34837AxZGtD0oI7oXPq37iv","VMCamera");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},n=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,r){function a(t){try{l(o.next(t))}catch(e){r(e)}}function s(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((o=o.apply(t,e||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0}),i.XxsType=i.CameraType=void 0;const r=t("../ui/UIBase"),a=t("../ui/UIHelp"),{ccclass:s,menu:l,property:c}=cc._decorator;var h,u;(function(t){t[t.PHOTO=0]="PHOTO",t[t.CAMERE=1]="CAMERE",t[t.All=2]="All"})(h=i.CameraType||(i.CameraType={})),function(t){t[t.OSS=1]="OSS",t[t.OBS=2]="OBS",t[t.AWS=3]="AWS"}(u=i.XxsType||(i.XxsType={}));let d=class extends r.default{constructor(){super(...arguments),this.spr=null,this.cameraType=h.PHOTO,this.btnPhoto=null,this.btnCamera=null,this.maxMb=5,this.xxs=u.OSS,this.accessKeyId="",this.accessKeySecret="",this.region=this.xxs==u.OSS?"oss-cn-beijing":"s3.amazonaws.com",this.endpoint="obs.cn-north-4.myhuaweicloud.com",this.bucket="",this.dir="",this.realmName="",this.successEvents=[]}onShow(){this.btnPhoto&&this.onRegisterEvent(this.btnPhoto,this.photoClick),this.btnCamera&&this.onRegisterEvent(this.btnCamera,this.cameraClick)}onHide(){}onStart(){}photoClick(){this.openFile(1)}cameraClick(){this.openFile(2)}openFile(t){if(1==t)var e=document.getElementById("OpenTextFile");else e=document.getElementById("OpenImageFile");null!=e&&(e.onchange=function(t){let e=t.target.files;if(e&&e.length>0)try{this.uploading(e[0])}catch(i){return alert("\u6587\u4ef6\u8bfb\u53d6\u5931\u8d25\uff0c\u8bf7\u518d\u8bd5\u4e00\u6b21"),void this.canRepeatUpload()}}.bind(this),e.click())}canRepeatUpload(){let t=document.getElementById("OpenImageFile");null!=t?(t.outerHTML&&(t.outerHTML=t.outerHTML),t.value&&(t.value=null)):cc.log("\u4e0a\u4f20\u5931\u8d25")}readFileAsBuffer(t){return new FileReader,new Promise(function(t){t("")}.bind(this))}uploading(t){return n(this,void 0,void 0,function*(){let e=t.type;return"image/gif"==e||e.indexOf("image")<0?(a.default.ShowTips("\u53ea\u5141\u8bb8\u4e0a\u4f20\u56fe\u7247\u6587\u4ef6\uff01"),void this.canRepeatUpload()):t.size>1048576*this.maxMb?(a.default.ShowTips(`\u56fe\u7247\u8fc7\u5927\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9${this.maxMb}MB\u4ee5\u5185\u7684\u56fe\u7247`),void this.canRepeatUpload()):void(this.xxs===u.OSS?this.updateOSS(t):this.xxs===u.OBS||this.xxs===u.AWS&&this.updateAWS(t))})}updateOSS(t){return n(this,void 0,void 0,function*(){})}updateAWS(t){return n(this,void 0,void 0,function*(){})}};d.className="VM-Camera",o([c({type:cc.Sprite,displayName:"\u9700\u8981\u6e32\u67d3\u7684\u8282\u70b9"})],d.prototype,"spr",void 0),o([c({type:cc.Enum(h),displayName:"\u76f8\u518cor\u62cd\u7167or\u6240\u6709"})],d.prototype,"cameraType",void 0),o([c({type:cc.Node,displayName:"\u76f8\u518c\u6309\u94ae",visible:function(){return this.cameraType===h.PHOTO||this.cameraType===h.All}})],d.prototype,"btnPhoto",void 0),o([c({type:cc.Node,displayName:"\u62cd\u7167\u6309\u94ae",visible:function(){return this.cameraType===h.CAMERE||this.cameraType===h.All}})],d.prototype,"btnCamera",void 0),o([c({type:cc.Integer,displayName:"\u56fe\u7247\u6700\u5927MB"})],d.prototype,"maxMb",void 0),o([c({type:cc.Enum(u),displayName:"\u4e91\u670d\u52a1\u5668"})],d.prototype,"xxs",void 0),o([c()],d.prototype,"accessKeyId",void 0),o([c()],d.prototype,"accessKeySecret",void 0),o([c({tooltip:"\u963f\u91cc\u4e91region",visible:function(){return this.xxs===u.OSS||this.xxs===u.AWS}})],d.prototype,"region",void 0),o([c({tooltip:"\u534e\u4e3a\u4e91endpoint",visible:function(){return this.xxs===u.OBS}})],d.prototype,"endpoint",void 0),o([c()],d.prototype,"bucket",void 0),o([c({displayName:"bucket\u4e0b\u6587\u4ef6\u5939\u540d\u5b57"})],d.prototype,"dir",void 0),o([c({displayName:"\u57df\u540d"})],d.prototype,"realmName",void 0),o([c({type:[cc.Component.EventHandler],tooltip:"\u4e0a\u4f20\u6210\u529f\u540e\uff0c\u901a\u77e5\u9875\u9762\u628aurl\u53d1\u9001\u7ed9\u670d\u52a1\u7aef"})],d.prototype,"successEvents",void 0),d=o([s,l("ModelViewer/VM-Camera(\u62c9\u53d6\u624b\u673a\u76f8\u518c\u6216\u62cd\u7167)")],d),i.default=d,cc._RF.pop()},{"../ui/UIBase":"UIBase","../ui/UIHelp":"UIHelp"}],VMCompsEdit:[function(t,e,i){"use strict";cc._RF.push(e,"6b848/TkdZDtbmqUinm3ZWl","VMCompsEdit");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../../utils/Log"),{ccclass:r,property:a,executeInEditMode:s,menu:l,help:c}=cc._decorator;var h;(function(t){t[t.SEARCH_COMPONENT=0]="SEARCH_COMPONENT",t[t.ENABLE_COMPONENT=1]="ENABLE_COMPONENT",t[t.REPLACE_WATCH_PATH=2]="REPLACE_WATCH_PATH",t[t.DELETE_COMPONENT=3]="DELETE_COMPONENT"})(h||(h={}));let u=class extends cc.Component{constructor(){super(...arguments),this.findList=["VMBase","VMParent"],this.actionType=h.SEARCH_COMPONENT,this.allowDelete=!1,this.targetPath="game",this.replacePath="*",this.canCollectNodes=!1,this.collectNodes=[]}get findTrigger(){return!1}set findTrigger(t){this.setComponents(0)}get enableTrigger(){return!1}set enableTrigger(t){this.setComponents(1)}get disableTrigger(){return!1}set disableTrigger(t){this.setComponents(2)}get deleteTrigger(){return!1}set deleteTrigger(t){this.setComponents(3)}get replaceTrigger(){return!1}set replaceTrigger(t){this.setComponents(4)}onLoad(){{let t=this.getNodePath(this.node);n.Log.error("you forget delete MVEditFinder,[path]",t)}}setComponents(t){let e=this.findList,i="\u641c\u7d22\u5230\u5f53\u524d\u8282\u70b9\u4e0b\u9762\u7684\u7ec4\u4ef6";switch(t){case 0:i="\u641c\u7d22\u5230\u5f53\u524d\u8282\u70b9\u4e0b\u9762\u7684\u7ec4\u4ef6";break;case 1:i="\u6fc0\u6d3b\u4ee5\u4e0b\u8282\u70b9\u7684\u7ec4\u4ef6";break;case 2:i="\u5173\u95ed\u4ee5\u4e0b\u8282\u70b9\u7684\u7ec4\u4ef6";break;case 3:i="\u5220\u9664\u4ee5\u4e0b\u8282\u70b9\u7684\u7ec4\u4ef6";break;case 4:i="\u66ff\u6362\u4ee5\u4e0b\u8282\u70b9\u7684\u8def\u5f84"}cc.log(i),cc.log("______________________"),e.forEach(e=>{this.searchComponent(e,t)}),cc.log("______________________")}searchComponent(t,e=0){this.collectNodes=[];let i=this.node.getComponentsInChildren(t);null==i||i.length<1||(cc.log("["+t+"]:"),i.forEach(t=>{let i="";switch(e<=3&&(i=!0===t.templateMode?t.watchPathArr?":[Path:"+t.watchPathArr.join("|")+"]":"":t.watchPath?":[Path:"+t.watchPath+"]":""),cc.log(this.getNodePath(t.node)+i),e){case 0:this.canCollectNodes&&-1===this.collectNodes.indexOf(t.node)&&this.collectNodes.push(t.node);break;case 1:t.enabled=!0;break;case 2:t.enabled=!1;break;case 3:t.node.removeComponent(t);break;case 4:let o=this.targetPath,n=this.replacePath;if(!0===t.templateMode)for(let e=0;e<t.watchPathArr.length;e++){const i=t.watchPathArr[e];t.watchPathArr[e]=this.replaceNodePath(i,o,n)}else t.watchPath=this.replaceNodePath(t.watchPath,o,n)}}))}replaceNodePath(t,e,i){let o=t.split("."),n=e.split("."),r=i.split("."),a=!0;for(let s=0;s<n.length;s++)if(o[s]!==n[s]){a=!1;break}if(!0===a){for(let t=0;t<r.length;t++)o[t]=r[t];cc.log(" \u8def\u5f84\u66f4\u65b0:",t,">>>",o.join("."))}return o.join(".")}getNodePath(t){let e=t,i=[];for(;e;){let t=e.getParent();if(!t)break;i.push(e.name),e=t}return i.reverse().join("/")}};o([a({type:[cc.String]})],u.prototype,"findList",void 0),o([a({type:cc.Enum(h)})],u.prototype,"actionType",void 0),o([a({tooltip:"\u52fe\u9009\u540e,\u4f1a\u81ea\u52a8\u67e5\u627e find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",visible:function(){return this.actionType===h.SEARCH_COMPONENT}})],u.prototype,"findTrigger",null),o([a({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u6fc0\u6d3b find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",visible:function(){return this.actionType===h.ENABLE_COMPONENT}})],u.prototype,"enableTrigger",null),o([a({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u5173\u95ed find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",visible:function(){return this.actionType===h.ENABLE_COMPONENT}})],u.prototype,"disableTrigger",null),o([a({tooltip:"\u5141\u8bb8\u5220\u9664\u8282\u70b9\u7684\u7ec4\u4ef6,\u786e\u5b9a\u9700\u8981\u79fb\u9664\u8bf7\u52fe\u9009,\u9632\u6b62\u8bef\u64cd\u4f5c",visible:function(){return this.actionType===h.DELETE_COMPONENT}})],u.prototype,"allowDelete",void 0),o([a({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u5220\u9664 find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",displayName:"[ X DELETE X ]",visible:function(){return this.allowDelete&&this.actionType===h.DELETE_COMPONENT}})],u.prototype,"deleteTrigger",null),o([a({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u66ff\u6362\u6389\u6307\u5b9a\u7684\u8def\u5f84",visible:function(){return this.actionType===h.REPLACE_WATCH_PATH}})],u.prototype,"replaceTrigger",null),o([a({tooltip:"\u5339\u914d\u7684\u8def\u5f84,\u5339\u914d\u89c4\u5219: \u641c\u7d22\u5f00\u5934\u4e3a game\u7684\u8def\u5f84",visible:function(){return this.actionType===h.REPLACE_WATCH_PATH}})],u.prototype,"targetPath",void 0),o([a({tooltip:"\u66ff\u6362\u7684\u8def\u5f84,\u5c06\u5339\u914d\u5230\u7684\u8def\u5f84\u66ff\u6362",visible:function(){return this.actionType===h.REPLACE_WATCH_PATH}})],u.prototype,"replacePath",void 0),o([a({tooltip:"\u662f\u5426\u641c\u96c6\u7ed1\u5b9aVM\u7ec4\u4ef6\u7684\u8282\u70b9?",visible:function(){return this.actionType===h.SEARCH_COMPONENT}})],u.prototype,"canCollectNodes",void 0),o([a({type:[cc.Node],readonly:!0,tooltip:"\u6536\u96c6\u5230\u7ed1\u5b9a\u4e86VM\u7ec4\u4ef6\u76f8\u5173\u7684\u8282\u70b9\uff0c\u53ef\u4ee5\u81ea\u5df1\u8df3\u8f6c\u8fc7\u53bb",visible:function(){return this.canCollectNodes&&this.actionType===h.SEARCH_COMPONENT}})],u.prototype,"collectNodes",void 0),u=o([r,s,l("ModelViewer/Edit-Comps (\u5feb\u901f\u7ec4\u4ef6\u64cd\u4f5c)"),c("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMCompsEdit.md")],u),i.default=u,cc._RF.pop()},{"../../utils/Log":"Log"}],VMCustom:[function(t,e,i){"use strict";cc._RF.push(e,"a9c10H1OHxH+KLxNLMn15Pe","VMCustom");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../../utils/Log"),r=t("./VMBase"),{ccclass:a,property:s,executeInEditMode:l,menu:c,help:h}=cc._decorator;let u=class extends r.default{constructor(){super(...arguments),this.controller=!1,this.watchPath="",this.componentName="",this.componentProperty="",this.refreshRate=.1,this._timer=0,this._watchComponent=null,this._canWatchComponent=!1,this._oldValue=null}onLoad(){super.onLoad(),this.checkEditorComponent(),this._watchComponent=this.node.getComponent(this.componentName),this.checkComponentState()}onRestore(){this.checkEditorComponent()}start(){this.onValueInit()}checkEditorComponent(){}checkComponentState(){this._canWatchComponent=!1,this._watchComponent?this.componentProperty?this.componentProperty in this._watchComponent!=0?this._canWatchComponent=!0:n.Log.error("\u9700\u8981\u76d1\u542c\u7684\u7ec4\u4ef6\u7684\u5c5e\u6027\u4e0d\u5b58\u5728"):n.Log.error("\u672a\u8bbe\u7f6e\u9700\u8981\u76d1\u542c\u7684\u7ec4\u4ef6 \u7684\u5c5e\u6027"):n.Log.error("\u672a\u8bbe\u7f6e\u9700\u8981\u76d1\u542c\u7684\u7ec4\u4ef6")}getComponentValue(){return this._watchComponent[this.componentProperty]}setComponentValue(t){"cc.Toggle"==this.componentName?(1==t&&this.node.getComponent(cc.Toggle).check(),0==t&&this.node.getComponent(cc.Toggle).uncheck()):this._watchComponent[this.componentProperty]=t}onValueInit(){this.setComponentValue(this.VM.getValue(this.watchPath))}onValueController(t,e){this.VM.setValue(this.watchPath,t)}onValueChanged(t,e,i){this.setComponentValue(t)}update(t){if(!this.controller)return;if(!this._canWatchComponent||!1===this._watchComponent.enabled)return;if(this._timer+=t,this._timer<this.refreshRate)return;this._timer=0;let e=this._oldValue,i=this.getComponentValue();this._oldValue!==i&&(this._oldValue=this.getComponentValue(),this.onValueController(i,e))}};o([s({tooltip:"\u6fc0\u6d3bcontroller,\u4ee5\u5f00\u542f\u53cc\u5411\u7ed1\u5b9a\uff0c\u5426\u5219\u53ea\u80fd\u63a5\u6536\u6d88\u606f"})],u.prototype,"controller",void 0),o([s],u.prototype,"watchPath",void 0),o([s({tooltip:"\u7ed1\u5b9a\u7ec4\u4ef6\u7684\u540d\u5b57"})],u.prototype,"componentName",void 0),o([s({tooltip:"\u7ec4\u4ef6\u4e0a\u9700\u8981\u76d1\u542c\u7684\u5c5e\u6027"})],u.prototype,"componentProperty",void 0),o([s({tooltip:"\u5237\u65b0\u95f4\u9694\u9891\u7387(\u53ea\u5f71\u54cd\u810f\u68c0\u67e5\u7684\u9891\u7387)",step:.01,range:[0,1],visible:function(){return!0===this.controller}})],u.prototype,"refreshRate",void 0),u=o([a,l,c("ModelViewer/VM-Custom (\u81ea\u5b9a\u4e49VM)"),h("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMCustom.md")],u),i.default=u,cc._RF.pop()},{"../../utils/Log":"Log","./VMBase":"VMBase"}],VMEvent:[function(t,e,i){"use strict";cc._RF.push(e,"cf69bDDIetLJrsJxOfvGjn/","VMEvent");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("./VMBase"),{ccclass:r,property:a,executeInEditMode:s,menu:l,help:c}=cc._decorator;var h;(function(t){t[t.none=0]="none",t[t["=="]=1]="==",t[t["!="]=2]="!=",t[t[">"]=3]=">",t[t[">="]=4]=">=",t[t["<"]=5]="<",t[t["<="]=6]="<="})(h||(h={}));let u=class extends n.default{constructor(){super(...arguments),this.templateMode=!1,this.watchPath="",this.triggerOnce=!1,this.watchPathArr=[],this.filterMode=h.none,this.compareValue="",this.changeEvents=[]}onValueInit(){}onValueChanged(t,e,i){this.conditionCheck(t,this.compareValue)&&(Array.isArray(this.changeEvents)&&this.changeEvents.forEach(o=>{o.emit([t,e,i])}),!0===this.triggerOnce&&(this.enabled=!1))}conditionCheck(t,e){let i=h;switch(this.filterMode){case i.none:return!0;case i["=="]:if(t==e)return!0;break;case i["!="]:if(t!=e)return!0;break;case i["<"]:if(t<e)return!0;break;case i[">"]:if(t>e)return!0;break;case i[">="]:if(t>=e)return!0;break;case i["<"]:if(t<e)return!0;break;case i["<="]:if(t<=e)return!0}return!1}};o([a({tooltip:"\u4f7f\u7528\u6a21\u677f\u6a21\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528\u591a\u8def\u5f84\u76d1\u542c"})],u.prototype,"templateMode",void 0),o([a({tooltip:"\u76d1\u542c\u83b7\u53d6\u503c\u7684\u8def\u5f84",visible:function(){return!1===this.templateMode}})],u.prototype,"watchPath",void 0),o([a({tooltip:"\u89e6\u53d1\u4e00\u6b21\u540e\u4f1a\u81ea\u52a8\u5173\u95ed\u8be5\u4e8b\u4ef6"})],u.prototype,"triggerOnce",void 0),o([a({tooltip:"\u76d1\u542c\u83b7\u53d6\u503c\u7684\u591a\u6761\u8def\u5f84,\u8fd9\u4e9b\u503c\u7684\u6539\u53d8\u90fd\u4f1a\u901a\u8fc7\u8fd9\u4e2a\u51fd\u6570\u56de\u8c03,\u8bf7\u4f7f\u7528 pathArr \u533a\u5206\u83b7\u53d6\u7684\u503c ",type:[cc.String],visible:function(){return!0===this.templateMode}})],u.prototype,"watchPathArr",void 0),o([a({tooltip:"\u8fc7\u6ee4\u6a21\u5f0f\uff0c\u4f1a\u6839\u636e\u6761\u4ef6\u8fc7\u6ee4\u6389\u65f6\u95f4\u7684\u89e6\u53d1",type:cc.Enum(h)})],u.prototype,"filterMode",void 0),o([a({visible:function(){return this.filterMode!==h.none}})],u.prototype,"compareValue",void 0),o([a([cc.Component.EventHandler])],u.prototype,"changeEvents",void 0),u=o([r,s,l("ModelViewer/VM-EventCall(\u8c03\u7528\u51fd\u6570)"),c("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMEvent.md")],u),i.default=u,cc._RF.pop()},{"./VMBase":"VMBase"}],VMLabel:[function(t,e,i){"use strict";cc._RF.push(e,"75203Gkx6dP3JWDyhEsat/Q","VMLabel");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("./VMBase"),r=t("../core/StringFormat"),a=t("../i18n/i18nLabel"),{ccclass:s,property:l,menu:c,executeInEditMode:h,help:u}=cc._decorator;let d=class extends n.default{constructor(){super(...arguments),this.watchPath="",this.labelType="i18nLabel",this.templateMode=!1,this.watchPathArr=[],this.templateValueArr=[],this.templateFormatArr=[],this.originText=null}onRestore(){this.checkLabel()}onEnable(){super.onEnable(),this.node.getComponent(a.i18nLabel)||this.onValueInit()}onLoad(){super.onLoad()}start(){}parseTemplate(){let t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null!=e)for(let i=0;i<e.length;i++){let o=e[i].match(t)[1].split(":")[1]||"";this.templateFormatArr[i]=o}}getReplaceText(){if(!this.originText)return"";let t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null==e)return"";let i=this.originText;for(let o=0;o<e.length;o++){const n=e[o];let r,a=n.match(t),s=parseInt(a[1]||"0")||0,l=this.templateFormatArr[o];r=this.templateValueArr[s],i=i.replace(n,this.getValueFromFormat(r,l))}return i}getValueFromFormat(t,e){return r.StringFormatFunction.deal(t,e)}onValueInit(){if(this.templateMode&&(this.originText=this.getLabelValue(),this.parseTemplate()),!1===this.templateMode)this.setLabelValue(this.VM.getValue(this.watchPath));else{let t=this.watchPathArr.length;for(let e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e],"?");this.setLabelValue(this.getReplaceText())}}onValueChanged(t,e,i){if(!1===this.templateMode)this.setLabelValue(t);else{let e=i.join("."),o=this.watchPathArr.findIndex(t=>t===e);o>=0&&(this.templateValueArr[o]=t,this.setLabelValue(this.getReplaceText()))}}setLabelValue(t){this.getComponent(this.labelType).string=t+""}getLabelValue(){return this.getComponent(this.labelType).string}checkLabel(){let t=["cc.Label","cc.RichText","cc.EditBox","i18nLabel"];for(let e=0;e<t.length;e++){const i=t[e];if(this.node.getComponent(i))return!0}cc.error(this.node.name+"\u6ca1\u6709\u6302\u8f7d\u4efb\u4f55label\u7ec4\u4ef6")}};o([l({visible:function(){return!1===this.templateMode}})],d.prototype,"watchPath",void 0),o([l({readonly:!0})],d.prototype,"labelType",void 0),o([l({tooltip:"\u662f\u5426\u542f\u7528\u6a21\u677f\u4ee3\u7801,\u53ea\u80fd\u5728\u8fd0\u884c\u65f6\u4e4b\u524d\u8bbe\u7f6e,\n\u5c06\u4f1a\u52a8\u6001\u89e3\u6790\u6a21\u677f\u8bed\u6cd5 {{0}},\u5e76\u4e14\u81ea\u52a8\u8bbe\u7f6e\u76d1\u542c\u7684\u8def\u5f84"})],d.prototype,"templateMode",void 0),o([l({type:[cc.String],visible:function(){return!0===this.templateMode}})],d.prototype,"watchPathArr",void 0),d=o([s,h,c("ModelViewer/VM-Label(\u6587\u672cVM)"),u("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMLabel.md")],d),i.default=d,cc._RF.pop()},{"../core/StringFormat":"StringFormat","../i18n/i18nLabel":"i18nLabel","./VMBase":"VMBase"}],VMListViewCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"a025cQrsC5EJYhLgZu+JpT/","VMListViewCtrl");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../../utils/Log"),{ccclass:r,menu:a,property:s}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.itemTemplate=null,this.scrollView=null,this.spawnCount=20,this.spacing=10,this.bufferZone=1600,this.items=[],this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0,this.dataList=[]}onEnable(){this._spawnCount=this.spawnCount}onDestroy(){}onLoad(){this.content=this.scrollView.content,this.itemTemplateName=this.itemTemplate.name.replace(this.itemTemplate.name[0],`UI${this.itemTemplate.name[0].toUpperCase()}`)}initialize(t){this.dataList=t,this.totalCount=t.length,this._spawnCount=Math.min(this.totalCount,this._spawnCount),this.content.removeAllChildren(),this.items=[],this.content.height=this.totalCount*(this.itemTemplate.data.height+this.spacing)+this.spacing;for(let e=0;e<this._spawnCount;++e){let i=cc.instantiate(this.itemTemplate);this.content.addChild(i),i.itemID=e,i.x=0,i.y=-i.height*(.5+e)-this.spacing*(e+1),i.getComponent(this.itemTemplateName).initUI(t[e]),this.items.push(i)}}getPositionInView(t){let e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)}update(t){if(this.updateTimer+=t,this.updateTimer<this.updateInterval)return;this.updateTimer=0;let e=this.items,i=this.bufferZone,o=this.scrollView.content.y<this.lastContentPosY,n=(this.itemTemplate.data.height+this.spacing)*e.length;for(let r=0;r<e.length;++r){let t=this.getPositionInView(e[r]);if(o){if(t.y<-i&&e[r].y+n<0){e[r].y=e[r].y+n;let t=e[r].getComponent(this.itemTemplateName),i=e[r].itemID-e.length;e[r].itemID=i,t.initUI(this.dataList[i])}}else if(t.y>i&&e[r].y-n>-this.content.height){e[r].y=e[r].y-n;let t=e[r].getComponent(this.itemTemplateName),i=e[r].itemID+e.length;e[r].itemID=i,t.initUI(this.dataList[i])}}this.lastContentPosY=this.scrollView.content.y}scrollEvent(t,e){switch(e){case 0:n.Log.log("Scroll to Top");break;case 1:n.Log.log("Scroll to Bottom");break;case 2:n.Log.log("Scroll to Left");break;case 3:n.Log.log("Scroll to Right");break;case 4:n.Log.log("Scrolling");break;case 5:n.Log.log("Bounce Top");break;case 6:n.Log.log("Bounce bottom");break;case 7:n.Log.log("Bounce left");break;case 8:n.Log.log("Bounce right");break;case 9:n.Log.log("Auto scroll ended")}}addItem(){this.content.height=(this.totalCount+1)*(this.itemTemplate.data.height+this.spacing)+this.spacing,this.totalCount=this.totalCount+1}removeItem(){this.totalCount-1<30?cc.error("can't remove item less than 30!"):(this.content.height=(this.totalCount-1)*(this.itemTemplate.data.height+this.spacing)+this.spacing,this.totalCount=this.totalCount-1,this.moveBottomItemToTop())}moveBottomItemToTop(){let t=(this.itemTemplate.data.height+this.spacing)*this.items.length,e=this.items.length,i=this.getItemAtBottom();if(i.y+t<0){i.y=i.y+t;let o=i.getComponent("Item"),n=o.itemID-e;o.updateItem(n)}}getItemAtBottom(){let t=this.items[0];for(let e=1;e<this.items.length;++e)t.y>this.items[e].y&&(t=this.items[e]);return t}scrollToFixedPosition(){this.scrollView.scrollToOffset(cc.v2(0,500),2)}};o([s(cc.Prefab)],l.prototype,"itemTemplate",void 0),o([s(cc.ScrollView)],l.prototype,"scrollView",void 0),o([s(cc.Integer)],l.prototype,"spawnCount",void 0),o([s(cc.Integer)],l.prototype,"spacing",void 0),o([s(cc.Integer)],l.prototype,"bufferZone",void 0),l=o([r,a("ModelViewer/VM-ListViewCtrl(\u7ad6\u6ed1\u5757)")],l),i.default=l,cc._RF.pop()},{"../../utils/Log":"Log"}],VMModify:[function(t,e,i){"use strict";cc._RF.push(e,"5b1dfMCPZxE5rvaA9o/fPBM","VMModify");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("./VMBase"),{ccclass:r,property:a,menu:s,help:l}=cc._decorator;var c;(function(t){t[t.MIN=0]="MIN",t[t.MAX=1]="MAX",t[t.MIN_MAX=2]="MIN_MAX"})(c||(c={}));let h=class extends n.default{constructor(){super(...arguments),this.watchPath="",this.valueClamp=!1,this.valueClampMode=c.MIN_MAX,this.valueMin=0,this.valueMax=1}start(){}clampValue(t){let e=this.valueMin,i=this.valueMax;if(0==this.valueClamp)return t;switch(this.valueClampMode){case c.MIN_MAX:t>i&&(t=i),t<e&&(t=e);break;case c.MIN:t<e&&(t=e);break;case c.MAX:t>i&&(t=i)}return t}vAddInt(t,e){this.vAdd(t,e,!0)}vSubInt(t,e){this.vSub(t,e,!0)}vMulInt(t,e){this.vMul(t,e,!0)}vDivInt(t,e){this.vDiv(t,e,!0)}vAdd(t,e,i=!1){let o=parseFloat(e),n=this.VM.getValue(this.watchPath,0)+o;i&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))}vSub(t,e,i=!1){let o=parseFloat(e),n=this.VM.getValue(this.watchPath,0)-o;i&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))}vMul(t,e,i=!1){let o=parseFloat(e),n=this.VM.getValue(this.watchPath,0)*o;i&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))}vDiv(t,e,i=!1){let o=parseFloat(e),n=this.VM.getValue(this.watchPath,0)/o;i&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))}vString(t,e){let i=e;this.VM.setValue(this.watchPath,i)}vNumberInt(t,e){this.vNumber(t,e,!0)}vNumber(t,e,i=!1){let o=parseFloat(e);i&&(o=Math.round(o)),this.VM.setValue(this.watchPath,this.clampValue(o))}};o([a],h.prototype,"watchPath",void 0),o([a()],h.prototype,"valueClamp",void 0),o([a({type:cc.Enum(c),visible:function(){return!0===this.valueClamp}})],h.prototype,"valueClampMode",void 0),o([a({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==c.MAX}})],h.prototype,"valueMin",void 0),o([a({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==c.MIN}})],h.prototype,"valueMax",void 0),h=o([r,s("ModelViewer/VM-Modify(\u4fee\u6539Model)"),l("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMModify.md")],h),i.default=h,cc._RF.pop()},{"./VMBase":"VMBase"}],VMParent:[function(t,e,i){"use strict";cc._RF.push(e,"23ca6eEU6FJeI86924Ew7U0","VMParent");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("./ViewModel"),{ccclass:r,property:a,help:s,executionOrder:l}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.tag="_temp",this.data={},this.VM=n.VM}onLoad(){if(null==this.data)return;this.tag="_temp<"+this.node.uuid.replace(".","")+">",n.VM.add(this.data,this.tag);let t=this.getVMComponents();for(let e=0;e<t.length;e++){const i=t[e];this.replaceVMPath(i,this.tag)}this.onBind()}onBind(){}onUnBind(){}replaceVMPath(t,e){let i=t.watchPath;if(1==t.templateMode){let i=t.watchPathArr;if(i)for(let t=0;t<i.length;t++){const o=i[t];i[t]=o.replace("*",e)}}else"*"===i.split(".")[0]&&(t.watchPath=i.replace("*",e))}getVMComponents(){let t=this.node.getComponentsInChildren("VMBase"),e=this.node.getComponentsInChildren("VMParent").filter(t=>t.uuid!==this.uuid),i=[];return e.forEach(t=>{i=i.concat(t.getComponentsInChildren("VMBase"))}),t.filter(t=>i.indexOf(t)<0)}onDestroy(){this.onUnBind(),n.VM.remove(this.tag),this.data=null}};c=o([r,l(-1),s("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMParent.md")],c),i.default=c,cc._RF.pop()},{"./ViewModel":"ViewModel"}],VMProgress:[function(t,e,i){"use strict";cc._RF.push(e,"53c55vfovlCBI6+FHhjmumL","VMProgress");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("./VMCustom"),r=t("../core/StringFormat"),a=t("../../utils/Log"),{ccclass:s,property:l,menu:c,help:h}=cc._decorator;let u=class extends n.default{constructor(){super(...arguments),this.watchPath="",this.watchPathArr=["[min]","[max]"],this.templateMode=!0,this.stringFormat=""}onLoad(){(this.watchPathArr.length<2||"[min]"==this.watchPathArr[0]||"[max]"==this.watchPathArr[1])&&a.Log.error("VMProgress must have two values!"),super.onLoad()}start(){this.onValueInit()}onValueInit(){let t=this.watchPathArr.length;for(let i=0;i<t;i++)this.templateValueArr[i]=this.VM.getValue(this.watchPathArr[i]);let e=this.templateValueArr[0]/this.templateValueArr[1];this.setComponentValue(e)}setComponentValue(t){if(""!==this.stringFormat){let e=r.StringFormatFunction.deal(t,this.stringFormat);super.setComponentValue(e)}else super.setComponentValue(t)}onValueController(t,e){let i=Math.round(t*this.templateValueArr[1]);Number.isNaN(i)&&(i=0),this.VM.setValue(this.watchPathArr[0],i)}onValueChanged(t,e,i){if(!1===this.templateMode)return;let o=i.join("."),n=this.watchPathArr.findIndex(t=>t===o);n>=0&&(this.templateValueArr[n]=t);let r=this.templateValueArr[0]/this.templateValueArr[1];r>1&&(r=1),(r<0||Number.isNaN(r))&&(r=0),this.setComponentValue(r)}};o([l({visible:!1,override:!0})],u.prototype,"watchPath",void 0),o([l({type:[cc.String],tooltip:"\u7b2c\u4e00\u4e2a\u503c\u662fmin \u503c\uff0c\u7b2c\u4e8c\u4e2a\u503c \u662f max \u503c\uff0c\u4f1a\u8ba1\u7b97\u51fa\u4e24\u8005\u7684\u6bd4\u4f8b"})],u.prototype,"watchPathArr",void 0),o([l({visible:function(){return"string"===this.componentProperty},tooltip:"\u5b57\u7b26\u4e32\u683c\u5f0f\u5316\uff0c\u548c VMLabel \u7684\u5b57\u6bb5\u4e00\u6837\uff0c\u9700\u8981\u586b\u5165\u5bf9\u5e94\u7684\u683c\u5f0f\u5316\u5b57\u7b26\u4e32"})],u.prototype,"stringFormat",void 0),u=o([s,c("ModelViewer/VM-Progress (VM-\u8fdb\u5ea6\u6761)"),h("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMProgress.md")],u),i.default=u,cc._RF.pop()},{"../../utils/Log":"Log","../core/StringFormat":"StringFormat","./VMCustom":"VMCustom"}],VMQrcode:[function(t,e,i){"use strict";cc._RF.push(e,"a9ef75/WzpPRJR7PNYhroil","VMQrcode");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../../userData/ConfigModule"),r=t("../lib/Qrcode"),a=t("./VMBase"),{ccclass:s,property:l,menu:c,executeInEditMode:h,help:u}=cc._decorator;let d=class extends a.default{constructor(){super(...arguments),this.nodeQr=null,this.uidWatchPath=""}start(){var t=n.ConfigModule.SHARE_URL;this.uidWatchPath&&(t+=`?shangjiid=${this.VM.getValue(this.uidWatchPath)}`);var e=new r.QRCode(-1,2);e.addData(t),e.make();for(var i=this.nodeQr.addComponent(cc.Graphics),o=this.nodeQr.width/e.getModuleCount(),a=this.nodeQr.height/e.getModuleCount(),s=0;s<e.getModuleCount();s++)for(var l=0;l<e.getModuleCount();l++){e.isDark(s,l)?i.fillColor=cc.Color.BLACK:i.fillColor=cc.Color.WHITE;var c=Math.ceil((l+1)*o)-Math.floor(l*o),h=Math.ceil((s+1)*o)-Math.floor(s*o);i.rect(Math.round(l*o),Math.round(s*a),c,h),i.fill()}}};o([l({type:cc.Node,tooltip:"\u8981\u751f\u6210\u4e8c\u4f4d\u7801\u7684\u8282\u70b9\uff0c\u951a\u70b9\u5fc5\u987b\u662f\uff080\uff0c0\uff09"})],d.prototype,"nodeQr",void 0),o([l({tooltip:"\u73a9\u5bb6id\uff0c\u7528\u6765\u7ed1\u5b9a\u4e0a\u4e0b\u7ea7\u7528"})],d.prototype,"uidWatchPath",void 0),d=o([s,c("ModelViewer/VM-Qrcode(\u4e8c\u7ef4\u7801)")],d),i.default=d,cc._RF.pop()},{"../../userData/ConfigModule":"ConfigModule","../lib/Qrcode":"Qrcode","./VMBase":"VMBase"}],VMState:[function(t,e,i){"use strict";cc._RF.push(e,"8446cEUsTFAkqItqI1C7CB0","VMState");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("./ViewModel"),r=t("./VMBase"),{ccclass:a,property:s,menu:l,help:c}=cc._decorator;var h,u,d;(function(t){t[t["=="]=0]="==",t[t["!="]=1]="!=",t[t[">"]=2]=">",t[t[">="]=3]=">=",t[t["<"]=4]="<",t[t["<="]=5]="<=",t[t.range=6]="range"})(h||(h={})),function(t){t[t.NODE_ACTIVE=0]="NODE_ACTIVE",t[t.NODE_VISIBLE=1]="NODE_VISIBLE",t[t.NODE_OPACITY=2]="NODE_OPACITY",t[t.NODE_COLOR=3]="NODE_COLOR",t[t.COMPONENT_CUSTOM=4]="COMPONENT_CUSTOM"}(u||(u={})),function(t){t[t.NODE_INDEX=0]="NODE_INDEX",t[t.NODE_NAME=1]="NODE_NAME"}(d||(d={}));let p=class extends r.default{constructor(){super(...arguments),this.watchPath="",this.foreachChildMode=!1,this.condition=h["=="],this.foreachChildType=d.NODE_INDEX,this.valueA=0,this.valueB=0,this.valueAction=u.NODE_ACTIVE,this.valueActionOpacity=0,this.valueActionColor=cc.color(155,155,155),this.valueComponentName="",this.valueComponentProperty="",this.valueComponentDefaultValue="",this.valueComponentActionValue="",this.watchNodes=[]}onLoad(){super.onLoad(),0==this.watchNodes.length&&(this.valueAction!==u.NODE_ACTIVE&&!1===this.foreachChildMode&&this.watchNodes.push(this.node),this.watchNodes=this.watchNodes.concat(this.node.children))}start(){this.enabled&&this.onValueInit()}onValueInit(){let t=n.VM.getValue(this.watchPath);this.checkNodeFromValue(t)}onValueChanged(t,e,i){this.checkNodeFromValue(t)}checkNodeFromValue(t){if(this.foreachChildMode)this.watchNodes.forEach((e,i)=>{let o=this.foreachChildType===d.NODE_INDEX?i:e.name,n=this.conditionCheck(t,o);this.setNodeState(e,n)});else{let e=this.conditionCheck(t,this.valueA,this.valueB);this.setNodesStates(e)}}setNodesStates(t){let e=this.watchNodes,i=t;e.forEach(t=>{this.setNodeState(t,i)})}setNodeState(t,e){let i=this.valueAction,o=e,n=u;switch(i){case n.NODE_ACTIVE:t.active=!!o;break;case n.NODE_VISIBLE:t.opacity=o?255:0;break;case n.NODE_COLOR:t.color=o?this.valueActionColor:cc.color(255,255,255);break;case n.NODE_OPACITY:t.opacity=o?this.valueActionOpacity:255;break;case n.COMPONENT_CUSTOM:let e=t.getComponent(this.valueComponentName);if(null==e)return;this.valueComponentProperty in e&&(e[this.valueComponentProperty]=o?this.valueComponentActionValue:this.valueComponentDefaultValue)}}conditionCheck(t,e,i){let o=h;switch(this.condition){case o["=="]:if(t==e)return!0;break;case o["!="]:if(t!=e)return!0;break;case o["<"]:if(t<e)return!0;break;case o[">"]:if(t>e)return!0;break;case o[">="]:if(t>=e)return!0;break;case o["<"]:if(t<e)return!0;break;case o["<="]:if(t<=e)return!0;break;case o.range:if(t>=e&&t<=i)return!0}return!1}};o([s],p.prototype,"watchPath",void 0),o([s({tooltip:"\u904d\u5386\u5b50\u8282\u70b9,\u6839\u636e\u5b50\u8282\u70b9\u7684\u540d\u5b57\u6216\u540d\u5b57\u8f6c\u6362\u4e3a\u503c\uff0c\u5224\u65ad\u503c\u6ee1\u8db3\u6761\u4ef6 \u6765\u6fc0\u6d3b"})],p.prototype,"foreachChildMode",void 0),o([s({type:cc.Enum(h)})],p.prototype,"condition",void 0),o([s({type:cc.Enum(d),tooltip:"\u904d\u5386\u5b50\u8282\u70b9,\u6839\u636e\u5b50\u8282\u70b9\u7684\u540d\u5b57\u8f6c\u6362\u4e3a\u503c\uff0c\u5224\u65ad\u503c\u6ee1\u8db3\u6761\u4ef6 \u6765\u6fc0\u6d3b",visible:function(){return!0===this.foreachChildMode}})],p.prototype,"foreachChildType",void 0),o([s({displayName:"Value: a",visible:function(){return!1===this.foreachChildMode}})],p.prototype,"valueA",void 0),o([s({displayName:"Value: b",visible:function(){return!1===this.foreachChildMode&&this.condition===h.range}})],p.prototype,"valueB",void 0),o([s({type:cc.Enum(u),tooltip:"\u4e00\u65e6\u6ee1\u8db3\u6761\u4ef6\u5c31\u5bf9\u8282\u70b9\u6267\u884c\u64cd\u4f5c"})],p.prototype,"valueAction",void 0),o([s({visible:function(){return this.valueAction===u.NODE_OPACITY},range:[0,255],type:cc.Integer,displayName:"Action Opacity"})],p.prototype,"valueActionOpacity",void 0),o([s({visible:function(){return this.valueAction===u.NODE_COLOR},displayName:"Action Color"})],p.prototype,"valueActionColor",void 0),o([s({visible:function(){return this.valueAction===u.COMPONENT_CUSTOM},displayName:"Component Name"})],p.prototype,"valueComponentName",void 0),o([s({visible:function(){return this.valueAction===u.COMPONENT_CUSTOM},displayName:"Component Property"})],p.prototype,"valueComponentProperty",void 0),o([s({visible:function(){return this.valueAction===u.COMPONENT_CUSTOM},displayName:"Default Value"})],p.prototype,"valueComponentDefaultValue",void 0),o([s({visible:function(){return this.valueAction===u.COMPONENT_CUSTOM},displayName:"Action Value"})],p.prototype,"valueComponentActionValue",void 0),o([s({type:[cc.Node],tooltip:"\u9700\u8981\u6267\u884c\u6761\u4ef6\u7684\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u586b\u5199\u5219\u9ed8\u8ba4\u4f1a\u6267\u884c\u672c\u8282\u70b9\u4ee5\u53ca\u672c\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9 \u7684\u72b6\u6001"})],p.prototype,"watchNodes",void 0),p=o([a,l("ModelViewer/VM-State (VM\u72b6\u6001\u63a7\u5236)"),c("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMState.md")],p),i.default=p,cc._RF.pop()},{"./VMBase":"VMBase","./ViewModel":"ViewModel"}],VMTimer:[function(t,e,i){"use strict";cc._RF.push(e,"bf6aduZAvlGMZfmwOIvruRH","VMTimer");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../../userData/GameDataCenter"),r=t("../manager/AudioMng"),{ccclass:a,menu:s,property:l}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.playingDidaAudio=!1}onLoad(){cc.game.addPersistRootNode(this.node),this.createSchedule(),cc.game.on(cc.game.EVENT_SHOW,function(){})}onEnable(){}onDisable(){}createSchedule(){var t=cc.macro.REPEAT_FOREVER;this.schedule(()=>{var t;n.default.roomInfoModel.waitTime>0&&(n.default.roomInfoModel.waitTime-=1),n.default.roomInfoModel.waitTime<=0&&(this.playingDidaAudio=!1),!this.playingDidaAudio&&n.default.roomInfoModel.waitTime<=10&&2==(null===(t=null===n.default||void 0===n.default?void 0:n.default.roomInfoModel)||void 0===t?void 0:t.gameStage)&&(this.playingDidaAudio=!0,r.AudioMng.getInstance().playSFX("daojishi",10-n.default.roomInfoModel.waitTime))},1,t,0)}};c=o([a,s("ModelViewer/VM-Timer (\u8ba1\u65f6\u5668\uff0c\u6bcf\u79d2\u5237\u65b0\u65f6\u95f4)")],c),i.default=c,cc._RF.pop()},{"../../userData/GameDataCenter":"GameDataCenter","../manager/AudioMng":"AudioMng"}],VMTurntable:[function(t,e,i){"use strict";cc._RF.push(e,"29987aQXe9OGp5qQxgWRaYF","VMTurntable");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const r=t("../ui/UIBase"),a=t("../../utils/Utils"),{ccclass:s,property:l,menu:c,executeInEditMode:h,help:u}=cc._decorator;let d=o=class extends r.default{constructor(){super(...arguments),this.nodeRoll=null,this.scores=8,this.skew=0,this.qMin=4,this.qMax=8,this.delayTiem=0,this.hasOffset=!1}onUILoad(){o.instance=this}onShow(){}onStart(){}roll(t,e){var i=new cc.Node("xxx");i.anchorX=0,i.anchorY=0,i.width=cc.winSize.width,i.height=cc.winSize.height,i.addComponent(cc.BlockInputEvents),i.parent=cc.director.getScene(),i.zIndex=888;var o=this.getRotationLong(t);this.nodeRoll.rotation=0,cc.tween(this.nodeRoll).to(4,{angle:-o},{easing:"expoOut"}).delay(this.delayTiem).call(function(){i.destroy(),e&&e()}.bind(this)).start()}getRotationLong(t){var e=360*(Math.floor(Math.random()*(this.qMax-this.qMin))+this.qMin),i=-360/this.scores*this.skew,o=360/this.scores*(this.scores-t+1),n=a.Utils.random(0,360/this.scores)/2*(1==a.Utils.random(0,2)?1:-1);return this.hasOffset?e+i+o+n:e+i+o}};n([l({type:cc.Node,displayName:"\u9700\u8981\u8f6c\u52a8\u7684node"})],d.prototype,"nodeRoll",void 0),n([l({type:cc.Integer,displayName:"\u8f6c\u76d8\u62c6\u5206\u4efd\u6570"})],d.prototype,"scores",void 0),n([l({type:cc.Integer,displayName:"\u504f\u79fb\u4efd\u6570",tooltip:"\u7ed3\u679c\u663e\u793a\u987a\u65f6\u9488\u589e\u52a0\u76f8\u5e94\u4efd\u6570"})],d.prototype,"skew",void 0),n([l({type:cc.Integer,displayName:"\u8f6c\u8fc7\u6700\u5c11\u5708\u6570"})],d.prototype,"qMin",void 0),n([l({type:cc.Integer,displayName:"\u8f6c\u8fc7\u6700\u591a\u5708\u6570"})],d.prototype,"qMax",void 0),n([l({type:cc.Integer,displayName:"\u5ef6\u8fdf\u56de\u6389x\u79d2"})],d.prototype,"delayTiem",void 0),n([l({displayName:"\u6240\u505c\u4f4d\u7f6e\u662f\u5426\u6709\u504f\u79fb\u6d6e\u52a8",tooltip:"\u6307\u9488\u6240\u505c\u4f4d\u7f6e\u79bb\u5956\u533a\u662f\u5426\u6709\u504f\u79fb\u6d6e\u52a8"})],d.prototype,"hasOffset",void 0),d=o=n([s,c("ModelViewer/VM-Turntable(\u8f6c\u76d8\u52a8\u753b)")],d),i.default=d,cc._RF.pop()},{"../../utils/Utils":"Utils","../ui/UIBase":"UIBase"}],ViewManager:[function(t,e,i){"use strict";cc._RF.push(e,"860abIybLRFkaQ3e7VqWtnn","ViewManager");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.ViewManager=void 0;const n=t("../abstract/Group"),r=t("../abstract/Manager"),a=t("../abstract/View"),s=t("../define/enum"),l=t("../help/helper"),c=t("./ModelManager"),h=t("./ScrollManager"),{ccclass:u,property:d}=cc._decorator;var p;(function(t){t[t.ON_SCROLL=0]="ON_SCROLL",t[t.ON_LATEUPDATE=1]="ON_LATEUPDATE",t[t.ON_CLEARVIEWS=2]="ON_CLEARVIEWS",t[t.ON_UPDATE_VIEWS=3]="ON_UPDATE_VIEWS",t[t.ON_CHANGED_VIRTUALSIZE=4]="ON_CHANGED_VIRTUALSIZE",t[t.ON_MAGNETIC=5]="ON_MAGNETIC",t[t.ON_CHANGED_OVERFLOWHEADER=6]="ON_CHANGED_OVERFLOWHEADER",t[t.ON_RESET_ALL_STATE=7]="ON_RESET_ALL_STATE",t[t.ON_CHANGED_SPACING=8]="ON_CHANGED_SPACING"})(p||(p={}));let g=class extends r.Manager{constructor(){super(...arguments),this._arrangeAxis=s.ArrangeAxis.Start,this.stretchDirection=s.StretchDirection.Auto,this.overflowOffset=.3,this.enterOffset=0,this._spacing=0,this.left=0,this.right=0,this.top=0,this.bottom=0,this.magnetic=!1,this.magneticDirection=s.MagneticDirection.Header,this.magneticDuration=.5,this.magneticSizeChanges=!1,this.loopHeader=!1,this.loopFooter=!1,this._groupLength=0,this._cacheGroups=[],this._groups=[],this._disableViews=[],this._visibleViews=[],this._fixedViews=[],this._disableHolders=[],this._isFill=!1,this._headerIndex=-1,this._footerIndex=-1,this._virtualSize=0,this._overflowHeader=0,this._cacheHeadeDatas=[]}get arrangeAxis(){return this._arrangeAxis}set arrangeAxis(t){t!=this._arrangeAxis&&(this._arrangeAxis=t,this._resetAllState())}get spacing(){return this._spacing}set spacing(t){t!=this._spacing&&(this._spacing=t,this._resetAllState())}get header(){return this._visibleViews[0]}get footer(){return this._visibleViews[this._visibleViews.length-1]}get overflowHeader(){return this._overflowHeader}set overflowHeader(t){t!=this._overflowHeader&&(this._overflowHeader=t,this.emit(p.ON_CHANGED_OVERFLOWHEADER,t))}get virtualSize(){return this._virtualSize}set virtualSize(t){t!=this._virtualSize&&(this._virtualSize=t,this.emit(p.ON_CHANGED_VIRTUALSIZE))}get groupLength(){return this._groupLength}get visibleLength(){return this._visibleViews.length}get min(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getGroupFooterBoundary(this.footer.group):this.internal_getGroupHeaderBoundary(this.header.group):0}get max(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getGroupHeaderBoundary(this.header.group):this.internal_getGroupFooterBoundary(this.footer.group):0}onInit(){this.adapter.modelManager.on(c.ModelManager.Event.ON_CHANGE_BEFORE,this._onModelChangeBefore,this),this.adapter.modelManager.on(c.ModelManager.Event.ON_INSERT,this._updateGroups,this),this.adapter.modelManager.on(c.ModelManager.Event.ON_REMOVE,this._updateGroups,this),this.adapter.modelManager.on(c.ModelManager.Event.ON_MOVE,this._updateGroups,this),this.adapter.modelManager.on(c.ModelManager.Event.ON_CLEAR,this._onClearModel,this),this.adapter.scrollManager.on(h.ScrollManager.Event.ON_SCROLL,this._onScroll,this),this.adapter.scrollManager.on(h.ScrollManager.Event.ON_VIEW_SIZE_CHANGED,this._resetAllState,this),this.adapter.scrollManager.on(h.ScrollManager.Event.ON_CHANGED_ORIENTATION,this._resetAllState,this)}_clearAll(){for(let t=0,e=this._visibleViews.length;t<e;t++)this._recycleViewToDisableViews(this._visibleViews[t]);this._cacheGroups.push(...this._groups),this._clearFixedViews(),this._visibleViews.length=0,this._groups.length=0,this.virtualSize=0,this.overflowHeader=0}_onClearModel(){this._clearAll(),this.emit(p.ON_CLEARVIEWS)}_resetAllState(){this._clearAll(),this.internal_updateVisibleView(0),this.emit(p.ON_RESET_ALL_STATE)}_onModelChangeBefore(){if(this.header&&this.virtualSize>this.adapter.mainAxisSize){var t=this.getVisibleIndexByGroupIndex(0);if(-1!=t){var e=this._visibleViews[t];this._cacheHeadeDatas=e.group.models.map(t=>t.data),this._cacheHeadePosition={x:e.group.position.x,y:e.group.position.y}}else this._cacheHeadeDatas=this.header.group.models.map(t=>t.data),this._cacheHeadePosition={x:this.header.group.position.x,y:this.header.group.position.y}}}_updateGroups(t){var e=this._getViewFromDisibleViews(null),i=this.getGroupIndexByModelIndex(t);-1==i&&(i=this._groupLength-1);var o=null,n=!1,r={modelIndex:t,fixedIndex:-1},a=this._groups[i-1];for(a&&(r.fixedIndex=a.fixedIndex);;){(o=this._groups[i])||((o=this._getGroupFromCache()).internal_setIndex(this._groups.length),this._groups.push(o),i=this._groups.length);var l=o.internal_insert(r,e,n);if(i++,n=!0,!l)break}var c=this._groups.splice(i,this._groups.length);this._cacheGroups.push(...c),this._groupLength=this._groups.length;var h=-1,u=0;this._cacheHeadeDatas.length>0&&(h=this._groups.findIndex(t=>t.internal_includes(this._cacheHeadeDatas)));var d=this._groups[h];d&&(u+=d.size[this.adapter.mainAxis]+this.spacing,d.internal_setPosition(this._cacheHeadePosition[this.adapter.mainAxis]));for(let g=h-1;g>=0;g--){var p=this._groups[g];this._calcMainAxisPosition(p,d,s.MagneticDirection.Header),u+=p.size[this.adapter.mainAxis]+this.spacing,d=p}d=this._groups[h];for(let g=h+1;g<this.groupLength;g++)p=this._groups[g],this._calcMainAxisPosition(p,d,s.MagneticDirection.Footer),u+=p.size[this.adapter.mainAxis]+this.spacing,d=p;u-=this.spacing,this._virtualSize=Math.max(0,u),this._resetOverflowHeader(this._groups[0]),e.internal_reset(),this._disableViews.push(e),this.updateVisibles(h),this._cacheHeadeDatas=[],this._cacheHeadePosition=null}updateVisibles(t){var e=[];t=Math.max(0,t);const i=t=>{var i=e.findIndex(e=>e.oldData==t.data);return-1!=i?e.splice(i,1)[0]:null};for(let s=0;s<this._visibleViews.length;s++){const t=this._visibleViews[s];e=e.concat(t.holderList),t.internal_reset()}var o=this.adapter.mainAxisSize,n=0,r=this.visibleLength;for(let s=t,l=this._groups.length;s<l;s++){const t=this._groups[s];if(this.getVisibleMainAxisSize()>=o&&r<=0)break;(a=this._visibleViews[n++])||(a=this._getViewFromDisibleViews(t.index),this._visibleViews.push(a)),a.internal_preVisible(t,i),r--}for(let s=this._visibleViews.length-1;s>=0;s--){var a;if((a=this._visibleViews[s]).holderList.length>0)break;this._disableFromVisibleViews(s)}for(let s=0,l=e.length;s<l;s++){const t=e[s];t.internal_disable(),this._disableHolders.push(t)}for(let s=0;s<this.visibleLength;s++)this._visibleViews[s].internal_visible();this._forceFill(),this._calcMagnetic(),this.emit(p.ON_UPDATE_VIEWS)}_getGroupFromCache(){var t=this._cacheGroups.pop();return t||(t=new n.Group(this.adapter)),t.internal_reset(),t}_calcMagnetic(){if(this.magnetic&&this.header){var t=!1;0==this.adapter.scrollManager.velocity&&(this.magneticDirection==s.MagneticDirection.Footer?this.footer.index==this._groupLength-1&&(this.adapter.scrollManager.scrollToFooter(this.magneticDuration),t=!0):0==this.header.index&&(this.adapter.scrollManager.scrollToHeader(this.magneticDuration),t=!0)),this.emit(p.ON_MAGNETIC,t)}}_calcMainAxisPosition(t,e,i){if(t)if(e){var o,n,r=this.adapter.mainAxis,a=this.adapter.multiplier,l=i==s.MagneticDirection.Footer?1:-1;i==s.MagneticDirection.Footer?(o=1==a?e.anchorPoint[r]:1-e.anchorPoint[r],n=1==a?1-t.anchorPoint[r]:t.anchorPoint[r]):(o=1==a?1-e.anchorPoint[r]:e.anchorPoint[r],n=1==a?t.anchorPoint[r]:1-t.anchorPoint[r]);var c=e.position[r];c-=e.size[r]*o*l*a,c-=this.spacing*a*l,c-=t.size[r]*n*l*a,t.internal_setPosition(c)}else t.internal_setPosition(this._getMainAxisHeaderPosition(t))}_getMainAxisHeaderPosition(t){var e=0,i=0;return this.adapter.isVertical?(e=this.adapter.isArrangeAxisStart?-this.top:this.bottom,i=this.adapter.isArrangeAxisStart?1-t.anchorPoint[this.adapter.mainAxis]:t.anchorPoint[this.adapter.mainAxis]):(e=this.adapter.isArrangeAxisStart?this.left:-this.right,i=this.adapter.isArrangeAxisStart?t.anchorPoint[this.adapter.mainAxis]:1-t.anchorPoint[this.adapter.mainAxis]),e-i*t.size[this.adapter.mainAxis]*this.adapter.multiplier}_getViewFromDisibleViews(t){var e=null;if(null!=t){var i=this._fixedViews.findIndex(e=>e.index==t);if(-1!=i){var o=this._fixedViews.splice(i,1)[0];this._recycleViewToDisableViews(o)}}return e||(e=this._disableViews.pop()),e||(e=this.adapter.getView()),e}_getHolderFromDisableHolders(t){var e=this._disableHolders.findIndex(e=>e.code==t.code);if(-1!=e)return this._disableHolders.splice(e,1)[0]}_disableFromVisibleViews(t){var e;e=t instanceof a.View?this._visibleViews.findIndex(e=>e.index==t.index):t,this._recycleViewToDisableViews(this._visibleViews[e]),this._visibleViews.splice(e,1)}_recycleViewToDisableViews(t){t&&(t.internal_recycleHolders(t=>this._disableHolders.push(t)),t.internal_disable(),this._disableViews.push(t))}_clearFixedViews(){for(let t=0,e=this._fixedViews.length;t<e;t++){const e=this._fixedViews[t];this._recycleViewToDisableViews(e)}this._fixedViews.length=0}_checkHeaderInvisible(){this.header&&(this.loopFooter||this.footer.index!=this.groupLength-1)&&this._isOverflowHeader(this.header.group)&&(this._disableFromVisibleViews(0),this._checkHeaderInvisible())}_checkFooterInvisible(){this.footer&&(this.loopHeader||0!=this.header.index)&&this._isOverflowFooter(this.footer.group)&&(this._disableFromVisibleViews(this._visibleViews.length-1),this._checkFooterInvisible())}_isOverflowHeader(t,e=this.overflowOffset){var i=this.internal_getGroupFooterBoundary(t);return e*=t.size[this.adapter.mainAxis],1==this.adapter.multiplier?i>=e:i<=-e}_isOverflowFooter(t,e=this.overflowOffset){var i=this.internal_getGroupHeaderBoundary(t);return e*=t.size[this.adapter.mainAxis],1==this.adapter.multiplier?i+this.adapter.mainAxisSize<=-e:i-this.adapter.mainAxisSize>=e}_isEnterFooter(t){if(!t)return!1;var e=this.internal_getGroupFooterBoundary(t),i=this.enterOffset*t.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e+this.adapter.mainAxisSize+i>=0:e-this.adapter.mainAxisSize-i<=0}_isEnterHeader(t){if(!t)return!1;var e=this.internal_getGroupHeaderBoundary(t),i=this.overflowOffset*t.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e-i<=0:e+i>=0}_fillHeader(){var t=this._groups[this._headerIndex];if(this._isEnterHeader(t)){var{index:e,size:i}=this._accumTargetSizeTowardsHeader(t.index,this.internal_getInitHeaderSize(t)),o=this._groups[e];if(o&&-1==this.getVisibleIndexByGroupIndex(e)){var n=this.internal_convertSizeToHeaderPosition(i,o);o.internal_setPosition(n);var r=this._getViewFromDisibleViews(o.index);this._visibleViews.unshift(r),r.internal_preVisible(o).internal_visible(),0==r.index&&this._resetOverflowHeader(r.group),this._headerIndex=o.index,this._fillHeader()}}}_fillFooter(){var t=this._groups[this._footerIndex];if(this._isEnterFooter(t)){var{index:e,size:i}=this._accumTargetSizeTowardsFooter(t.index,this.internal_getInitFooterSize(t)),o=this._groups[e];if(o&&-1==this.getVisibleIndexByGroupIndex(e)){var n=this.internal_convertSizeToFooterPosition(i,o);o.internal_setPosition(n);var r=this._getViewFromDisibleViews(o.index);this._visibleViews.push(r),r.internal_preVisible(o).internal_visible(),0==r.index&&this._resetOverflowHeader(r.group),this._footerIndex=o.index,this._fillFooter()}}}_fillFixedView(){if(this.header&&(-1!=this.header.group.fixedIndex||this.header.group.isFixed)){var t=this.header.index,e=this.adapter.mainAxis,i=this.internal_getInitHeaderSize(this.header.group);for(let a=t-1;a>=0;a--){var o=this._groups[a];if(!o)return void console.error("_fillFixedView\u9519\u8bef \u627e\u4e0d\u5230group",a);if(i+=o.size[e]+this.spacing,o.isFixed){var n=this.internal_convertSizeToHeaderPosition(i,o);if(-1!=this._fixedViews.findIndex(t=>t.index==o.index)){l.Helper.approximately(n,o.position[e])||(o.internal_setPosition(n),this.adapter.layoutManager.layout(o));break}this._clearFixedViews(),n=this.internal_convertSizeToHeaderPosition(i,o),o.internal_setPosition(n);var r=this._getViewFromDisibleViews(o.index);r.internal_preVisible(o).internal_visible(),this._fixedViews.push(r);break}}}}_accumTargetSizeTowardsHeader(t,e){for(var i=this._groups.length;;){if(0==t&&this.loopHeader&&(t=i),0==t)return{index:t,size:e};if(t--,!this._groups[t])return{index:t,size:e};if((e+=this.internal_accumulationSize(t))>=0)return{index:t,size:e}}}_accumTargetSizeTowardsFooter(t,e){for(var i=this._groups.length;;){if(t==i-1&&this.loopFooter&&(t=-1),t==i-1)return{index:t,size:e};if(t++,!this._groups[t])return{index:t,size:e};if((e+=this.internal_accumulationSize(t))>=0)return{index:t,size:e}}}_fillFooterHandle(){this._checkHeaderInvisible(),this._fillFooter()}_fillHeaderHandle(){this._checkFooterInvisible(),this._fillHeader()}_forceFill(){this._updateHeaderFooterIndex(),this._fillHeaderHandle(),this._fillFooterHandle()}_updateHeaderFooterIndex(){this._headerIndex=this.header?this.header.index:0,this._footerIndex=this.footer?this.footer.index:0}_onScroll(t){if(0!=this._groups.length){switch(this._updateHeaderFooterIndex(),t){case s.ScrollDirection.Up:case s.ScrollDirection.Left:this.adapter.isArrangeAxisStart?this._fillFooterHandle():this._fillHeaderHandle();break;case s.ScrollDirection.Down:case s.ScrollDirection.Right:this.adapter.isArrangeAxisStart?this._fillHeaderHandle():this._fillFooterHandle()}this._fillFixedView(),this.emit(p.ON_SCROLL)}}_stretchToHeader(t,e){var i=this._visibleViews[t];for(let o=e;o>=0;o--){const t=this._visibleViews[o];i?(this._calcMainAxisPosition(t.group,i.group,s.MagneticDirection.Header),this.adapter.layoutManager.layout(t.group)):this.getVisibleMainAxisSize()<this.adapter.mainAxisSize&&this._calcMainAxisPosition(t.group,null,s.MagneticDirection.Header),i=t}}_stretchToFooter(t,e){var i=this._visibleViews[t];for(let o=e;o<this._visibleViews.length;o++){const t=this._visibleViews[o];i?(this._calcMainAxisPosition(t.group,i.group,s.MagneticDirection.Footer),this.adapter.layoutManager.layout(t.group)):this.getVisibleMainAxisSize()<this.adapter.mainAxisSize&&this._calcMainAxisPosition(t.group,null,s.MagneticDirection.Footer),i=t}}_resetOverflowHeader(t){if(!t)return this.overflowHeader=0;var e=this.adapter.mainAxis,i=t.anchorPoint[e];i=1==this.adapter.multiplier?1-i:i;var o=t.position[e];o+=t.size[e]*i*this.adapter.multiplier,this.overflowHeader=o}_calcOverflowHeader(t,e,i){var o=this.getVisibleIndexByGroupIndex(0);if(-1!=o){var n=this._visibleViews[o];return this._resetOverflowHeader(n.group)}var r=this.adapter.mainAxis,a=t.anchorPoint[r];a=1==this.adapter.multiplier?1-a:a;var l=t.oldSize[r],c=t.size[r],h=this.adapter.multiplier;switch(this.stretchDirection){case s.StretchDirection.Header:var u=t.oldPosition[r]+l*a*h;(d=1==h?this.overflowHeader>=u:this.overflowHeader<=u)&&(this.overflowHeader+=(c-l)*h);break;case s.StretchDirection.Footer:u=t.oldPosition[r]+l*a*h,(d=1==h?this.overflowHeader>=u:this.overflowHeader<=u)||(this.overflowHeader-=(c-l)*h);break;case s.StretchDirection.Center:u=t.oldPosition[r]+l*a*h,(d=1==h?this.overflowHeader>=u:this.overflowHeader<=u)?this.overflowHeader+=.5*(c-l)*h:this.overflowHeader-=.5*(c-l)*h;break;case s.StretchDirection.Auto:u=t.oldPosition[r]+l*a*h;var d=1==h?this.overflowHeader>=u:this.overflowHeader<=u;e<=i&&(u=t.oldPosition[r]+l*a*h,d=-1==h?this.overflowHeader>=u:this.overflowHeader<=u),d&&(e<=i?this.overflowHeader-=(c-l)*h:this.overflowHeader+=(c-l)*h)}}internal_lateUpdate(t){this._isFill&&(this._isFill=!1,this._forceFill()),this.emit(p.ON_LATEUPDATE,t)}internal_viewChanged(t,e){var i=t.group.size[this.adapter.mainAxis]-e;this.virtualSize+=i;var o=this.getVisibleIndexByGroupIndex(t.index),n=-1;if(this.getVisibleMainAxisSize()<this.adapter.mainAxisSize||this.stretchDirection==s.StretchDirection.Footer){let e=o-1;this._visibleViews[e]||this.adapter.layoutManager.layout(t.group),this._stretchToFooter(e,o)}else if(this.stretchDirection==s.StretchDirection.Header){let e=o+1;this._visibleViews[e]||this.adapter.layoutManager.layout(t.group),this._stretchToHeader(e,o)}else if(this.stretchDirection==s.StretchDirection.Center)this.adapter.layoutManager.layout(t.group),this._stretchToHeader(o,o-1),this._stretchToFooter(o,o+1);else{if(-1==(n=this.adapter.centerManager.getCenterVisibleIndex()))throw Error("\u627e\u4e0d\u5230\u4e2d\u5fc3\u7d22\u5f15"+t.index);var r=this._visibleViews[n];this.adapter.layoutManager.layout(r.group),this._stretchToHeader(n,n-1),this._stretchToFooter(n,n+1)}this._calcOverflowHeader(t.group,n,o),this.magneticSizeChanges&&this._calcMagnetic(),this._isFill=!0,this.emit(p.ON_CHANGED_VIRTUALSIZE)}internal_getHolder(t){var e=this._getHolderFromDisableHolders(t);if(!e){var i=this.adapter.getPrefab(t.data),o=cc.instantiate(i);e=this.adapter.getHolder(o,t.code)}return e.node.parent=this.adapter.scrollManager.getLayerNode(t.element.layer),e}internal_updateVisibleView(t){this._onModelChangeBefore(),this._updateGroups(t)}internal_getGroupFooterBoundary(t){if(!t)return 0;var e=t.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var i=t.position[this.adapter.mainAxis];return(i-=t.size[this.adapter.mainAxis]*e*this.adapter.multiplier)+this.adapter.scrollManager.contentPosition}internal_getGroupHeaderBoundary(t){if(!t)return 0;var e=t.anchorPoint[this.adapter.mainAxis];return e=1==this.adapter.multiplier?1-e:e,t.position[this.adapter.mainAxis]+this.adapter.scrollManager.contentPosition+e*t.size[this.adapter.mainAxis]*this.adapter.multiplier}internal_getInitHeaderSize(t){if(!t)return 0;var e=t.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?1-e:e;var i=-t.position[this.adapter.mainAxis]*this.adapter.multiplier;return i-=t.size[this.adapter.mainAxis]*e,i-=this.adapter.scrollManager.contentPosition*this.adapter.multiplier,this.adapter.mainAxisSize-i}internal_getInitFooterSize(t){if(!t)return 0;var e=t.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var i=-t.position[this.adapter.mainAxis]*this.adapter.multiplier;return(i+=t.size[this.adapter.mainAxis]*e)-this.adapter.scrollManager.contentPosition*this.adapter.multiplier}internal_accumulationSize(t){var e=this._groups[t];return e?e.size[this.adapter.mainAxis]+this.spacing:0}internal_convertSizeToFooterPosition(t,e){var i=e.anchorPoint[this.adapter.mainAxis];i=1==this.adapter.multiplier?i:1-i;var o=e.size[this.adapter.mainAxis]*i;return-this.adapter.scrollManager.contentPosition-(this.adapter.multiplier*t-this.adapter.multiplier*o)}internal_convertSizeToHeaderPosition(t,e){var i=e.anchorPoint[this.adapter.mainAxis];i=1==this.adapter.multiplier?1-i:i;var o=e.size[this.adapter.mainAxis]*i,n=this.adapter.multiplier*t-this.adapter.multiplier*o;return(n-=this.adapter.multiplier*this.adapter.mainAxisSize)-this.adapter.scrollManager.contentPosition}getGroup(t){return this._groups[t]}getVisibleView(t){return this._visibleViews[t]}getVisibleMainAxisSize(){if(0==this._visibleViews.length)return 0;var t=0,e=this.adapter.mainAxis;for(let i=0,o=this._visibleViews.length;i<o;i++){const o=this._visibleViews[i];o.group&&(t+=o.group.size[e]+this.spacing)}return t-this.spacing}getGroupIndexByModelIndex(t){for(let e=0,i=this._groups.length;e<i;e++)if(-1!=this._groups[e].findModelIndex(t))return e;return-1}getVisibleIndexByGroupIndex(t){return this._visibleViews.findIndex(e=>e.index==t)}getNextFixedHolders(t){var e=[];for(let i=this.getVisibleIndexByGroupIndex(t)+1,o=this._visibleViews.length;i<o;i++){const o=this._visibleViews[i];if(o.index!=t&&o.group.isFixed){e=o.getFixedHolders();break}}return e}getMagneticOffset(){if(!this.magnetic)return 0;var t=this.adapter.isHorizontal?-this.adapter.multiplier:this.adapter.multiplier;return this.magneticDirection==s.MagneticDirection.Footer?this.footer?Math.max(0,this.adapter.mainAxisSize-this.adapter.mainAxisPadding-this.getVisibleMainAxisSize())*t:this.adapter.mainAxisSize*t:0}};g.Event=p,o([d({type:s.ArrangeAxis})],g.prototype,"_arrangeAxis",void 0),o([d({type:s.ArrangeAxis,tooltip:"\u4e3b\u8f74\u65b9\u5411\u7684\u6392\u5217\u65b9\u5f0f\n        Start: \u4ece\u4e0a\u5230\u4e0b\u3001\u4ece\u5de6\u5230\u53f3\n        End: \u4ece\u4e0b\u5230\u4e0a\u3001\u4ece\u53f3\u5230\u5de6"})],g.prototype,"arrangeAxis",null),o([d({type:s.StretchDirection,tooltip:"\u5f53\u5143\u7d20\u7684\u5c3a\u5bf8\u3001\u7f29\u653e\u6539\u53d8\u65f6\uff0c\u53d7\u5f71\u54cd\u7684\u5176\u4ed6\u5143\u7d20\u5e94\u8be5\u5982\u4f55\u8ba1\u7b97\u65b0\u7684\u4f4d\u7f6e\n        Auto: \u4ee5\u53ef\u89c6\u533a\u57df\u4e2d\u5fc3\u4e3a\u8d77\u70b9\uff0c\u6240\u6709\u5176\u4ed6\u5143\u7d20\u5411\u4e24\u8fb9\u5ef6\u4f38\n        Center: \u4ee5\u5f53\u524d\u53d8\u5316\u7684\u5143\u7d20\u4e3a\u8d77\u70b9\uff0c\u6240\u6709\u5176\u4ed6\u5143\u7d20\u5411\u4e24\u8fb9\u5ef6\u4f38\n        Header: \u4ee5\u5f53\u524d\u53d8\u5316\u7684\u5143\u7d20\u548c\u5b83\u5934\u90e8\u7684\u6240\u6709\u5143\u7d20\u5411\u5934\u90e8\u5ef6\u4f38\n        Footer: \u4ee5\u5f53\u524d\u53d8\u5316\u7684\u5143\u7d20\u548c\u5b83\u5c3e\u90e8\u7684\u6240\u6709\u5143\u7d20\u5411\u5c3e\u90e8\u5ef6\u4f38"})],g.prototype,"stretchDirection",void 0),o([d({range:[0,1],slide:!0,step:.01,tooltip:"\u5f53\u5143\u7d20\u79fb\u52a8\u5230\u53ef\u89c6\u533a\u57df\u5916\u504f\u79fb\u591a\u5c11\u65f6\u624d\u8fdb\u884c\u56de\u6536\n        \u6bd4\u5982\u5143\u7d20\u7684\u5c3a\u5bf8\u4e3a100\uff0c\u5f53\u5143\u7d20\u8d85\u51fa\u53ef\u89c6\u8303\u56f4 100+100*0.3 \u65f6\u5c31\u4f1a\u88ab\u56de\u6536\n        \u6ca1\u6709\u7279\u6b8a\u9700\u6c42\u65f6\uff0c\u9ed8\u8ba4\u503c\u5373\u53ef"})],g.prototype,"overflowOffset",void 0),o([d({range:[0,1],slide:!0,step:.01,tooltip:"\u6b64\u503c\u4f1a\u5f71\u54cd\u586b\u5145\u5143\u7d20\u7684\u65f6\u673a\n        \u6ca1\u6709\u7279\u6b8a\u9700\u6c42\u65f6\uff0c\u9ed8\u8ba4\u503c\u5373\u53ef"})],g.prototype,"enterOffset",void 0),o([d()],g.prototype,"_spacing",void 0),o([d({tooltip:"\u4e3b\u8f74\u65b9\u5411\u5143\u7d20\u7684\u95f4\u9699"})],g.prototype,"spacing",null),o([d({group:{id:"padding",name:"padding"}})],g.prototype,"left",void 0),o([d({group:{id:"padding",name:"padding"}})],g.prototype,"right",void 0),o([d({group:{id:"padding",name:"padding"}})],g.prototype,"top",void 0),o([d({group:{id:"padding",name:"padding"}})],g.prototype,"bottom",void 0),o([d({tooltip:"\u78c1\u6027\u505c\u9760\n        \u5f00\u542f\u540e\uff0c\u4f1a\u5728\u589e\u52a0\u6570\u636e\u65f6\uff0c\u6839\u636e\u8bbe\u7f6e\u8fdb\u884c\u81ea\u52a8\u6eda\u52a8\u5230\u9876\u90e8\u6216\u5e95\u90e8"})],g.prototype,"magnetic",void 0),o([d({type:s.MagneticDirection,visible:function(){return this.magnetic},tooltip:"\u505c\u9760\u7684\u65b9\u5411"})],g.prototype,"magneticDirection",void 0),o([d({visible:function(){return this.magnetic},tooltip:"\u505c\u9760\u52a8\u753b\u7684\u65f6\u957f"})],g.prototype,"magneticDuration",void 0),o([d({visible:function(){return this.magnetic},tooltip:"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4ec5\u5f53\u6dfb\u52a0\u6570\u636e\u65f6\u624d\u4f1a\u89e6\u53d1\u505c\u9760\n        \u5f53\u5f00\u542f\u65f6\uff0c\u5143\u7d20\u7684\u5c3a\u5bf8\u6539\u53d8\u65f6,\u4e5f\u4f1a\u5426\u89e6\u53d1\u505c\u9760"})],g.prototype,"magneticSizeChanges",void 0),o([d({tooltip:"\u5934\u90e8\u5faa\u73af"})],g.prototype,"loopHeader",void 0),o([d({tooltip:"\u5c3e\u90e8\u5faa\u73af"})],g.prototype,"loopFooter",void 0),g=o([u("ViewManager")],g),i.ViewManager=g,cc._RF.pop()},{"../abstract/Group":"Group","../abstract/Manager":"Manager","../abstract/View":"View","../define/enum":"enum","../help/helper":"helper","./ModelManager":"ModelManager","./ScrollManager":"ScrollManager"}],ViewModel:[function(t,e,i){"use strict";cc._RF.push(e,"5b8cf+v25pJRJAVoZpBAFQm","ViewModel"),Object.defineProperty(i,"__esModule",{value:!0}),i.VM=void 0;const o=t("../../utils/Log"),n=t("../core/JsonOb"),r="VC:",a=!1;function s(t,e,i,n=""){let r=e.split(".");for(let a=0;a<r.length;a++){const s=r[a];if(s in t==0){o.Log.error("["+s+"] not find in "+n+"."+e);break}a==r.length-1?t[s]=i:t=t[s]}}function l(t,e,i,n=""){let r=e.split(".");for(let a=0;a<r.length;a++){const s=r[a];if(s in t==0)return o.Log.error("["+s+"] not find in "+n+"."+e),i;t=t[s]}return null==t&&(t=i),t}class c{constructor(t,e){this._tag=null,this.active=!0,this.emitToRootPath=!1,new n.JsonOb(t,this._callback.bind(this)),this.$data=t,this._tag=e}_callback(t,e,i){if(1==this.active){let o=r+this._tag+"."+i.join(".");if(a&&cc.log(">>",t,e,i),cc.director.emit(o,t,e,[this._tag].concat(i)),this.emitToRootPath&&cc.director.emit(r+this._tag,t,e,i),i.length>=2)for(let t=0;t<i.length-1;t++)i[t]}}setValue(t,e){s(this.$data,t,e,this._tag)}getValue(t,e){return l(this.$data,t,e,this._tag)}}i.VM=new class{constructor(){this._mvs=[],this.EMIT_HEAD=r,this.setObjValue=s,this.getObjValue=l}add(t,e="global",i=!1){let n=new c(t,e),r=this._mvs.find(t=>t.tag===e);e.includes(".")?o.Log.error("cant write . in tag:",e):r?o.Log.error("already set VM tag:"+e):(n.emitToRootPath=i,this._mvs.push({tag:e,vm:n}))}remove(t){let e=this._mvs.findIndex(e=>e.tag===t);e>=0&&this._mvs.splice(e,1)}get(t){let e=this._mvs.find(e=>e.tag===t);if(null!=e)return e.vm;o.Log.error("cant find VM from:",t)}addValue(t,e){let i=(t=t.trim()).split(".");i.length<2&&o.Log.error("Cant find path:"+t);let n=this.get(i[0]);if(!n)return void o.Log.error("Cant Set VM:"+i[0]);let r=i.slice(1).join(".");n.setValue(r,n.getValue(r)+e)}getValue(t,e){let i=(t=t.trim()).split(".");if(i.length<2)return void o.Log.error("Get Value Cant find path:"+t);let n=this.get(i[0]);if(n)return n.getValue(i.slice(1).join("."),e);o.Log.error("Cant Get VM:"+i[0])}setValue(t,e){let i=(t=t.trim()).split(".");if(i.length<2)return void o.Log.error("Set Value Cant find path:"+t);let n=this.get(i[0]);n?n.setValue(i.slice(1).join("."),e):o.Log.error("Cant Set VM:"+i[0])}bindPath(t,e,i,n){""!=(t=t.trim())?"*"!==t.split(".")[0]?cc.director.on(r+t,e,i,n):o.Log.error(t,"\u8def\u5f84\u4e0d\u5408\u6cd5,\u53ef\u80fd\u9519\u8bef\u8986\u76d6\u4e86 VMParent \u7684onLoad \u65b9\u6cd5, \u6216\u8005\u7236\u8282\u70b9\u5e76\u672a\u6302\u8f7d VMParent \u76f8\u5173\u7684\u7ec4\u4ef6\u811a\u672c"):o.Log.error(i.node.name,"\u8282\u70b9\u7ed1\u5b9a\u7684\u8def\u5f84\u4e3a\u7a7a")}unbindPath(t,e,i){"*"!==(t=t.trim()).split(".")[0]?cc.director.off(r+t,e,i):o.Log.error(t,"\u8def\u5f84\u4e0d\u5408\u6cd5,\u53ef\u80fd\u9519\u8bef\u8986\u76d6\u4e86 VMParent \u7684onLoad \u65b9\u6cd5, \u6216\u8005\u7236\u8282\u70b9\u5e76\u672a\u6302\u8f7d VMParent \u76f8\u5173\u7684\u7ec4\u4ef6\u811a\u672c")}inactive(){this._mvs.forEach(t=>{t.vm.active=!1})}active(){this._mvs.forEach(t=>{t.vm.active=!0})}},cc._RF.pop()},{"../../utils/Log":"Log","../core/JsonOb":"JsonOb"}],ViewZorder:[function(t,e,i){"use strict";cc._RF.push(e,"ed937XBlTZAB74OIONxPMWA","ViewZorder"),Object.defineProperty(i,"__esModule",{value:!0}),i.ViewZorder=void 0;class o{}i.ViewZorder=o,o.Scene=20,o.MenuPanel=80,o.UI=100,o.Dialog=200,o.Tips=300,o.Guide=400,o.Notice=500,o.Loading=600,cc._RF.pop()},{}],View:[function(t,e,i){"use strict";cc._RF.push(e,"71a1dw+pQJCMJGxCIJTziRn","View"),Object.defineProperty(i,"__esModule",{value:!0}),i.View=void 0;const o=t("../define/debug"),n=t("../define/enum"),r=t("../help/helper"),a=t("../manager/LayoutManager"),s=t("../manager/ViewManager"),{ccclass:l,property:c}=cc._decorator;i.View=class{constructor(t){this._total=0,this._innerSize=0,this._group=null,this._holderList=[],this._tempHolderList=[],this._adapter=t,this.internal_reset(),this.__createDebug()}get isOverflowFixed(){return this._isOverflowFixed}get adapter(){return this._adapter}get group(){return this._group}get holderList(){return this._holderList}get index(){return this.group?this.group.index:-1}__createDebug(){if(o.ADAPTER_DEBUG_VIEW){var t=new cc.Node("__DEBUG_VIEW_RECT__");t.parent=this.adapter.scrollManager.content,this.__debug_graphics=t.addComponent(cc.Graphics),this.__debug_graphics.lineWidth=o.DEBUG_DRAW_LIND_WIDTH,this.__debug_graphics.strokeColor=o.DEBUG_DRAW_LINE_COLOR}}__drawDebug(){if(this.__debug_graphics&&this.group){this.__debug_graphics.clear();var t=this.adapter.mainAxis,e=this.adapter.crossAxis,i={x:0,y:0},n={x:this.group.size.x,y:this.group.size.y},r={x:this.group.anchorPoint.x,y:this.group.anchorPoint.y};i[t]=this.group.position[t]-n[t]*r[t],i[t]+=.5*o.DEBUG_DRAW_LIND_WIDTH,i[e]=this.group.position[e]-n[e]*(1-r[e]),i[e]+=.5*o.DEBUG_DRAW_LIND_WIDTH,n[t]-=o.DEBUG_DRAW_LIND_WIDTH,n[e]-=o.DEBUG_DRAW_LIND_WIDTH,this.__debug_graphics.roundRect(i.x,i.y,n.x,n.y,2),this.__debug_graphics.stroke()}}getFixedHolders(){if(!this.group.isFixed)return[];var t=[],e=this.holderList.length;for(let i=0;i<e;i++){const e=this.holderList[i];e.model.element.fixed&&t.push(e)}return t}internal_isWrap(t,e){var i=!1,o=e&&e.models[e.models.length-1];if(o)switch(t.element.wrapBeforeMode){case n.WrapMode.Wrap:i=!0;break;case n.WrapMode.Nowrap:i=o.element.wrapAfterMode==n.WrapMode.Wrap;break;case n.WrapMode.Auto:(i=o.element.wrapAfterMode==n.WrapMode.Wrap)||(i=this._calculateInnerSize(t,e))}return i}internal_reset(){this._group=null,this._innerSize=0,this._total=0,this._holderList.length=0,this._isOverflowFixed=!0,this._tempHolderList.length=0,this.__debug_graphics&&this.__debug_graphics.clear()}internal_push(t){this._total++,this.adapter.mainAxis;var e=this.adapter.crossAxis;(!t.element.ignoreLayout||t.element.ignoreLayout&&t.element.placeholder)&&(0!=this._innerSize&&(this._innerSize+=this.adapter.layoutManager.spacing),this._innerSize+=t.size[e])}internal_recycleHolders(t){for(let e=0;e<this._holderList.length;e++){const i=this._holderList[e];i.internal_disable(),t(i)}this._holderList.length=0}internal_preVisible(t,e){return this._group=t,this._createHolders(e),this}internal_visible(){this.register();for(let t=0;t<this._tempHolderList.length;t++){const{holder:e,model:i,isNew:o}=this._tempHolderList[t];e.internal_visible(this,i,o)}this._tempHolderList.length=0,this.adapter.layoutManager.layout(this.group),this.onVisible()}internal_disable(){this.adapter.layoutManager.unLayout(this.index),this.unregister(),this.onDisable(),this.internal_reset()}internal_holderChanged(t){var e=!0,i=this.adapter.mainAxis,o=this.group.size[i];if(!t){var n=0;for(let t=0;t<this.group.models.length;t++){const e=this.group.models[t];var a=e.size[i];(this.adapter.isVertical&&this.adapter.layoutManager.controlScaleHeight||this.adapter.isHorizontal&&this.adapter.layoutManager.controlScaleWidth)&&(a*=e.scale[i]),n=Math.max(n,a)}r.Helper.approximately(this.group.size[i],n)||(this.group.oldSize[i]=this.group.size[i],this.group.size[i]=n,e=!1)}e?this.adapter.layoutManager.layout(this.group):this.adapter.viewManager.internal_viewChanged(this,o)}register(){this.adapter.viewManager.on(s.ViewManager.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.on(s.ViewManager.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.on(a.LayoutManager.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.on(a.LayoutManager.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)}unregister(){this.adapter.viewManager.off(s.ViewManager.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.off(s.ViewManager.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.off(a.LayoutManager.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.off(a.LayoutManager.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)}_createHolders(t){var e=this.adapter.mainAxis;this._tempHolderList.length=0;for(let n=0;n<this.group.models.length;n++){const r=this.group.models[n];var i=!1,o=t&&t(r);o||(o=this.adapter.viewManager.internal_getHolder(r),i=!0),r.position[e]=this.group.position[e],this._holderList.push(o),this._tempHolderList.push({holder:o,model:r,isNew:i})}}_calculateInnerSize(t,e){if(0==this._total)return!1;var i=t.size[this.adapter.crossAxis];return this._innerSize+i+this.adapter.layoutManager.spacing>e.size[this.adapter.crossAxis]}_onLayoutComplated(t){if(-1!=t.indexOf(this.index)){for(let t=0;t<this.holderList.length;t++)this.holderList[t].internal_layout();this.group.isFixed&&this._calcFixedPosition()}}_calcFixedPosition(){var t=this._holderList.length,e=this.adapter.mainAxis;for(let a=0;a<t;a++){const t=this._holderList[a];if(t.element.fixed){var i={x:t.model.position.x,y:t.model.position.y},o=0,n=this._getModelBoundary(t.model);if(this._isNeedFixed(n)){i[e]-=n;var r=this.adapter.viewManager.getNextFixedHolders(this.index);o=this._getRelativeNextHolderOffset(t,r)}i[e]+=o*this.adapter.multiplier,i[e]!=t.node.position[e]&&t.node.setPosition(i.x,i.y)}}}_onChangedLayoutState(){this.adapter.layoutManager.layout(this.group)}_onScroll(){this.group.isFixed&&0!=this._holderList.length&&this._calcFixedPosition()}_onLateUpdate(t){o.ADAPTER_DEBUG_VIEW&&this.group&&this.__drawDebug()}_isNeedFixed(t){return 1==this.adapter.multiplier?t>=0:t<=0}_getModelBoundary(t){var e=r.Helper.isNumber(t.element.fixedOffset)?t.element.fixedOffset:0;return 1==this.adapter.multiplier?this._getModelHeaderBoundary(t)+e:this._getModelFooterBoundary(t)-e}_getModelHeaderBoundary(t){var e=this.adapter.mainAxis;return t.position[e]+t.size[e]*(1-t.anchorPoint[e])*t.scale[e]+this.adapter.scrollManager.contentPosition}_getModelFooterBoundary(t){var e=this.adapter.mainAxis;return t.position[e]-t.size[e]*t.anchorPoint[e]*t.scale[e]+this.adapter.scrollManager.contentPosition}_getModelSizeWithSpacing(t){var e=this.adapter.mainAxis,i=r.Helper.isNumber(t.element.fixedOffset)?t.element.fixedOffset:0,o=r.Helper.isNumber(t.element.fixedSpacing)?t.element.fixedSpacing:this.adapter.viewManager.spacing;return t.size[e]*t.scale[e]+i+o}_getReatureRelativeBoundary(t,e){var i=1==this.adapter.multiplier?this._getModelHeaderBoundary(t):this._getModelFooterBoundary(t),o=1==this.adapter.multiplier?i+e:e-i;return Math.min(o,e)}_getRelativeNextHolderOffset(t,e){var i=e.length,o=this.adapter.crossAxis,n=this._getModelSizeWithSpacing(t.model),r=0;for(let c=0;c<i;c++){const i=e[c];var a=this._getReatureRelativeBoundary(i.model,n),s=t.model.scale[o]==i.model.scale[o],l=t.model.size[o]==i.model.size[o];if(t.fixedIndex==i.fixedIndex&&s&&l){r=a>0?a:0;break}a>0&&(r=Math.max(r,a))}return r}},cc._RF.pop()},{"../define/debug":"debug","../define/enum":"enum","../help/helper":"helper","../manager/LayoutManager":"LayoutManager","../manager/ViewManager":"ViewManager"}],VirtualItem:[function(t,e,i){"use strict";cc._RF.push(e,"6cd13v/CedJMJyctZtgGf5s","VirtualItem");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../ui/UIBase"),{ccclass:r,property:a,disallowMultiple:s}=cc._decorator;let l=class extends n.default{constructor(){super(...arguments),this.DataIdx=0}onInitItem(...t){}setOtherNode(...t){}onReset(){}getRealSize(){return this.node.getContentSize()}};l=o([r,s],l),i.default=l,cc._RF.pop()},{"../ui/UIBase":"UIBase"}],VirtualLayout:[function(t,e,i){"use strict";cc._RF.push(e,"2ec83SUD9FFJoQslAHgO79L","VirtualLayout");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=t("./VirtualItem"),r=t("./VirtualList"),{ccclass:a,property:s,disallowMultiple:l,menu:c}=cc._decorator;var h,u,d,p;(function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t[t.GRID=2]="GRID"})(h||(h={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(u||(u={})),function(t){t[t.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT"}(d||(d={})),function(t){t[t.TOP_TO_BOTTOM=0]="TOP_TO_BOTTOM",t[t.BOTTOM_TO_TOP=1]="BOTTOM_TO_TOP"}(p||(p={}));let g=class extends cc.Component{constructor(){super(...arguments),this.Type=h.VERTICAL,this.StartAxis=u.HORIZONTAL,this.Left=0,this.Right=0,this.Top=0,this.Bottom=0,this.SpacingX=0,this.SpacingY=0,this.VerticalDirection=p.TOP_TO_BOTTOM,this.HorizontalDirection=d.LEFT_TO_RIGHT,this._view=null,this._viewEdge=null,this._fixedSize=null,this._sizeDirty=!1,this._viewDirty=!1,this._items=[],this._itemPool=[],this._otherItemsArr=[],this._otherItemPoolArr=[],this.list=null,this.dataArr=[]}onInit(){this._view=this.node.parent,this._viewEdge=this.getNodeEdgeRect(this._view),this._otherItemsArr=[],this._otherItemPoolArr=[],this.list.Others.forEach(()=>{this._otherItemsArr.push([]),this._otherItemPoolArr.push([])}),this.list.IsFixedSize&&null===this._fixedSize&&(this.addItemNode(!1),this._fixedSize=this._itemPool[0].getContentSize()),this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this)}onDestroy(){this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this)}lateUpdate(){this.updateSize(),this.updateView()}updateSize(){this._sizeDirty&&(this._sizeDirty=!1,this.list.IsFixedSize?this.updateSizeFixed():this.updateSizeUnfixed())}updateSizeFixed(){if(this.Type===h.VERTICAL){if(this.dataArr.length<=0)return void(this.node.height=0);this.node.height=this.Top+this.Bottom+(this.dataArr.length-1)*this.SpacingY+this._fixedSize.height*this.dataArr.length}else if(this.Type===h.HORIZONTAL){if(this.dataArr.length<=0)return void(this.node.width=0);this.node.width=this.Left+this.Right+(this.dataArr.length-1)*this.SpacingX+this._fixedSize.width*this.dataArr.length}else if(this.StartAxis===u.HORIZONTAL){if(this.dataArr.length<=0)return void(this.node.height=0);let t=Math.floor((this.node.width-this.Left-this.Right+this.SpacingX)/(this._fixedSize.width+this.SpacingX));t=Math.max(t,1);let e=Math.ceil(this.dataArr.length/t);this.node.height=this.Top+this.Bottom+(e-1)*this.SpacingY+this._fixedSize.height*e}else{if(this.dataArr.length<=0)return void(this.node.width=0);let t=Math.floor((this.node.height-this.Top-this.Bottom+this.SpacingY)/(this._fixedSize.height+this.SpacingY));t=Math.max(t,1);let e=Math.ceil(this.dataArr.length/t);this.node.width=this.Left+this.Right+(e-1)*this.SpacingX+this._fixedSize.width*e}}updateSizeUnfixed(){}updateView(){!this._viewDirty||this.dataArr.length<=0||(this._viewDirty=!1,this.list.IsFixedSize?this.updateViewFixed():this.updateViewUnfixed())}updateViewFixed(){let t,e,i,o,r=this.checkViewItem(),a=r.inView,s=r.outView,l=this.getNodeEdgeRect(this.node);if(this.Type===h.VERTICAL)for(let c=0;c<this.dataArr.length;c++){if(this.VerticalDirection===p.TOP_TO_BOTTOM){if(o=(i=l.yMax-(this.Top+c*this.SpacingY+this._fixedSize.height*c))-this._fixedSize.height,i+this.node.y<this._viewEdge.yMin)return;if(o+this.node.y>this._viewEdge.yMax)continue}else{if(i=(o=l.yMin+this.Bottom+c*this.SpacingY+this._fixedSize.height*c)+this._fixedSize.height,o+this.node.y>this._viewEdge.yMax)return;if(i+this.node.y<this._viewEdge.yMin)continue}if(-1!==a.findIndex(t=>this._items[t].getComponent(n.default).DataIdx===c))continue;let t=0===s.length?this.addItemNode():s.shift(),e=this._items[t];this.setItem(cc.v3(0,o+e.anchorY*e.height),c,t)}else if(this.Type===h.HORIZONTAL)for(let c=0;c<this.dataArr.length;c++){if(this.HorizontalDirection===d.RIGHT_TO_LEFT){if(e=(t=l.xMax-(this.Right+c*this.SpacingX+this._fixedSize.width*c))-this._fixedSize.width,t+this.node.x<this._viewEdge.xMin)return;if(e+this.node.x>this._viewEdge.xMax)continue}else{if(t=(e=l.xMin+this.Left+c*this.SpacingX+this._fixedSize.width*c)+this._fixedSize.width,e+this.node.x>this._viewEdge.xMax)return;if(t+this.node.x<this._viewEdge.xMin)continue}if(-1!==a.findIndex(t=>this._items[t].getComponent(n.default).DataIdx===c))continue;let i=0===s.length?this.addItemNode():s.shift(),o=this._items[i];this.setItem(cc.v3(e+o.anchorX*o.width,0),c,i)}else for(let c=0;c<this.dataArr.length;c++){let r=0,h=0;if(this.StartAxis===u.HORIZONTAL){let n=Math.floor((this.node.width-this.Left-this.Right+this.SpacingX)/(this._fixedSize.width+this.SpacingX));if(n=Math.max(n,1),r=Math.floor(c/n),h=c%n,this.VerticalDirection===p.TOP_TO_BOTTOM){if(o=(i=l.yMax-(this.Top+r*this.SpacingY+this._fixedSize.height*r))-this._fixedSize.height,i+this.node.y<this._viewEdge.yMin)return;if(o+this.node.y>this._viewEdge.yMax)continue}else{if(i=(o=l.yMin+this.Bottom+r*this.SpacingY+this._fixedSize.height*r)+this._fixedSize.height,o+this.node.y>this._viewEdge.yMax)return;if(i+this.node.y<this._viewEdge.yMin)continue}if(this.HorizontalDirection===d.RIGHT_TO_LEFT){if(e=(t=l.xMax-(this.Right+h*this.SpacingX+this._fixedSize.width*h))-this._fixedSize.width,t+this.node.x<this._viewEdge.xMin)continue;if(e+this.node.x>this._viewEdge.xMax)continue}else{if(t=(e=l.xMin+this.Left+h*this.SpacingX+this._fixedSize.width*h)+this._fixedSize.width,e+this.node.x>this._viewEdge.xMax)continue;if(t+this.node.x<this._viewEdge.xMin)continue}}else{let n=Math.floor((this.node.height-this.Top-this.Bottom+this.SpacingY)/(this._fixedSize.height+this.SpacingY));if(n=Math.max(n,1),r=c%n,h=Math.floor(c/n),this.HorizontalDirection===d.RIGHT_TO_LEFT){if(e=(t=l.xMax-(this.Right+h*this.SpacingX+this._fixedSize.width*h))-this._fixedSize.width,t+this.node.x<this._viewEdge.xMin)return;if(e+this.node.x>this._viewEdge.xMax)continue}else{if(t=(e=l.xMin+this.Left+h*this.SpacingX+this._fixedSize.width*h)+this._fixedSize.width,e+this.node.x>this._viewEdge.xMax)return;if(t+this.node.x<this._viewEdge.xMin)continue}if(this.VerticalDirection===p.TOP_TO_BOTTOM){if(o=(i=l.yMax-(this.Top+r*this.SpacingY+this._fixedSize.height*r))-this._fixedSize.height,i+this.node.y<this._viewEdge.yMin)continue;if(o+this.node.y>this._viewEdge.yMax)continue}else{if(i=(o=l.yMin+this.Bottom+r*this.SpacingY+this._fixedSize.height*r)+this._fixedSize.height,o+this.node.y>this._viewEdge.yMax)continue;if(i+this.node.y<this._viewEdge.yMin)continue}}if(-1!==a.findIndex(t=>this._items[t].getComponent(n.default).DataIdx===c))continue;let g=0===s.length?this.addItemNode():s.shift(),_=this._items[g];this.setItem(cc.v3(e+_.anchorX*_.width,o+_.anchorY*_.height),c,g)}}updateViewUnfixed(){}checkViewItem(){return this.list.IsFixedSize?this.checkViewItemFixed():this.checkViewItemUnfixed()}checkViewItemFixed(){let t=[],e=[];if(this.Type===h.VERTICAL)for(let i=0;i<this._items.length;i++){let o=this._items[i].getBoundingBox();o.yMin+this.node.y<=this._viewEdge.yMax&&o.yMax+this.node.y>=this._viewEdge.yMin?t.push(i):e.push(i)}else if(this.Type===h.HORIZONTAL)for(let i=0;i<this._items.length;i++){let o=this._items[i].getBoundingBox();o.xMin+this.node.x<=this._viewEdge.xMax&&o.xMax+this.node.x>=this._viewEdge.xMin?t.push(i):e.push(i)}else for(let i=0;i<this._items.length;i++){let o=this._items[i].getBoundingBox();o.xMin+this.node.x<=this._viewEdge.xMax&&o.xMax+this.node.x>=this._viewEdge.xMin&&o.yMin+this.node.y<=this._viewEdge.yMax&&o.yMax+this.node.y>=this._viewEdge.yMin?t.push(i):e.push(i)}return{inView:t,outView:e}}checkViewItemUnfixed(){return{inView:[],outView:[]}}setItem(t,e,i){let o=this._items[i];o.position=t;let r=o.getComponent(n.default);if(r.DataIdx=e,r.onInitItem(...this.dataArr[e]),this.list.Others.length>0){let e=[];this._otherItemsArr.forEach(o=>{o[i].position=t,e.push(o[i])}),r.setOtherNode(...e)}}addItemNode(t=!0){let e=null;if(this._itemPool.length>0)(e=this._itemPool.pop()).active=!0,this._items.push(e),this._otherItemPoolArr.forEach((t,e)=>{let i=t.pop();i.active=!0,this._otherItemsArr[e].push(i)});else{let i=this.list.Main.TemplateType===r.TemplateType.PREFAB?this.list.Main.TemplatePrefab:this.list.Main.TemplateNode;(e=cc.instantiate(i)).getComponent(n.default)||e.addComponent(n.default),this.node.addChild(e),t?(e.active=!0,this._items.push(e)):(e.active=!1,this.putItemNode(e)),this.list.Others.forEach((e,i)=>{let o=e.TemplateType===r.TemplateType.PREFAB?e.TemplatePrefab:e.TemplateNode,n=cc.instantiate(o);e.Content.addChild(n),t?(n.active=!0,this._otherItemsArr[i].push(n)):(n.active=!1,this.putItemNode(n,!0,i))})}return this._items.length-1}putItemNode(t,e=!1,i=0){t.active=!1,e?this._otherItemPoolArr[i].push(t):(t.getComponent(n.default).onReset(),this._itemPool.push(t))}convertToParentPos(t,e){return t.add(e.position)}convertToChildPos(t,e){return t.sub(e.position)}getNodeEdgeRect(t){return cc.rect(-t.width*t.anchorX,-t.height*t.anchorY,t.width,t.height)}onPositionChanged(){this._viewDirty=!0,this.list.Others.forEach(t=>{t.Content.position=this.node.position})}clearAllItem(){this._items.forEach((t,e)=>{this.putItemNode(t),this._otherItemsArr.forEach((t,i)=>{this.putItemNode(t[e],!0,i)})}),this._items.length=0,this._otherItemsArr.forEach(t=>{t.length=0})}getScrollOffset(t,e,i){return t=Math.min(t,this.dataArr.length-1),this.list.IsFixedSize?this.getScrollOffsetFixed(t,e,i):this.getScrollOffsetUnfixed(t,e,i)}getScrollOffsetFixed(t,e,i){let o,n,r,a,s=this.getNodeEdgeRect(this.node);if(this.Type===h.VERTICAL){this.VerticalDirection===p.TOP_TO_BOTTOM?a=(r=s.yMax-(this.Top+t*this.SpacingY+this._fixedSize.height*t))-this._fixedSize.height:r=(a=s.yMin+this.Bottom+t*this.SpacingY+this._fixedSize.height*t)+this._fixedSize.height;let o=this._viewEdge.xMin-(s.xMin+this.node.x),n=s.yMax-(this._fixedSize.height*e.y+a)-(1-i.y)*this._viewEdge.height;return cc.v2(o,n)}if(this.Type===h.HORIZONTAL){this.HorizontalDirection===d.RIGHT_TO_LEFT?n=(o=s.xMax-(this.Right+t*this.SpacingX+this._fixedSize.width*t))-this._fixedSize.width:o=(n=s.xMin+this.Left+t*this.SpacingX+this._fixedSize.width*t)+this._fixedSize.width;let r=this._fixedSize.width*e.x+n-s.xMin-i.x*this._viewEdge.width,a=s.yMax-(this._viewEdge.yMax-this.node.y);return cc.v2(r,a)}{let l=0,c=0;if(this.StartAxis===u.HORIZONTAL){let e=Math.floor((this.node.width-this.Left-this.Right+this.SpacingX)/(this._fixedSize.width+this.SpacingX));e=Math.max(e,1),l=Math.floor(t/e),c=t%e}else{let e=Math.floor((this.node.height-this.Top-this.Bottom+this.SpacingY)/(this._fixedSize.height+this.SpacingY));l=t%(e=Math.max(e,1)),c=Math.floor(t/e)}this.VerticalDirection===p.TOP_TO_BOTTOM?a=(r=s.yMax-(this.Top+l*this.SpacingY+this._fixedSize.height*l))-this._fixedSize.height:r=(a=s.yMin+this.Bottom+l*this.SpacingY+this._fixedSize.height*l)+this._fixedSize.height,this.HorizontalDirection===d.RIGHT_TO_LEFT?n=(o=s.xMax-(this.Right+c*this.SpacingX+this._fixedSize.width*c))-this._fixedSize.width:o=(n=s.xMin+this.Left+c*this.SpacingX+this._fixedSize.width*c)+this._fixedSize.width;let h=this._fixedSize.width*e.x+n-s.xMin-i.x*this._viewEdge.width,g=s.yMax-(this._fixedSize.height*e.y+a)-(1-i.y)*this._viewEdge.height;return cc.v2(h,g)}}getScrollOffsetUnfixed(t,e,i){return null}reset(t,...e){t>=0&&t<this.dataArr.length&&(this.dataArr[t]=e,this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0)}push(...t){this.dataArr.push(t),this._sizeDirty=!0,this._viewDirty=!0}pop(){this.dataArr.pop(),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0}clearAll(){this.dataArr=[],this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0}unshift(...t){this.dataArr.unshift(t),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0}shift(){this.dataArr.shift(),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0}splice(t,e,...i){void 0===e?this.dataArr.splice(t):void 0===i||0===i.length?this.dataArr.splice(t,e):this.dataArr.splice(t,e,...i),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0}sort(t){this.dataArr.sort(t),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0}};o([s({type:cc.Enum(h),tooltip:!1})],g.prototype,"Type",void 0),o([s({type:cc.Enum(u),tooltip:!1,visible(){return this.Type===h.GRID}})],g.prototype,"StartAxis",void 0),o([s({visible(){return this.Type===h.HORIZONTAL||this.Type===h.GRID}})],g.prototype,"Left",void 0),o([s({visible(){return this.Type===h.HORIZONTAL||this.Type===h.GRID}})],g.prototype,"Right",void 0),o([s({visible(){return this.Type===h.VERTICAL||this.Type===h.GRID}})],g.prototype,"Top",void 0),o([s({visible(){return this.Type===h.VERTICAL||this.Type===h.GRID}})],g.prototype,"Bottom",void 0),o([s({visible(){return this.Type===h.HORIZONTAL||this.Type===h.GRID}})],g.prototype,"SpacingX",void 0),o([s({visible(){return this.Type===h.VERTICAL||this.Type===h.GRID}})],g.prototype,"SpacingY",void 0),o([s({type:cc.Enum(p),visible(){return this.Type===h.VERTICAL||this.Type===h.GRID}})],g.prototype,"VerticalDirection",void 0),o([s({type:cc.Enum(d),visible(){return this.Type===h.HORIZONTAL||this.Type===h.GRID}})],g.prototype,"HorizontalDirection",void 0),g=o([a,l],g),i.default=g,cc._RF.pop()},{"./VirtualItem":"VirtualItem","./VirtualList":"VirtualList"}],VirtualList:[function(t,e,i){"use strict";cc._RF.push(e,"7144ex9rlJN/79EVSGTCdde","VirtualList");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.VirtualLayoutData=i.TemplateType=void 0;const n=t("./VirtualLayout"),{ccclass:r,property:a,requireComponent:s,executeInEditMode:l,disallowMultiple:c,menu:h}=cc._decorator;var u;(function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB"})(u=i.TemplateType||(i.TemplateType={}));let d=class{constructor(){this.Content=null,this.TemplateType=u.PREFAB,this.TemplatePrefab=null,this.TemplateNode=null,this._isMain=!1}};o([a({type:cc.Node,tooltip:!1,visible(){return!this._isMain}})],d.prototype,"Content",void 0),o([a({type:cc.Enum(u),tooltip:!1})],d.prototype,"TemplateType",void 0),o([a({type:cc.Prefab,tooltip:!1,visible(){return this.TemplateType===u.PREFAB}})],d.prototype,"TemplatePrefab",void 0),o([a({type:cc.Node,tooltip:!1,visible(){return this.TemplateType===u.NODE}})],d.prototype,"TemplateNode",void 0),o([a(cc.Boolean)],d.prototype,"_isMain",void 0),d=o([r("VirtualLayoutData")],d),i.VirtualLayoutData=d;let p=class extends cc.Component{constructor(){super(...arguments),this.Main=new d,this.Others=[],this.IsFixedSize=!0,this._scrollView=null,this._layout=null}onLoad(){this._scrollView=this.getComponent(cc.ScrollView),this._layout=this._scrollView.content.getComponent(n.default),this._layout&&(this._layout.list=this,this._layout.onInit())}resetInEditor(){}_runEditor(){let t=this.getComponent(cc.ScrollView),e=t.content.getComponent(n.default);this.Main.Content||(this.Main.Content=t.content,this.Main._isMain=!0),e||t.content.addComponent(n.default)}scrollItemToView(t,e=cc.v2(),i=cc.v2(),o=0,n=!0){this._scrollView.scrollToOffset(this._layout.getScrollOffset(t,e,i),o,n)}getDataArr(){return this._layout.dataArr}reset(t,...e){this._layout.reset(t,...e)}push(...t){this._layout.push(...t)}pop(){this._layout.pop()}clearAll(){this._layout.clearAll()}unshift(...t){this._layout.unshift(...t)}shift(){this._layout.shift()}splice(t,e,...i){this._layout.splice(t,e,...i)}sort(t){this._layout.sort(t)}};o([a({type:d,tooltip:!1})],p.prototype,"Main",void 0),o([a({type:d,tooltip:!1})],p.prototype,"Others",void 0),o([a({visible:!1,tooltip:!1})],p.prototype,"IsFixedSize",void 0),p=o([r,c,l,s(cc.ScrollView),h("Framework/UI\u7ec4\u4ef6/VirtualList")],p),i.default=p,cc._RF.pop()},{"./VirtualLayout":"VirtualLayout"}],Websocket:[function(t,e,i){"use strict";cc._RF.push(e,"664d0LJZN1AEo+aNsNrxcSc","Websocket"),Object.defineProperty(i,"__esModule",{value:!0}),i.Websocket=void 0;const o=t("../utils/Log");i.Websocket=class{constructor({url:t,pingTimeout:e=15e4,pongTimeout:i=15e4,reconnectTimeout:n=2e3,pingMsg:r="heartbeat",repeatLimit:a=null}){this.ws=null,this.repeat=0,this.forbidReconnect=!1,this.forgroundCount=-1,this.isWx=cc.sys.platform==cc.sys.WECHAT_GAME,this.hasAddEvent=!1,this.isHide=!1,this.onclose=()=>{},this.onerror=()=>{},this.onopen=()=>{},this.onmessage=()=>{},this.onreconnect=()=>{},this.createWebSocket=function(){if(!this.ws||this.ws.readyState!=this.ws.OPEN)try{this.isWx?this.ws=wx.connectSocket({url:this.opts.url,success:function(){o.Log.log("wx connect socket success")},fail:function(){o.Log.log("wx connect socket fail")}}):this.ws=new WebSocket(this.opts.url,[]),this.initEventHandle()}catch(t){throw o.Log.log("createWebSocket error",t),this.reconnect(),t}},this.initEventHandle=function(){this.isWx?(this.ws.onClose(function(){o.Log.log("wx --\x3e onClose..."),this.onclose(),this.reconnect()}.bind(this)),this.ws.onError(function(t){o.Log.log("wx --\x3e onError...",t),this.onerror(),this.reconnect()}.bind(this)),this.ws.onOpen(function(){o.Log.log("wx --\x3e onOpen..."),this.hasAddEvent||(this.hasAddEvent=!0,cc.game.on(cc.game.EVENT_SHOW,this.applocationShow,this),cc.game.on(cc.game.EVENT_HIDE,this.applocationHide,this)),this.repeat=0,this.onopen(),this.heartCheck()}.bind(this)),this.ws.onMessage(function(t){this.onmessage(t),this.heartCheck()}.bind(this))):(this.ws.onclose=()=>{o.Log.log("ws --\x3e onclose..."),this.onclose(),this.reconnect()},this.ws.onerror=t=>{o.Log.log("ws --\x3e onerror...",t),this.onerror(),this.reconnect()},this.ws.onopen=()=>{o.Log.log("ws --\x3e onopen..."),this.hasAddEvent||(this.hasAddEvent=!0,cc.game.on(cc.game.EVENT_SHOW,this.applocationShow,this),cc.game.on(cc.game.EVENT_HIDE,this.applocationHide,this)),this.repeat=0,this.onopen(),this.heartCheck()},this.ws.onmessage=t=>{this.onmessage(t)})},this.reconnect=function(){this.ws&&this.ws.readyState==this.ws.OPEN?o.Log.log("reconnect--------\u91cd\u590d\u8fde\u63a5"):this.opts.repeatLimit>0&&this.opts.repeatLimit<=this.repeat||this.lockReconnect||this.forbidReconnect||(this.lockReconnect=!0,this.repeat++,this.onreconnect(),setTimeout(()=>{this.createWebSocket(),this.lockReconnect=!1},this.opts.reconnectTimeout))},this.send=function(t){this.ws&&this.ws.readyState==this.ws.OPEN?this.isWx?this.ws.send({data:t,success:function(){}}):this.ws.send(t):o.Log.log("\u53d1\u9001\u5931\u8d25:",JSON.stringify(t))},this.heartCheck=function(){this.heartReset(),this.heartStart()},this.heartStart=function(){this.forbidReconnect||(this.pingTimeoutId=setTimeout(()=>{this.ws.send(this.opts.pingMsg),this.pongTimeoutId=setTimeout(()=>{this.ws.close(),this.onreconnect()},this.opts.pongTimeout)},this.opts.pingTimeout))},this.heartReset=function(){clearTimeout(this.pongTimeoutId)},this.close=function(){o.Log.log("\u4e3b\u52a8\u65ad\u5f00 ws"),this.forbidReconnect=!0,this.heartReset(),this.ws.close()},this.opts={url:t,pingTimeout:e,pongTimeout:i,reconnectTimeout:n,pingMsg:r,repeatLimit:a},this.createWebSocket(),cc.game.off(cc.game.EVENT_SHOW),cc.game.off(cc.game.EVENT_HIDE)}applocationShow(){o.Log.log("game show"),this.isHide&&(this.isHide=!1,this.forbidReconnect=!1,-1!=this.forgroundCount&&clearTimeout(this.forgroundCount),this.forgroundCount=setTimeout(()=>{this.createWebSocket()},500))}applocationHide(){o.Log.log("game hide"),this.isHide=!0,this.close()}},cc._RF.pop()},{"../utils/Log":"Log"}],XcxSdk:[function(t,e,i){"use strict";cc._RF.push(e,"67eb4yZV0lJc5XohgONVb2u","XcxSdk");var o=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,r){function a(t){try{l(o.next(t))}catch(e){r(e)}}function s(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((o=o.apply(t,e||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../../utils/Log"),r=t("../const/FrameEventConst"),a=t("../lib/base64"),s=t("../lib/crypto"),l=t("../manager/AudioMng"),c=t("../manager/EventMng"),h=t("../model/IDataModel");i.default=class extends h.default{constructor(){super(),this.wxRun=0,this.env={uploadImageUrl:"xxxx",AccessKeySecret:"xxxx",OSSAccessKeyId:"xxxx",timeout:8e4},wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),wx.onShareAppMessage(()=>({title:"I`m Shark",imageUrl:"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep4iaauHk6qmCLM3ASY3ia0CKibSPF3FzFyc3IXR5yZA9uAFXVyGaDTqyX1LB6WpjrB4picu4K7lnXgGw/132",query:"uid=0"})),wx.onShareTimeline(()=>({title:"I`m Shark",imageUrl:"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep4iaauHk6qmCLM3ASY3ia0CKibSPF3FzFyc3IXR5yZA9uAFXVyGaDTqyX1LB6WpjrB4picu4K7lnXgGw/132",query:"uid=0"})),wx.onShow(({query:t})=>{n.Log.log("wx.onShow---\x3equery:",t),this.setQueryData(t)}),wx.onHide(()=>{n.Log.log("wx.onHide")});const{query:t}=wx.getLaunchOptionsSync();n.Log.log("wx.getLaunchOptionsSync---\x3equery:",t),this.setQueryData(t)}setQueryData(t){t.uid}shareAppMessage(){this.shareStartTime=Math.floor((new Date).getTime()/1e3),wx.shareAppMessage({title:"I`m Shark",imageUrl:"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep4iaauHk6qmCLM3ASY3ia0CKibSPF3FzFyc3IXR5yZA9uAFXVyGaDTqyX1LB6WpjrB4picu4K7lnXgGw/132",query:"uid=0"})}getWeRunData(){var t=this;wx.getWeRunData({success(e){return o(this,void 0,void 0,function*(){n.Log.log("getWeRunData",e);const i=e.encryptedData;var o={encryptData:i,iv:e.iv,encryptedData:t.replacenormalcharacter(i)},r=yield t.getEncryptedData(o);t.wxRun=r[r.length-1].step})},fail(e){n.Log.log("res===get==fail======",e),t.wxRun=0}})}previewImage(t){wx.previewImage({current:t,urls:[t]})}navigateToMiniProgram(t){wx.navigateToMiniProgram({appId:t,success(t){n.Log.log("\u8df3\u8f6c\u5c0f\u7a0b\u5e8f\u6210\u529f")}})}createVideo(t){l.AudioMng.getInstance().pauseAll();let e=wx.createVideo({x:0,y:0,src:t,autoplay:!0,initialTime:0,width:wx.getSystemInfoSync().windowWidth,height:wx.getSystemInfoSync().windowHeight,controls:!1,showProgress:!1,showProgressInControlMode:!1});e.onEnded(t=>{n.Log.log("=========end",t),c.default.emit(r.FrameEventConst.WX_VIDEO_FINISH),l.AudioMng.getInstance().resumeAll(),e.destroy()})}chooseImage(){var t=this;wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var i=e.tempFilePaths;n.Log.log("tempFilePaths",i);for(var o=t.formatTime(new Date),a=0;a<e.tempFilePaths.length;a++)wx.showLoading({title:"\u4e0a\u4f20\u4e2d"+(a+1)+"/"+e.tempFilePaths.length,mask:!0}),t.uploadFile(e.tempFilePaths[a],"images/"+o+"/",function(t){n.Log.log("======\u4e0a\u4f20\u6210\u529f\u56fe\u7247\u5730\u5740\u4e3a\uff1a",t),c.default.emit(r.FrameEventConst.WX_UPLOAD_IMG_SUCCESS,t),wx.hideLoading()},function(t){n.Log.log("======\u4e0a\u4f20\u5931\u8d25======",t),wx.hideLoading()})}})}uploadFile(t,e,i,o){if(!t||t.length<1)return void wx.showModal({title:"\u56fe\u7247\u9519\u8bef",content:"\u8bf7\u91cd\u8bd5",showCancel:!1});n.Log.log("\u4e0a\u4f20\u56fe\u7247.....");const r=e+(new Date).getTime()+Math.floor(150*Math.random())+".png",a=this.env.uploadImageUrl,s=this.env.OSSAccessKeyId,l=this.getPolicyBase64(),c=this.getSignature(l);wx.uploadFile({url:a,filePath:t,name:"file",formData:{key:r,policy:l,OSSAccessKeyId:s,signature:c,success_action_status:"200"},success:function(t){200==t.statusCode?i(a+r):o(new Error("\u4e0a\u4f20\u9519\u8bef:"+JSON.stringify(t)))},fail:function(t){t.wxaddinfo=a,o(t)}})}getPolicyBase64(){let t=new Date;t.setHours(t.getHours()+this.env.timeout);const e={expiration:t.toISOString(),conditions:[["content-length-range",0,5242880]]};return a.base64.encode(JSON.stringify(e))}getSignature(t){const e=this.env.AccessKeySecret,i=s.Cryptos.HMAC(t,e,{asBytes:!0});return s.Cryptos.util.bytesToBase64(i)}formatTime(t){const e=t.getFullYear(),i=t.getMonth()+1,o=t.getDate();return t.getHours(),t.getMinutes(),t.getSeconds(),[e,i,o].map(this.formatNumber).join("-")}formatNumber(t){return(t=t.toString())[1]?t:"0"+t}getEncryptedData(t){return new Promise(e=>{this.sendHttpMsg("login/wxcheck",t,function(t){let i=t.data;e(i.data.res.stepInfoList)}.bind(this))})}replacenormalcharacter(t){return t.replace(/\=/g,"~").replace(/\//g,"_").replace(/\+/g,"-")}},cc._RF.pop()},{"../../utils/Log":"Log","../const/FrameEventConst":"FrameEventConst","../lib/base64":"base64","../lib/crypto":"crypto","../manager/AudioMng":"AudioMng","../manager/EventMng":"EventMng","../model/IDataModel":"IDataModel"}],auto_baoxiang:[function(t,e,i){"use strict";cc._RF.push(e,"d4e05rZjiRM9omOZydNF7mK","auto_baoxiang");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.baoxiang=this.node,this.sp_baoxiang=this.baoxiang.getChildByName("baoxiang")}};r.URL="db://assets/resources/prefab/baoxiang.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_choseRoomLayer:[function(t,e,i){"use strict";cc._RF.push(e,"58946XfbLZKxpiM751KchRO","auto_choseRoomLayer");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.choseRoomLayer=this.node,this.btn_close=this.choseRoomLayer.getChildByName("btn_close"),this.layout=this.choseRoomLayer.getChildByName("layout"),this.btn_1=this.layout.getChildByName("btn_1"),this.node_room1_type1=this.btn_1.getChildByName("node_room1_type1"),this.houzi1=this.node_room1_type1.getChildByName("houzi1"),this.lab_min1=this.node_room1_type1.getChildByName("lab_min1"),this.lab_max1=this.node_room1_type1.getChildByName("lab_max1"),this.node_room1_type2=this.btn_1.getChildByName("node_room1_type2"),this.font_1=this.node_room1_type2.getChildByName("font_1"),this.btn_2=this.layout.getChildByName("btn_2"),this.node_room2_type1=this.btn_2.getChildByName("node_room2_type1"),this.houzi2=this.node_room2_type1.getChildByName("houzi2"),this.lab_min2=this.node_room2_type1.getChildByName("lab_min2"),this.lab_max2=this.node_room2_type1.getChildByName("lab_max2"),this.node_room2_type2=this.btn_2.getChildByName("node_room2_type2"),this.font_2=this.node_room2_type2.getChildByName("font_2"),this.btn_3=this.layout.getChildByName("btn_3"),this.node_room3_type1=this.btn_3.getChildByName("node_room3_type1"),this.houzi3=this.node_room3_type1.getChildByName("houzi3"),this.lab_min3=this.node_room3_type1.getChildByName("lab_min3"),this.lab_max3=this.node_room3_type1.getChildByName("lab_max3"),this.node_room3_type2=this.btn_3.getChildByName("node_room3_type2"),this.font_3=this.node_room3_type2.getChildByName("font_3"),this.VM=this.choseRoomLayer.getChildByName("VM"),this.font_title=this.choseRoomLayer.getChildByName("font_title")}};r.URL="db://assets/resources/prefab/choseRoomLayer.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_comDialog:[function(t,e,i){"use strict";cc._RF.push(e,"8449fru6hxMdKwUnP3UN6sJ","auto_comDialog");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.confirmDialog=this.node,this.model=this.confirmDialog.getChildByName("model"),this.background=this.confirmDialog.getChildByName("background"),this.lbl_title=this.background.getChildByName("lbl_title"),this.lbl_content=this.background.getChildByName("lbl_content"),this.btn_close=this.background.getChildByName("btn_close"),this.Background_close=this.btn_close.getChildByName("Background_close"),this.Label_close=this.Background_close.getChildByName("Label_close"),this.layout_btn=this.background.getChildByName("layout_btn"),this.btn_cancel=this.layout_btn.getChildByName("btn_cancel"),this.Background_cancel=this.btn_cancel.getChildByName("Background_cancel"),this.Label_cancel=this.Background_cancel.getChildByName("Label_cancel"),this.btn_certain=this.layout_btn.getChildByName("btn_certain"),this.Background_certain=this.btn_certain.getChildByName("Background_certain"),this.Label_certain=this.Background_certain.getChildByName("Label_certain")}};r.URL="db://assets/resources/prefab/comPop/comDialog.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_comSharePop:[function(t,e,i){"use strict";cc._RF.push(e,"dfb59rYtc9CDKR8wrnEufVn","auto_comSharePop");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.comSharePop=this.node,this.camera=this.comSharePop.getChildByName("camera"),this.btn_haoyou=this.comSharePop.getChildByName("btn_haoyou"),this.Background_haoyou=this.btn_haoyou.getChildByName("Background_haoyou"),this.Label_haoyou=this.Background_haoyou.getChildByName("Label_haoyou"),this.btn_pengyouquan=this.comSharePop.getChildByName("btn_pengyouquan"),this.Background_pengyouquan=this.btn_pengyouquan.getChildByName("Background_pengyouquan"),this.Label_pengyouquan=this.Background_pengyouquan.getChildByName("Label_pengyouquan"),this.mask=this.comSharePop.getChildByName("mask"),this.img_helloWorld=this.mask.getChildByName("img_helloWorld"),this.com_qrcode=this.comSharePop.getChildByName("com_qrcode"),this.btn_close=this.comSharePop.getChildByName("btn_close")}};r.URL="db://assets/resources/prefab/comPop/comSharePop.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_comTipsItem:[function(t,e,i){"use strict";cc._RF.push(e,"54bacqjbEFIAboSNKnA3h7R","auto_comTipsItem");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.comTipsItem=this.node,this.TipsBg=this.comTipsItem.getChildByName("TipsBg"),this.lab_des=this.TipsBg.getChildByName("lab_des")}};r.URL="db://assets/resources/prefab/comPop/comTipsItem.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_comTips:[function(t,e,i){"use strict";cc._RF.push(e,"c4274nuSNFBN69tJemVtZ9+","auto_comTips");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.comTips=this.node}};r.URL="db://assets/resources/prefab/comPop/comTips.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_gameLayer:[function(t,e,i){"use strict";cc._RF.push(e,"e1384Pz2gFDEpccFPbvbA1N","auto_gameLayer");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.gameLayer=this.node,this.bg=this.gameLayer.getChildByName("bg"),this.node_room=this.bg.getChildByName("node_room"),this.room0=this.node_room.getChildByName("room0"),this.room1=this.node_room.getChildByName("room1"),this.room2=this.node_room.getChildByName("room2"),this.room3=this.node_room.getChildByName("room3"),this.room4=this.node_room.getChildByName("room4"),this.room5=this.node_room.getChildByName("room5"),this.room6=this.node_room.getChildByName("room6"),this.room7=this.node_room.getChildByName("room7"),this.room8=this.node_room.getChildByName("room8"),this.room100=this.node_room.getChildByName("room100"),this.room200=this.node_room.getChildByName("room200"),this.room300=this.node_room.getChildByName("room300"),this.room400=this.node_room.getChildByName("room400"),this.room500=this.node_room.getChildByName("room500"),this.room600=this.node_room.getChildByName("room600"),this.room700=this.node_room.getChildByName("room700"),this.room800=this.node_room.getChildByName("room800"),this.node_pos=this.bg.getChildByName("node_pos"),this.pos1=this.node_pos.getChildByName("pos1"),this.font_pos_1=this.pos1.getChildByName("font_pos_1"),this.pos2=this.node_pos.getChildByName("pos2"),this.font_pos_2=this.pos2.getChildByName("font_pos_2"),this.pos3=this.node_pos.getChildByName("pos3"),this.font_pos_3=this.pos3.getChildByName("font_pos_3"),this.pos4=this.node_pos.getChildByName("pos4"),this.font_pos_4=this.pos4.getChildByName("font_pos_4"),this.pos5=this.node_pos.getChildByName("pos5"),this.font_pos_5=this.pos5.getChildByName("font_pos_5"),this.pos6=this.node_pos.getChildByName("pos6"),this.font_pos_6=this.pos6.getChildByName("font_pos_6"),this.pos7=this.node_pos.getChildByName("pos7"),this.font_pos_7=this.pos7.getChildByName("font_pos_7"),this.pos8=this.node_pos.getChildByName("pos8"),this.font_pos_8=this.pos8.getChildByName("font_pos_8"),this.pos9=this.node_pos.getChildByName("pos9"),this.font_pos_9=this.pos9.getChildByName("font_pos_9"),this.pos10=this.node_pos.getChildByName("pos10"),this.font_pos_10=this.pos10.getChildByName("font_pos_10"),this.pos12=this.node_pos.getChildByName("pos12"),this.font_pos_12=this.pos12.getChildByName("font_pos_12"),this.pos1111=this.node_pos.getChildByName("pos1111"),this.pos2222=this.node_pos.getChildByName("pos2222"),this.pos3333=this.node_pos.getChildByName("pos3333"),this.pos4444=this.node_pos.getChildByName("pos4444"),this.pos5555=this.node_pos.getChildByName("pos5555"),this.pos6666=this.node_pos.getChildByName("pos6666"),this.pos7777=this.node_pos.getChildByName("pos7777"),this.pos8888=this.node_pos.getChildByName("pos8888"),this.pos111=this.node_pos.getChildByName("pos111"),this.pos222=this.node_pos.getChildByName("pos222"),this.pos333=this.node_pos.getChildByName("pos333"),this.pos444=this.node_pos.getChildByName("pos444"),this.pos555=this.node_pos.getChildByName("pos555"),this.pos666=this.node_pos.getChildByName("pos666"),this.pos777=this.node_pos.getChildByName("pos777"),this.pos888=this.node_pos.getChildByName("pos888"),this.kill_1=this.node_pos.getChildByName("kill_1"),this.kill_2=this.node_pos.getChildByName("kill_2"),this.kill_3=this.node_pos.getChildByName("kill_3"),this.kill_4=this.node_pos.getChildByName("kill_4"),this.kill_5=this.node_pos.getChildByName("kill_5"),this.kill_6=this.node_pos.getChildByName("kill_6"),this.kill_7=this.node_pos.getChildByName("kill_7"),this.kill_8=this.node_pos.getChildByName("kill_8"),this.node_player=this.bg.getChildByName("node_player"),this.node_player_name=this.bg.getChildByName("node_player_name"),this.node_player_my=this.bg.getChildByName("node_player_my"),this.node_player_name_my=this.bg.getChildByName("node_player_name_my"),this.btn_chose_room=this.bg.getChildByName("btn_chose_room"),this.bt_1=this.btn_chose_room.getChildByName("bt_1"),this.bt_2=this.btn_chose_room.getChildByName("bt_2"),this.bt_3=this.btn_chose_room.getChildByName("bt_3"),this.btn_chose_room_block=this.btn_chose_room.getChildByName("btn_chose_room_block"),this.node_doors=this.bg.getChildByName("node_doors"),this.men1=this.node_doors.getChildByName("men1"),this.men2=this.node_doors.getChildByName("men2"),this.men3=this.node_doors.getChildByName("men3"),this.men4=this.node_doors.getChildByName("men4"),this.men5=this.node_doors.getChildByName("men5"),this.men6=this.node_doors.getChildByName("men6"),this.men7=this.node_doors.getChildByName("men7"),this.men8=this.node_doors.getChildByName("men8"),this.men9=this.node_doors.getChildByName("men9"),this.killer=this.bg.getChildByName("killer"),this.sp_killer=this.killer.getChildByName("sp_killer"),this.label_2=this.killer.getChildByName("label_2"),this.font_1=this.label_2.getChildByName("font_1"),this.node_btns=this.bg.getChildByName("node_btns"),this.btn_room1=this.node_btns.getChildByName("btn_room1"),this.btn_room2=this.node_btns.getChildByName("btn_room2"),this.btn_room3=this.node_btns.getChildByName("btn_room3"),this.btn_room4=this.node_btns.getChildByName("btn_room4"),this.btn_room5=this.node_btns.getChildByName("btn_room5"),this.btn_room6=this.node_btns.getChildByName("btn_room6"),this.btn_room7=this.node_btns.getChildByName("btn_room7"),this.btn_room8=this.node_btns.getChildByName("btn_room8"),this.VM_guang=this.node_btns.getChildByName("VM_guang"),this.room_0=this.VM_guang.getChildByName("room_0"),this.room_1=this.VM_guang.getChildByName("room_1"),this.room_2=this.VM_guang.getChildByName("room_2"),this.room_3=this.VM_guang.getChildByName("room_3"),this.room_4=this.VM_guang.getChildByName("room_4"),this.room_5=this.VM_guang.getChildByName("room_5"),this.room_6=this.VM_guang.getChildByName("room_6"),this.room_7=this.VM_guang.getChildByName("room_7"),this.room_8=this.VM_guang.getChildByName("room_8"),this.btn_rooms_block=this.node_btns.getChildByName("btn_rooms_block"),this.node_room_names=this.bg.getChildByName("node_room_names"),this.img_room_name1=this.node_room_names.getChildByName("img_room_name1"),this.img_room_name2=this.node_room_names.getChildByName("img_room_name2"),this.img_room_name3=this.node_room_names.getChildByName("img_room_name3"),this.img_room_name4=this.node_room_names.getChildByName("img_room_name4"),this.img_room_name5=this.node_room_names.getChildByName("img_room_name5"),this.img_room_name6=this.node_room_names.getChildByName("img_room_name6"),this.img_room_name7=this.node_room_names.getChildByName("img_room_name7"),this.img_room_name8=this.node_room_names.getChildByName("img_room_name8"),this.icon_coin1=this.node_room_names.getChildByName("icon_coin1"),this.icon_coin2=this.icon_coin1.getChildByName("icon_coin2"),this.icon_coin3=this.icon_coin1.getChildByName("icon_coin3"),this.lab_num=this.icon_coin1.getChildByName("lab_num"),this.VM=this.icon_coin1.getChildByName("VM"),this.icon_coin4=this.node_room_names.getChildByName("icon_coin4"),this.icon_coin5=this.node_room_names.getChildByName("icon_coin5"),this.icon_coin6=this.node_room_names.getChildByName("icon_coin6"),this.icon_coin7=this.node_room_names.getChildByName("icon_coin7"),this.icon_coin8=this.node_room_names.getChildByName("icon_coin8"),this.btn_rank=this.bg.getChildByName("btn_rank"),this.btn_jilu=this.bg.getChildByName("btn_jilu"),this.btn_changeLua=this.bg.getChildByName("btn_changeLua"),this.btn_trxz=this.bg.getChildByName("btn_trxz"),this.btn_chose_betting_num=this.btn_trxz.getChildByName("btn_chose_betting_num"),this.btn_betting=this.btn_trxz.getChildByName("btn_betting"),this.btn_black=this.btn_trxz.getChildByName("btn_black"),this.img_cat=this.btn_trxz.getChildByName("img_cat"),this.layout_betting_num=this.btn_trxz.getChildByName("layout_betting_num"),this.icon_coin=this.layout_betting_num.getChildByName("icon_coin"),this.head_more=this.layout_betting_num.getChildByName("head_more"),this.img_shangqi=this.btn_trxz.getChildByName("img_shangqi"),this.lab_shangqi=this.img_shangqi.getChildByName("lab_shangqi"),this.node_chose_coin=this.btn_trxz.getChildByName("node_chose_coin"),this.toggleGroup=this.node_chose_coin.getChildByName("toggleGroup"),this.yuyanToggleGroup=this.bg.getChildByName("yuyanToggleGroup"),this.toggle1=this.toggleGroup.getChildByName("toggle1"),this.Background=this.toggle1.getChildByName("Background"),this.checkmark=this.toggle1.getChildByName("checkmark"),this.icon_coin11=this.toggle1.getChildByName("icon_coin11"),this.toggle2=this.toggleGroup.getChildByName("toggle2"),this.icon_coin12=this.toggle2.getChildByName("icon_coin12"),this.toggle3=this.toggleGroup.getChildByName("toggle3"),this.icon_coin13=this.toggle3.getChildByName("icon_coin13"),this.node_labs=this.bg.getChildByName("node_labs"),this.lab_betting_name=this.node_labs.getChildByName("lab_betting_name"),this.node_stage=this.bg.getChildByName("node_stage"),this.stage_1=this.node_stage.getChildByName("stage_1"),this.img_djs1=this.stage_1.getChildByName("img_djs1"),this.layout_1=this.img_djs1.getChildByName("layout_1"),this.lab_cur_player_num=this.layout_1.getChildByName("lab_cur_player_num"),this.font_fenhao=this.layout_1.getChildByName("font_fenhao"),this.lab_max_player_num=this.layout_1.getChildByName("lab_max_player_num"),this.layout_qi=this.img_djs1.getChildByName("layout_qi"),this.lab_qi=this.layout_qi.getChildByName("lab_qi"),this.font_qi=this.layout_qi.getChildByName("font_qi"),this.stage_2=this.node_stage.getChildByName("stage_2"),this.img_djs2=this.stage_2.getChildByName("img_djs2"),this.lab_last_time=this.img_djs2.getChildByName("lab_last_time"),this.font_chuxian=this.img_djs2.getChildByName("font_chuxian"),this.VM_btns=this.bg.getChildByName("VM_btns")}};r.URL="db://assets/resources/prefab/gameLayer.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_game:[function(t,e,i){"use strict";cc._RF.push(e,"43cb8Y6M7NOm6TfXyfeHwWP","auto_game");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){let t=this.node.getParent();this.Canvas=t.getChildByName("Canvas"),this.ScrollView=this.Canvas.getChildByName("ScrollView"),this.view=this.ScrollView.getChildByName("view"),this.content=this.view.getChildByName("content"),this.node_stage=this.Canvas.getChildByName("node_stage"),this.stage_3=this.node_stage.getChildByName("stage_3"),this.node_chestwrap=this.Canvas.getChildByName("node_chestwrap"),this.model_stage_3=this.stage_3.getChildByName("model_stage_3"),this.img_djs3=this.stage_3.getChildByName("img_djs3"),this.stage_4=this.node_stage.getChildByName("stage_4"),this.stage_5=this.node_stage.getChildByName("stage_5"),this.mode_stage_5=this.stage_5.getChildByName("mode_stage_5"),this.caidai=this.stage_5.getChildByName("caidai"),this.VM_result=this.stage_5.getChildByName("VM_result"),this.tc_over_0=this.VM_result.getChildByName("tc_over_0"),this.tc_over_1=this.VM_result.getChildByName("tc_over_1"),this.tc_over_layout_1=this.tc_over_1.getChildByName("tc_over_layout_1"),this.font_shadiao=this.tc_over_layout_1.getChildByName("font_shadiao"),this.lab_kill_room_name=this.tc_over_layout_1.getChildByName("lab_kill_room_name"),this.font_suoyouren=this.tc_over_layout_1.getChildByName("font_suoyouren"),this.font_duobishibai=this.tc_over_1.getChildByName("font_duobishibai"),this.tc_over_2=this.VM_result.getChildByName("tc_over_2"),this.tc_over_layout_2=this.tc_over_2.getChildByName("tc_over_layout_2"),this.layout_guafen_coin=this.tc_over_2.getChildByName("layout_guafen_coin"),this.font_guafen_coin=this.layout_guafen_coin.getChildByName("font_guafen_coin"),this.lab_guafen_coin=this.layout_guafen_coin.getChildByName("lab_guafen_coin"),this.guafen_coin=this.tc_over_2.getChildByName("guafen_coin"),this.icon_coin1=this.guafen_coin.getChildByName("icon_coin1"),this.icon_coin2=this.guafen_coin.getChildByName("icon_coin2"),this.icon_coin3=this.guafen_coin.getChildByName("icon_coin3"),this.lab_num=this.guafen_coin.getChildByName("lab_num"),this.VM=this.guafen_coin.getChildByName("VM"),this.tc_over_3=this.VM_result.getChildByName("tc_over_3"),this.pop_win1=this.tc_over_3.getChildByName("pop_win1"),this.pop_win2=this.tc_over_3.getChildByName("pop_win2"),this.pop_win3=this.tc_over_3.getChildByName("pop_win3"),this.VM_over_3=this.tc_over_3.getChildByName("VM_over_3"),this.layout_weiguafen1=this.tc_over_3.getChildByName("layout_weiguafen1"),this.font_weiguafen1=this.layout_weiguafen1.getChildByName("font_weiguafen1"),this.lab_weiguafen1=this.layout_weiguafen1.getChildByName("lab_weiguafen1"),this.layout_weiguafen2=this.tc_over_3.getChildByName("layout_weiguafen2"),this.lab_weiguafen2=this.layout_weiguafen2.getChildByName("lab_weiguafen2"),this.font_weiguafen2=this.layout_weiguafen2.getChildByName("font_weiguafen2"),this.tc_over_4=this.VM_result.getChildByName("tc_over_4"),this.pop_win4_1=this.tc_over_4.getChildByName("pop_win4_1"),this.pop_win4_2=this.tc_over_4.getChildByName("pop_win4_2"),this.pop_win4_3=this.tc_over_4.getChildByName("pop_win4_3"),this.lab_touru=this.tc_over_4.getChildByName("lab_touru"),this.lab_touru_num=this.tc_over_4.getChildByName("lab_touru_num"),this.coin_1_1=this.tc_over_4.getChildByName("coin_1_1"),this.coin_1_2=this.tc_over_4.getChildByName("coin_1_2"),this.coin_1_3=this.tc_over_4.getChildByName("coin_1_3"),this.lab_huode=this.tc_over_4.getChildByName("lab_huode"),this.lab_huode_num=this.tc_over_4.getChildByName("lab_huode_num"),this.coin_2_1=this.tc_over_4.getChildByName("coin_2_1"),this.coin_2_2=this.tc_over_4.getChildByName("coin_2_2"),this.coin_2_3=this.tc_over_4.getChildByName("coin_2_3"),this.VM_coin=this.tc_over_4.getChildByName("VM_coin"),this.VMTimer=t.getChildByName("VMTimer")}};r.URL="db://assets/scene/game.fire",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_jiluItem1:[function(t,e,i){"use strict";cc._RF.push(e,"edeeeB+3ZhFOZeD4YCnJnFe","auto_jiluItem1");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.jiluItem1=this.node,this.bg=this.jiluItem1.getChildByName("bg"),this.room_name_1=this.bg.getChildByName("room_name_1"),this.room_name_2=this.bg.getChildByName("room_name_2"),this.room_name_3=this.bg.getChildByName("room_name_3"),this.room_name_4=this.bg.getChildByName("room_name_4"),this.room_name_5=this.bg.getChildByName("room_name_5"),this.room_name_6=this.bg.getChildByName("room_name_6"),this.room_name_7=this.bg.getChildByName("room_name_7"),this.room_name_8=this.bg.getChildByName("room_name_8"),this.gui_1=this.bg.getChildByName("gui_1"),this.gui_2=this.bg.getChildByName("gui_2"),this.gui_3=this.bg.getChildByName("gui_3"),this.gui_4=this.bg.getChildByName("gui_4"),this.gui_5=this.bg.getChildByName("gui_5"),this.gui_6=this.bg.getChildByName("gui_6"),this.gui_7=this.bg.getChildByName("gui_7"),this.gui_8=this.bg.getChildByName("gui_8"),this.node_labs=this.jiluItem1.getChildByName("node_labs"),this.lab_name_num_1=this.node_labs.getChildByName("lab_name_num_1"),this.lab_name_num_2=this.node_labs.getChildByName("lab_name_num_2"),this.lab_name_num_3=this.node_labs.getChildByName("lab_name_num_3"),this.lab_name_num_4=this.node_labs.getChildByName("lab_name_num_4"),this.lab_name_num_5=this.node_labs.getChildByName("lab_name_num_5"),this.lab_name_num_6=this.node_labs.getChildByName("lab_name_num_6"),this.lab_name_num_7=this.node_labs.getChildByName("lab_name_num_7"),this.lab_name_num_8=this.node_labs.getChildByName("lab_name_num_8"),this.biaoti1=this.jiluItem1.getChildByName("biaoti1")}};r.URL="db://assets/resources/prefab/jiluItem1.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_jiluItem2:[function(t,e,i){"use strict";cc._RF.push(e,"cb3c01mOapHjrJ7p01yxTmw","auto_jiluItem2");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.jiluItem2=this.node,this.bg=this.jiluItem2.getChildByName("bg"),this.room_name_1=this.bg.getChildByName("room_name_1"),this.room_name_2=this.bg.getChildByName("room_name_2"),this.room_name_3=this.bg.getChildByName("room_name_3"),this.room_name_4=this.bg.getChildByName("room_name_4"),this.room_name_5=this.bg.getChildByName("room_name_5"),this.room_name_6=this.bg.getChildByName("room_name_6"),this.room_name_7=this.bg.getChildByName("room_name_7"),this.room_name_8=this.bg.getChildByName("room_name_8"),this.room_name_9=this.bg.getChildByName("room_name_9"),this.room_name_10=this.bg.getChildByName("room_name_10"),this.room_name_Lab1=this.bg.getChildByName("room_name_Lab1"),this.room_name_Lab2=this.bg.getChildByName("room_name_Lab2"),this.room_name_Lab3=this.bg.getChildByName("room_name_Lab3"),this.room_name_Lab4=this.bg.getChildByName("room_name_Lab4"),this.room_name_Lab5=this.bg.getChildByName("room_name_Lab5"),this.room_name_Lab6=this.bg.getChildByName("room_name_Lab6"),this.room_name_Lab7=this.bg.getChildByName("room_name_Lab7"),this.room_name_Lab8=this.bg.getChildByName("room_name_Lab8"),this.room_name_Lab9=this.bg.getChildByName("room_name_Lab9"),this.room_name_Lab10=this.bg.getChildByName("room_name_Lab10"),this.node_labs=this.jiluItem2.getChildByName("node_labs"),this.lab_qi_1=this.node_labs.getChildByName("lab_qi_1"),this.lab_qi_2=this.node_labs.getChildByName("lab_qi_2"),this.lab_qi_3=this.node_labs.getChildByName("lab_qi_3"),this.lab_qi_4=this.node_labs.getChildByName("lab_qi_4"),this.lab_qi_5=this.node_labs.getChildByName("lab_qi_5"),this.lab_qi_6=this.node_labs.getChildByName("lab_qi_6"),this.lab_qi_7=this.node_labs.getChildByName("lab_qi_7"),this.lab_qi_8=this.node_labs.getChildByName("lab_qi_8"),this.lab_qi_9=this.node_labs.getChildByName("lab_qi_9"),this.lab_qi_10=this.node_labs.getChildByName("lab_qi_10"),this.biaoti1=this.jiluItem2.getChildByName("biaoti1")}};r.URL="db://assets/resources/prefab/jiluItem2.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_jiluItem3:[function(t,e,i){"use strict";cc._RF.push(e,"a2c68jq+BBPaZB6dpOY8srR","auto_jiluItem3");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.jiluItem3=this.node,this.bg=this.jiluItem3.getChildByName("bg"),this.kuiang_1=this.bg.getChildByName("kuiang_1"),this.kuiang_2=this.bg.getChildByName("kuiang_2"),this.font_1=this.bg.getChildByName("font_1"),this.font_2=this.bg.getChildByName("font_2"),this.font_3=this.bg.getChildByName("font_3"),this.layout_1=this.bg.getChildByName("layout_1"),this.coin_1_1=this.layout_1.getChildByName("coin_1_1"),this.coin_1_2=this.layout_1.getChildByName("coin_1_2"),this.coin_1_3=this.layout_1.getChildByName("coin_1_3"),this.lab_touru_num=this.layout_1.getChildByName("lab_touru_num"),this.layout_2=this.bg.getChildByName("layout_2"),this.coin_2_1=this.layout_2.getChildByName("coin_2_1"),this.coin_2_2=this.layout_2.getChildByName("coin_2_2"),this.coin_2_3=this.layout_2.getChildByName("coin_2_3"),this.lab_huode_num=this.layout_2.getChildByName("lab_huode_num")}};r.URL="db://assets/resources/prefab/jiluItem3.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_jiluItem4:[function(t,e,i){"use strict";cc._RF.push(e,"4bcdbOasPZEj5xvZIfOjVeh","auto_jiluItem4");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.jiluItem4=this.node,this.bg=this.jiluItem4.getChildByName("bg"),this.fengexian1=this.bg.getChildByName("fengexian1"),this.font_1=this.bg.getChildByName("font_1"),this.font_2=this.bg.getChildByName("font_2"),this.lab_qi=this.bg.getChildByName("lab_qi"),this.lab_touru_name=this.bg.getChildByName("lab_touru_name"),this.lab_huode_name=this.bg.getChildByName("lab_huode_name"),this.lab_choose_room=this.bg.getChildByName("lab_choose_room"),this.lba_kill_room=this.bg.getChildByName("lba_kill_room"),this.lab_touru_num=this.bg.getChildByName("lab_touru_num"),this.lab_huode_num=this.bg.getChildByName("lab_huode_num"),this.lab_win=this.bg.getChildByName("lab_win"),this.lab_lose=this.bg.getChildByName("lab_lose")}};r.URL="db://assets/resources/prefab/jiluItem4.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_jiluItem5:[function(t,e,i){"use strict";cc._RF.push(e,"b67f48O01ZCk7Uo4zGuBZwZ","auto_jiluItem5");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.jiluItem5=this.node,this.font_1=this.jiluItem5.getChildByName("font_1")}};r.URL="db://assets/resources/prefab/jiluItem5.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_jiluLayer:[function(t,e,i){"use strict";cc._RF.push(e,"ff2e1XwwT5N+Zspp+ZP2d2v","auto_jiluLayer");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.jiluLayer=this.node,this.model=this.jiluLayer.getChildByName("model"),this.scrollView=this.jiluLayer.getChildByName("scrollView"),this.view=this.scrollView.getChildByName("view"),this.content=this.view.getChildByName("content"),this.header=this.view.getChildByName("header"),this.Node_1=this.header.getChildByName("Node_1"),this.loading=this.Node_1.getChildByName("loading"),this.btn_back=this.jiluLayer.getChildByName("btn_back"),this.spr_back=this.btn_back.getChildByName("spr_back")}};r.URL="db://assets/resources/prefab/jiluLayer.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_killer:[function(t,e,i){"use strict";cc._RF.push(e,"4a206VTyP5NQ52Olj8A8yma","auto_killer");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.killer=this.node,this.sp_killer=this.killer.getChildByName("sp_killer")}};r.URL="db://assets/resources/prefab/killer.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_playerName:[function(t,e,i){"use strict";cc._RF.push(e,"a2e55x8IrFONpOi6irOVW1/","auto_playerName");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.playerName=this.node,this.label_name_bg=this.playerName.getChildByName("label_name_bg"),this.lan_name1=this.label_name_bg.getChildByName("lan_name1"),this.lan_name=this.playerName.getChildByName("lan_name")}};r.URL="db://assets/resources/prefab/playerName.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_player:[function(t,e,i){"use strict";cc._RF.push(e,"73567+7e5tGdIQRdLLolBBg","auto_player");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.player=this.node,this.img_cat=this.player.getChildByName("img_cat"),this.img_bubble=this.player.getChildByName("img_bubble"),this.coin_1=this.img_bubble.getChildByName("coin_1"),this.coin_2=this.img_bubble.getChildByName("coin_2"),this.coin_3=this.img_bubble.getChildByName("coin_3"),this.lab_coin=this.img_bubble.getChildByName("lab_coin"),this.VM=this.player.getChildByName("VM")}};r.URL="db://assets/resources/prefab/player.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_rankLayer:[function(t,e,i){"use strict";cc._RF.push(e,"746d36kpoZJz5avvZ/Nm+vI","auto_rankLayer");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.rankLayer=this.node,this.model=this.rankLayer.getChildByName("model"),this.scrollView=this.rankLayer.getChildByName("scrollView"),this.view=this.scrollView.getChildByName("view"),this.content=this.view.getChildByName("content"),this.dingbubiaoti=this.content.getChildByName("dingbubiaoti"),this.paihangbai1=this.content.getChildByName("paihangbai1"),this.paihangbai2=this.content.getChildByName("paihangbai2"),this.paihangbai3=this.content.getChildByName("paihangbai3"),this.paihang1=this.content.getChildByName("paihang1"),this.paihang2=this.content.getChildByName("paihang2"),this.paihang3=this.content.getChildByName("paihang3"),this.lab_max_mianshang=this.content.getChildByName("lab_max_mianshang"),this.lab_mianshang_1=this.content.getChildByName("lab_mianshang_1"),this.lab_mianshang_2=this.content.getChildByName("lab_mianshang_2"),this.lab_mianshang_3=this.content.getChildByName("lab_mianshang_3"),this.lab_bang_1=this.content.getChildByName("lab_bang_1"),this.lab_bang_2=this.content.getChildByName("lab_bang_2"),this.lab_bang_3=this.content.getChildByName("lab_bang_3"),this.lab_coin_name=this.content.getChildByName("lab_coin_name"),this.font_paiming=this.content.getChildByName("font_paiming"),this.font_buchomg=this.content.getChildByName("font_buchomg"),this.font_des=this.content.getChildByName("font_des"),this.btn_back=this.rankLayer.getChildByName("btn_back"),this.spr_back=this.btn_back.getChildByName("spr_back"),this.bg_bottom=this.rankLayer.getChildByName("bg_bottom"),this.touxiangshiyi=this.bg_bottom.getChildByName("touxiangshiyi"),this.icon_coin=this.bg_bottom.getChildByName("icon_coin"),this.font_2=this.bg_bottom.getChildByName("font_2"),this.lab_my_name=this.bg_bottom.getChildByName("lab_my_name"),this.lab_my_coin=this.bg_bottom.getChildByName("lab_my_coin")}};r.URL="db://assets/resources/prefab/rankLayer.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],auto_weihuLayer:[function(t,e,i){"use strict";cc._RF.push(e,"98f8aDL6VBFrppfMCZeHc/8","auto_weihuLayer");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n}=cc._decorator;let r=class extends cc.Component{onLoad(){this.weihuLayer=this.node,this.model=this.weihuLayer.getChildByName("model"),this.font_title=this.weihuLayer.getChildByName("font_title")}};r.URL="db://assets/resources/prefab/weihuLayer.prefab",r=o([n],r),i.default=r,cc._RF.pop()},{}],base64:[function(t,e,i){"use strict";cc._RF.push(e,"447cbA/D4hF3pCzaG685h+K","base64");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.base64=void 0;const{ccclass:n,property:r}=cc._decorator;let a=class{static encode(t){var e,i,o,n,r,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(o=t.length,i=0,e="";i<o;){if(n=255&t.charCodeAt(i++),i==o){e+=s.charAt(n>>2),e+=s.charAt((3&n)<<4),e+="==";break}if(r=t.charCodeAt(i++),i==o){e+=s.charAt(n>>2),e+=s.charAt((3&n)<<4|(240&r)>>4),e+=s.charAt((15&r)<<2),e+="=";break}a=t.charCodeAt(i++),e+=s.charAt(n>>2),e+=s.charAt((3&n)<<4|(240&r)>>4),e+=s.charAt((15&r)<<2|(192&a)>>6),e+=s.charAt(63&a)}return e}static decode(t){var e,i,o,n,r,a,s,l=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);for(a=t.length,r=0,s="";r<a;){do{e=l[255&t.charCodeAt(r++)]}while(r<a&&-1==e);if(-1==e)break;do{i=l[255&t.charCodeAt(r++)]}while(r<a&&-1==i);if(-1==i)break;s+=String.fromCharCode(e<<2|(48&i)>>4);do{if(61==(o=255&t.charCodeAt(r++)))return s;o=l[o]}while(r<a&&-1==o);if(-1==o)break;s+=String.fromCharCode((15&i)<<4|(60&o)>>2);do{if(61==(n=255&t.charCodeAt(r++)))return s;n=l[n]}while(r<a&&-1==n);if(-1==n)break;s+=String.fromCharCode((3&o)<<6|n)}return s}static utf16to8(t){var e,i,o,n;for(e="",o=t.length,i=0;i<o;i++)(n=t.charCodeAt(i))>=1&&n<=127?e+=t.charAt(i):n>2047?(e+=String.fromCharCode(224|n>>12&15),e+=String.fromCharCode(128|n>>6&63),e+=String.fromCharCode(128|n>>0&63)):(e+=String.fromCharCode(192|n>>6&31),e+=String.fromCharCode(128|n>>0&63));return e}static utf8to16(t){var e,i,o,n,r,a;for(e="",o=t.length,i=0;i<o;)switch((n=t.charCodeAt(i++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(i-1);break;case 12:case 13:r=t.charCodeAt(i++),e+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=t.charCodeAt(i++),a=t.charCodeAt(i++),e+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&a)<<0)}return e}};a=o([n],a),i.base64=a,cc._RF.pop()},{}],crypto:[function(t,e,i){"use strict";cc._RF.push(e,"fc023iUrXNPN55I7305Ul55","crypto");var o,n=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.Cryptos=void 0;const{ccclass:r,property:a}=cc._decorator;let s=o=class{};s.base64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s.util={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&this.util.rotl(t,8)|4278255360&this.util.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=this.util.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},stringToBytes:function(t){for(var e=[],i=0;i<t.length;i++)e.push(t.charCodeAt(i));return e},bytesToString:function(t){for(var e=[],i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")},stringToWords:function(t){for(var e=[],i=0,o=0;i<t.length;i++,o+=8)e[o>>>5]|=t.charCodeAt(i)<<24-o%32;return e},bytesToWords:function(t){for(var e=[],i=0,o=0;i<t.length;i++,o+=8)e[o>>>5]|=t[i]<<24-o%32;return e},wordsToBytes:function(t){for(var e=[],i=0;i<32*t.length;i+=8)e.push(t[i>>>5]>>>24-i%32&255);return e},bytesToHex:function(t){for(var e=[],i=0;i<t.length;i++)e.push((t[i]>>>4).toString(16)),e.push((15&t[i]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(parseInt(t.substr(i,2),16));return e},bytesToBase64:function(t){if("function"==typeof btoa)return btoa(this.util.bytesToString(t));for(var e,i=[],n=0;n<t.length;n++)switch(n%3){case 0:i.push(o.base64map.charAt(t[n]>>>2)),e=(3&t[n])<<4;break;case 1:i.push(o.base64map.charAt(e|t[n]>>>4)),e=(15&t[n])<<2;break;case 2:i.push(o.base64map.charAt(e|t[n]>>>6)),i.push(o.base64map.charAt(63&t[n])),e=-1}for(null!=e&&-1!=e&&i.push(o.base64map.charAt(e));i.length%4!=0;)i.push("=");return i.join("")},base64ToBytes:function(t){if("function"==typeof atob)return this.util.stringToBytes(atob(t));t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],i=0;i<t.length;i++)switch(i%4){case 1:e.push(o.base64map.indexOf(t.charAt(i-1))<<2|o.base64map.indexOf(t.charAt(i))>>>4);break;case 2:e.push((15&o.base64map.indexOf(t.charAt(i-1)))<<4|o.base64map.indexOf(t.charAt(i))>>>2);break;case 3:e.push((3&o.base64map.indexOf(t.charAt(i-1)))<<6|o.base64map.indexOf(t.charAt(i)))}return e}},s.HMAC=function(t,e,i){for(var o=e=e.length>4*this._blocksize?this.SHA1(e,{asBytes:!0}):this.util.stringToBytes(e),n=e.slice(0),r=0;r<4*this._blocksize;r++)o[r]^=92,n[r]^=54;var a=this.SHA1(this.util.bytesToString(o)+this.SHA1(this.util.bytesToString(n)+t,{asString:!0}),{asBytes:!0});return i&&i.asBytes?a:i&&i.asString?this.util.bytesToString(a):this.util.bytesToHex(a)},s.SHA1=function(t,e){var i=this.util.wordsToBytes(this._sha1(t));return e&&e.asBytes?i:e&&e.asString?this.util.bytesToString(i):this.util.bytesToHex(i)},s._sha1=function(t){var e=this.util.stringToWords(t),i=8*t.length,o=[],n=1732584193,r=-271733879,a=-1732584194,s=271733878,l=-1009589776;e[i>>5]|=128<<24-i%32,e[15+(i+64>>>9<<4)]=i;for(var c=0;c<e.length;c+=16){for(var h=n,u=r,d=a,p=s,g=l,_=0;_<80;_++){if(_<16)o[_]=e[c+_];else{var f=o[_-3]^o[_-8]^o[_-14]^o[_-16];o[_]=f<<1|f>>>31}var m=(n<<5|n>>>27)+l+(o[_]>>>0)+(_<20?1518500249+(r&a|~r&s):_<40?1859775393+(r^a^s):_<60?(r&a|r&s|a&s)-1894007588:(r^a^s)-899497514);l=s,s=a,a=r<<30|r>>>2,r=n,n=m}n+=h,r+=u,a+=d,s+=p,l+=g}return[n,r,a,s,l]},s._blocksize=16,s=o=n([r],s),i.Cryptos=s,cc._RF.pop()},{}],debug:[function(t,e,i){"use strict";cc._RF.push(e,"92b39aP2aNNuYlHGBT1mbnR","debug"),Object.defineProperty(i,"__esModule",{value:!0}),i.ADAPTER_DEBUG_CONTENT=i.ADAPTER_DEBUG_VIEW=i.DEBUG_DRAW_LIND_WIDTH=i.DEBUG_DRAW_BORDER_COLOR=i.DEBUG_DRAW_FILL_COLOR=i.DEBUG_DRAW_LINE_COLOR=void 0,i.DEBUG_DRAW_LINE_COLOR=new cc.Color(238,124,55,255),i.DEBUG_DRAW_FILL_COLOR=new cc.Color(88,175,64,50),i.DEBUG_DRAW_BORDER_COLOR=new cc.Color(56,120,94,255),i.DEBUG_DRAW_LIND_WIDTH=3,i.ADAPTER_DEBUG_VIEW=!1,i.ADAPTER_DEBUG_CONTENT=!1,cc._RF.pop()},{}],enum:[function(t,e,i){"use strict";var o,n,r,a,s,l,c,h,u,d;cc._RF.push(e,"58bb1LVDpNPZLkEJzL3gp3i","enum"),Object.defineProperty(i,"__esModule",{value:!0}),i.ViewEvent=i.HolderEvent=i.ReleaseState=i.Transition=i.IndicatorMode=i.AlwaysScroll=i.NestedDirection=i.ScrollbarDirection=i.ScrollDirection=i.ChildAlignment=i.MagneticDirection=i.TouchMode=i.WrapMode=i.Layer=i.StretchDirection=i.ArrangeAxis=i.MovementType=i.Orientation=void 0,function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(o=i.Orientation||(i.Orientation={})),function(t){t[t.Unrestricted=0]="Unrestricted",t[t.Elastic=1]="Elastic",t[t.Clamped=2]="Clamped"}(n=i.MovementType||(i.MovementType={})),function(t){t[t.Start=0]="Start",t[t.End=1]="End"}(r=i.ArrangeAxis||(i.ArrangeAxis={})),function(t){t[t.Auto=0]="Auto",t[t.Header=1]="Header",t[t.Footer=2]="Footer",t[t.Center=3]="Center"}(a=i.StretchDirection||(i.StretchDirection={})),function(t){t[t.Lowest=0]="Lowest",t[t.Medium=1]="Medium",t[t.Highest=2]="Highest"}(i.Layer||(i.Layer={})),function(t){t[t.Auto=0]="Auto",t[t.Wrap=1]="Wrap",t[t.Nowrap=2]="Nowrap"}(i.WrapMode||(i.WrapMode={})),function(t){t[t.Auto=0]="Auto",t[t.AlwaysAllow=1]="AlwaysAllow",t[t.Disabled=2]="Disabled"}(s=i.TouchMode||(i.TouchMode={})),function(t){t[t.Header=0]="Header",t[t.Footer=1]="Footer"}(l=i.MagneticDirection||(i.MagneticDirection={})),function(t){t[t.UpperLeft=0]="UpperLeft",t[t.UpperCenter=1]="UpperCenter",t[t.UpperRight=2]="UpperRight",t[t.MiddleLeft=3]="MiddleLeft",t[t.MiddleCenter=4]="MiddleCenter",t[t.MiddleRight=5]="MiddleRight",t[t.LowerLeft=6]="LowerLeft",t[t.LowerCenter=7]="LowerCenter",t[t.LowerRight=8]="LowerRight"}(c=i.ChildAlignment||(i.ChildAlignment={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t[t.None=4]="None"}(i.ScrollDirection||(i.ScrollDirection={})),function(t){t[t.Top_To_Bottom=0]="Top_To_Bottom",t[t.Bottom_To_Top=1]="Bottom_To_Top",t[t.Left_To_Right=2]="Left_To_Right",t[t.Right_To_Left=3]="Right_To_Left"}(h=i.ScrollbarDirection||(i.ScrollbarDirection={})),function(t){t[t.Both=0]="Both",t[t.Header=1]="Header",t[t.Footer=2]="Footer"}(i.NestedDirection||(i.NestedDirection={})),function(t){t[t.Auto=0]="Auto",t[t.Header=1]="Header",t[t.Footer=2]="Footer"}(i.AlwaysScroll||(i.AlwaysScroll={})),function(t){t[t.Normal=0]="Normal",t[t.Button=1]="Button"}(u=i.IndicatorMode||(i.IndicatorMode={})),function(t){t[t.None=0]="None",t[t.ColorTint=1]="ColorTint",t[t.SpriteSwap=2]="SpriteSwap",t[t.Scale=3]="Scale"}(d=i.Transition||(i.Transition={})),function(t){t.IDLE="IDLE",t.PULL="PULL",t.WAIT="WAIT",t.RELEASE="RELEASE"}(i.ReleaseState||(i.ReleaseState={})),function(t){t.CREATED="ADAPTER:HOLDER:CREATED",t.VISIBLE="ADAPTER:HOLDER:VISIBLE",t.DISABLE="ADAPTER:HOLDER:DISABLE"}(i.HolderEvent||(i.HolderEvent={})),function(t){t.VISIBLE="ADAPTER:VIEW:VISIBLE",t.DISABLE="ADAPTER::VIEW:DISABLE"}(i.ViewEvent||(i.ViewEvent={})),cc.Enum(o),cc.Enum(n),cc.Enum(r),cc.Enum(a),cc.Enum(l),cc.Enum(h),cc.Enum(c),cc.Enum(s),cc.Enum(u),cc.Enum(d),cc._RF.pop()},{}],helper:[function(t,e,i){"use strict";cc._RF.push(e,"fa024bPdTVAg4B0i4Y3elK9","helper"),Object.defineProperty(i,"__esModule",{value:!0}),i.Helper=void 0;class o{static smoothStep(t,e,i){return e*(i=-2*(i=this.clamp01(i))*i*i+3*i*i)+t*(1-i)}static smoothDamp(t,e,i,o,n,r){var a=2/(o=Math.max(1e-4,o)),s=a*r,l=1/(1+s+.48*s*s+.235*s*s*s),c=t-e,h=e,u=n*o,d=(i+a*(c=this.clamp(c,0-u,u)))*r;i=(i-a*d)*l;var p=(e=t-c)+(c+d)*l;return h-t>0==p>h&&(i=((p=h)-h)/r),{velocity:i,position:p}}static clamp01(t){return this.clamp(t,0,1)}static clamp(t,e=0,i=1){return Math.min(Math.max(t,e),i)}static sign(t){return t>=0?1:-1}static lerp(t,e,i){return t+(e-t)*this.clamp01(i)}static approximately(t,e){return Math.abs(e-t)<Math.max(1e-4*Math.max(Math.abs(t),Math.abs(e)),8*this.Epsilon)}static round(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}static pingpang(t){var e=t;e=Math.abs(t);var i=Math.trunc(e);return i%2==0?e-=i:e=1-(e-i),e}static isNumber(t){return"number"==typeof t&&!isNaN(t)}static progress(t,e,i,o){return t+(e-t)*o}static sizeToVec(t){return t?{x:t.width,y:t.height}:{x:0,y:0}}}i.Helper=o,o.Epsilon=1401298e-51,o.Infinity=1/0,cc._RF.pop()},{}],i18nLabel:[function(t,e,i){"use strict";cc._RF.push(e,"41ebaVoPpRA4Kp67XEdHfZn","i18nLabel");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.i18nLabel=void 0;const n=t("../component/VMLabel"),r=t("./i18nMgr"),{ccclass:a,property:s,executeInEditMode:l,disallowMultiple:c,menu:h}=cc._decorator;let u=class extends cc.Label{constructor(){super(...arguments),this.i18n_string="",this.i18n_params=[]}get i18n_key(){return this.i18n_string}set i18n_key(t){this.i18n_string=t,this.setEndValue()}get params(){return this.i18n_params}set params(t){this.i18n_params=t,this.setEndValue()}start(){r.i18nMgr._addOrDelLabel(this,!0),this._resetValue()}init(...t){0==this.params.length?this.i18n_string=String(t[0]):t.length>=1&&(this.i18n_params=t),this.setEndValue()}setEndValue(){this.i18n_string&&(this.string=r.i18nMgr._getLabel(this.i18n_string,this.i18n_params)),this.node.getComponent(n.default)&&this.node.getComponent(n.default).onValueInit()}_resetValue(){this.i18n_key=this.i18n_string}onDestroy(){r.i18nMgr._addOrDelLabel(this,!1)}};o([s({type:cc.String})],u.prototype,"i18n_key",null),o([s({type:[cc.String]})],u.prototype,"params",null),o([s({visible:!1})],u.prototype,"i18n_string",void 0),o([s({visible:!1})],u.prototype,"i18n_params",void 0),u=o([a,l,c,h("\u591a\u8bed\u8a00/i18nLabel")],u),i.i18nLabel=u,cc._RF.pop()},{"../component/VMLabel":"VMLabel","./i18nMgr":"i18nMgr"}],i18nMgr:[function(t,e,i){"use strict";cc._RF.push(e,"1e36aJmHntDxqZis49hy52h","i18nMgr"),Object.defineProperty(i,"__esModule",{value:!0}),i.i18nMgr=void 0;const o=t("../../utils/Log");class n{static getlanguage(){return cc.sys.localStorage.getItem("language")||"en"}static checkInit(){if(console.log("\u68c0\u67e5\u591a\u8bed\u8a00",!this.language),!this.language){var t=cc.sys.localStorage.getItem("language")||"en";this.setLanguage(t)}}static setLanguage(t){this.language!==t&&(this.language=t,cc.sys.localStorage.setItem("language",t),this.reloadLabel(),this.reloadSprite())}static getAllLanguage(){return new Promise((t,e)=>{cc.loader.loadResDir("i18n/label/",cc.JsonAsset,(i,o,n)=>{if(i)return console.error(i),void e(i);console.log("\u6587\u4ef6\u540d\u5217\u8868:",o,n);let r=n.map(t=>{let e=t.split("/");return e[e.length-1].replace(/\.\w+$/,"")}),a=o.map(t=>t.json);console.log(`\u6587\u4ef6\u540d\u5217\u8868: ${r}`),console.log(`\u6587\u4ef6\u5185\u5bb9\u5217\u8868: ${a}`),t({fileNames:r,jsonContents:a})})})}static _addOrDelLabel(t,e){if(e)this.labelArr.push(t);else{let e=this.labelArr.indexOf(t);-1!==e&&this.labelArr.splice(e,1)}}static _getAllLabel(){return this.checkInit(),{labelArr:this.labelArr,labelData:this.labelData}}static _getLabel(t,e){if(this.checkInit(),0===e.length)return this.labelData[t]||t;let i=this.labelData[t]||t;"number"==typeof i&&(i=i.toString());for(let o=0;o<e.length;o++){let t=new RegExp("#"+o,"g");i=i.replace(t,e[o])}return i}static _addOrDelSprite(t,e){if(e)this.spriteArr.push(t);else{let e=this.spriteArr.indexOf(t);-1!==e&&this.spriteArr.splice(e,1)}}static _getSprite(t,e){this.checkInit(),cc.loader.loadRes("i18n/sprite/"+this.language+"/"+t,cc.SpriteFrame,(t,i)=>{if(t)return e(null);e(i)})}static reloadLabel(){let t="i18n/label/"+this.language;cc.loader.loadRes(t,(t,e)=>{t?(o.Log.error(t),this.labelData={}):this.labelData=e.json;for(let i of this.labelArr)i._resetValue()})}static reloadSprite(){for(let t of this.spriteArr)t._resetValue()}}i.i18nMgr=n,n.labelArr=[],n.labelData={},n.spriteArr=[],n.language="",cc._RF.pop()},{"../../utils/Log":"Log"}],i18nSprite:[function(t,e,i){"use strict";cc._RF.push(e,"0ffbcbl89xEj5yYYH4SQgf+","i18nSprite");var o=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,i,a):n(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.i18nSprite=void 0;const n=t("./i18nMgr"),{ccclass:r,property:a,executeInEditMode:s,disallowMultiple:l,requireComponent:c,menu:h}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.i18n_string=""}start(){n.i18nMgr._addOrDelSprite(this,!0),this._resetValue()}get string(){return this.i18n_string}set string(t){this.i18n_string=t;let e=this.getComponent(cc.Sprite);cc.isValid(e)&&n.i18nMgr._getSprite(t,t=>{cc.isValid(e)&&(e.spriteFrame=t)})}_resetValue(){this.string=this.i18n_string}onDestroy(){n.i18nMgr._addOrDelSprite(this,!1)}};o([a({visible:!1})],u.prototype,"i18n_string",void 0),o([a({type:cc.String})],u.prototype,"string",null),u=o([r,s,c(cc.Sprite),l,h("\u591a\u8bed\u8a00/i18nSprite")],u),i.i18nSprite=u,cc._RF.pop()},{"./i18nMgr":"i18nMgr"}],index:[function(t,e,i){"use strict";cc._RF.push(e,"c9afbUbRIVBHZBm4oMrHzcm","index");var o=this&&this.__createBinding||(Object.create?function(t,e,i,o){void 0===o&&(o=i),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,o){void 0===o&&(o=i),t[o]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||o(e,t,i)};Object.defineProperty(i,"__esModule",{value:!0}),n(t("./manager/CenterManager"),i),n(t("./manager/LayoutManager"),i),n(t("./manager/ModelManager"),i),n(t("./manager/PageViewManager"),i),n(t("./manager/ReleaseManager"),i),n(t("./manager/ScrollManager"),i),n(t("./manager/ViewManager"),i),n(t("./abstract/Group"),i),n(t("./abstract/Holder"),i),n(t("./abstract/Manager"),i),n(t("./abstract/ScrollAdapter"),i),n(t("./abstract/View"),i),n(t("./component/Indicator"),i),n(t("./component/Scrollbar"),i),n(t("./define/debug"),i),n(t("./define/enum"),i),n(t("./define/interface"),i),n(t("./help/helper"),i),cc._RF.pop()},{"./abstract/Group":"Group","./abstract/Holder":"Holder","./abstract/Manager":"Manager","./abstract/ScrollAdapter":"ScrollAdapter","./abstract/View":"View","./component/Indicator":"Indicator","./component/Scrollbar":"Scrollbar","./define/debug":"debug","./define/enum":"enum","./define/interface":"interface","./help/helper":"helper","./manager/CenterManager":"CenterManager","./manager/LayoutManager":"LayoutManager","./manager/ModelManager":"ModelManager","./manager/PageViewManager":"PageViewManager","./manager/ReleaseManager":"ReleaseManager","./manager/ScrollManager":"ScrollManager","./manager/ViewManager":"ViewManager"}],interface:[function(t,e,i){"use strict";cc._RF.push(e,"11387OmCW9JLJvJrvO9Jr6q","interface"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],xxtea:[function(t,e,i){"use strict";cc._RF.push(e,"21ad2LZoONL4bkCbIZSfGEe","xxtea"),Object.defineProperty(i,"__esModule",{value:!0}),i.xxtea=void 0;class o{constructor(){this.DELTA=2654435769}static getInstance(){return o.instance||(o.instance=new o,o.instance.initInstance()),this.instance}initInstance(){}btoa(t){var e,i,o,n,r,a,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");for(i=o=0,n=t.length,a=(n-=r=n%3)/3<<2,r>0&&(a+=4),e=new Array(a);i<n;)s=t.charCodeAt(i++)<<16|t.charCodeAt(i++)<<8|t.charCodeAt(i++),e[o++]=l[s>>18]+l[s>>12&63]+l[s>>6&63]+l[63&s];return 1==r?(s=t.charCodeAt(i++),e[o++]=l[s>>2]+l[(3&s)<<4]+"=="):2==r&&(s=t.charCodeAt(i++)<<8|t.charCodeAt(i++),e[o++]=l[s>>10]+l[s>>4&63]+l[(15&s)<<2]+"="),e.join("")}atob(t){var e,i,o,n,r,a,s,l,c,h,u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];if((s=t.length)%4!=0)return"";if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(t))return"";for(c=s,(l="="==t.charAt(s-2)?1:"="==t.charAt(s-1)?2:0)>0&&(c-=4),c=3*(c>>2)+l,h=new Array(c),r=a=0;r<s&&-1!=(e=u[t.charCodeAt(r++)])&&-1!=(i=u[t.charCodeAt(r++)])&&(h[a++]=String.fromCharCode(e<<2|(48&i)>>4),-1!=(o=u[t.charCodeAt(r++)]))&&(h[a++]=String.fromCharCode((15&i)<<4|(60&o)>>2),-1!=(n=u[t.charCodeAt(r++)]));)h[a++]=String.fromCharCode((3&o)<<6|n);return h.join("")}toBinaryString(t,e){var i=t.length,o=i<<2;if(e){var n=t[i-1];if(n<(o-=4)-3||n>o)return null;o=n}for(var r=0;r<i;r++)t[r]=String.fromCharCode(255&t[r],t[r]>>>8&255,t[r]>>>16&255,t[r]>>>24&255);var a=t.join("");return e?a.substring(0,o):a}toUint32Array(t,e){var i,o=t.length,n=o>>2;0!=(3&o)&&++n,e?(i=new Array(n+1))[n]=o:i=new Array(n);for(var r=0;r<o;++r)i[r>>2]|=t.charCodeAt(r)<<((3&r)<<3);return i}int32(t){return 4294967295&t}mx(t,e,i,o,n,r){return(i>>>5^e<<2)+(e>>>3^i<<4)^(t^e)+(r[3&o^n]^i)}fixk(t){return t.length<4&&(t.length=4),t}encryptUint32Array(t,e){var i,o,n,r,a,s,l=t.length,c=l-1;for(o=t[c],n=0,s=0|Math.floor(6+52/l);s>0;--s){for(r=(n=this.int32(n+this.DELTA))>>>2&3,a=0;a<c;++a)i=t[a+1],o=t[a]=this.int32(t[a]+this.mx(n,i,o,a,r,e));i=t[0],o=t[c]=this.int32(t[c]+this.mx(n,i,o,c,r,e))}return t}decryptUint32Array(t,e){var i,o,n,r,a,s,l=t.length,c=l-1;for(i=t[0],s=Math.floor(6+52/l),n=this.int32(s*this.DELTA);0!==n;n=this.int32(n-this.DELTA)){for(r=n>>>2&3,a=c;a>0;--a)o=t[a-1],i=t[a]=this.int32(t[a]-this.mx(n,i,o,a,r,e));o=t[c],i=t[0]=this.int32(t[0]-this.mx(n,i,o,0,r,e))}return t}utf8Encode(t){if(/^[\x00-\x7f]*$/.test(t))return t;for(var e=[],i=t.length,o=0,n=0;o<i;++o,++n){var r=t.charCodeAt(o);if(r<128)e[n]=t.charAt(o);else if(r<2048)e[n]=String.fromCharCode(192|r>>6,128|63&r);else{if(!(r<55296||r>57343)){if(o+1<i){var a=t.charCodeAt(o+1);if(r<56320&&56320<=a&&a<=57343){var s=65536+((1023&r)<<10|1023&a);e[n]=String.fromCharCode(240|s>>18&63,128|s>>12&63,128|s>>6&63,128|63&s),++o;continue}}throw new Error("Malformed string")}e[n]=String.fromCharCode(224|r>>12,128|r>>6&63,128|63&r)}}return e.join("")}utf8DecodeShortString(t,e){for(var i=new Array(e),o=0,n=0,r=t.length;o<e&&n<r;o++){var a=t.charCodeAt(n++);switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:i[o]=a;break;case 12:case 13:if(!(n<r))throw new Error("Unfinished UTF-8 octet sequence");i[o]=(31&a)<<6|63&t.charCodeAt(n++);break;case 14:if(!(n+1<r))throw new Error("Unfinished UTF-8 octet sequence");i[o]=(15&a)<<12|(63&t.charCodeAt(n++))<<6|63&t.charCodeAt(n++);break;case 15:if(!(n+2<r))throw new Error("Unfinished UTF-8 octet sequence");var s=((7&a)<<18|(63&t.charCodeAt(n++))<<12|(63&t.charCodeAt(n++))<<6|63&t.charCodeAt(n++))-65536;if(!(0<=s&&s<=1048575))throw new Error("Character outside valid Unicode range: 0x"+s.toString(16));i[o++]=s>>10&1023|55296,i[o]=1023&s|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+a.toString(16))}}return o<e&&(i.length=o),String.fromCharCode.apply(String,i)}utf8DecodeLongString(t,e){for(var i=[],o=new Array(32768),n=0,r=0,a=t.length;n<e&&r<a;n++){var s=t.charCodeAt(r++);switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o[n]=s;break;case 12:case 13:if(!(r<a))throw new Error("Unfinished UTF-8 octet sequence");o[n]=(31&s)<<6|63&t.charCodeAt(r++);break;case 14:if(!(r+1<a))throw new Error("Unfinished UTF-8 octet sequence");o[n]=(15&s)<<12|(63&t.charCodeAt(r++))<<6|63&t.charCodeAt(r++);break;case 15:if(!(r+2<a))throw new Error("Unfinished UTF-8 octet sequence");var l=((7&s)<<18|(63&t.charCodeAt(r++))<<12|(63&t.charCodeAt(r++))<<6|63&t.charCodeAt(r++))-65536;if(!(0<=l&&l<=1048575))throw new Error("Character outside valid Unicode range: 0x"+l.toString(16));o[n++]=l>>10&1023|55296,o[n]=1023&l|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+s.toString(16))}if(n>=32766){var c=n+1;o.length=c,i[i.length]=String.fromCharCode.apply(String,o),e-=c,n=-1}}return n>0&&(o.length=n,i[i.length]=String.fromCharCode.apply(String,o)),i.join("")}utf8Decode(t,e){return(null==e||e<0)&&(e=t.length),0===e?"":/^[\x00-\x7f]*$/.test(t)||!/^[\x00-\xff]*$/.test(t)?e===t.length?t:t.substr(0,e):e<32767?this.utf8DecodeShortString(t,e):this.utf8DecodeLongString(t,e)}encrypt(t,e){return null==t||0===t.length?t:(t=this.utf8Encode(t),e=this.utf8Encode(e),this.toBinaryString(this.encryptUint32Array(this.toUint32Array(t,!0),this.fixk(this.toUint32Array(e,!1))),!1))}encryptToBase64(t,e){return this.btoa(this.encrypt(t,e))}decrypt(t,e){return null==t||0===t.length?t:(e=this.utf8Encode(e),this.utf8Decode(this.toBinaryString(this.decryptUint32Array(this.toUint32Array(t,!1),this.fixk(this.toUint32Array(e,!1))),!0)))}decryptFromBase64(t,e){return null==t||0===t.length?t:this.decrypt(this.atob(t),e)}strToHexCharCode(t){for(var e,i=0,o=t.length,n="";i<o;++i)n+=(e=t.charCodeAt(i).toString(16)).length<2?"0"+e:e;return n}}i.xxtea=o,cc._RF.pop()},{}],yuyanToggleGroup:[function(t,e,i){"use strict";cc._RF.push(e,"0b050uxlP9OMb/gheOeg7cr","yuyanToggleGroup");var o=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))(function(n,r){function a(t){try{l(o.next(t))}catch(e){r(e)}}function s(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,s)}l((o=o.apply(t,e||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../../../../script/framework/i18n/i18nMgr");cc.Class({extends:cc.Component,properties:{scrollView:cc.ScrollView,buttonPrefab:cc.Prefab},onLoad(){return o(this,void 0,void 0,function*(){let{fileNames:t,jsonContents:e}=yield n.i18nMgr.getAllLanguage(),i=t;console.log("\u67e5\u770b\u6309\u94ae\u7ec4\u4ef6",t,e);let o=this.scrollView.content;i.forEach((t,i)=>{let n=cc.instantiate(this.buttonPrefab),r=n.getComponent(cc.Button).node.getComponentInChildren(cc.Label);r.string=e[i].i18n_changeLua,r.fontSize=14,n.on("click",()=>{this.onButtonClick(t,this.scrollView)},this),o.addChild(n)})})},onButtonClick(t,e){console.log("\u7ec4\u4ef6",e),console.log(`\u6309\u94ae ${t} \u88ab\u70b9\u51fb`),e.node.active=!1,n.i18nMgr.setLanguage(t)}}),cc._RF.pop()},{"../../../../script/framework/i18n/i18nMgr":"i18nMgr"}]},{},["GameController","SkeletonExt","auto_comDialog","auto_comSharePop","auto_comTips","auto_comTipsItem","auto_baoxiang","auto_choseRoomLayer","auto_gameLayer","auto_jiluItem1","auto_jiluItem2","auto_jiluItem3","auto_jiluItem4","auto_jiluItem5","auto_jiluLayer","auto_killer","auto_player","auto_playerName","auto_rankLayer","auto_weihuLayer","auto_game","Group","Holder","Manager","ScrollAdapter","View","Indicator","Scrollbar","debug","enum","interface","helper","index","CenterManager","LayoutManager","ModelManager","PageViewManager","ReleaseManager","ScrollManager","ViewManager","BhvButtonGroup","BhvFrameIndex","BhvGroupToggle","BhvRollNumber","BhvSwitchPage","VMAvatar","VMBase","VMCamera","VMCompsEdit","VMCustom","VMEvent","VMLabel","VMListViewCtrl","VMModify","VMParent","VMProgress","VMQrcode","VMState","VMTimer","VMTurntable","ViewModel","DrawBorad","DrawingBoard","FrameEventConst","ViewZorder","JsonOb","StringFormat","i18nLabel","i18nMgr","i18nSprite","JSBridgeManager","Qrcode","SingletonFactory","base64","crypto","xxtea","AudioMng","EventMng","PoolMng","UIMng","IDataModel","ISerialize","CsjTool","JgTool","H5WxSdkTool","XcxSdk","UIBase","UIHelp","VirtualItem","VirtualLayout","VirtualList","UIComDialog","UIComSharePop","UIComTips","UIComTipsItem","JiluAdapter","RankAdapter","RankPage1","RankPage2","RankPageAdapter","RankPart1","RankPart2","RankPart3","RoomCoin","UIBaoxiang","UIChoseRoomLayer","UIGameLayer","UIJiluItem1","UIJiluItem2","UIJiluItem3","UIJiluItem4","UIJiluItem5","UIJiluLayer","UIKiller","UIPlayer","UIPlayerName","UIRankLayer","UIWeihuLayer","yuyanToggleGroup","UIGame","Http","Network","SocketDelegate","Websocket","AccountModel","BaoxiangModel","ChestModel","ConfigModule","EventConst","GameDataCenter","PlayerModel","RoomChoseModel","RoomInfoModel","SocketModel","Log","Utils"]);